'use strict'
/*!
 @builder: Webfan Homepagesystem 4.0.2
 @package: frdl.js
 @site: #24
 @hash: 166.465551.fd950be43aaf844dd517e686dd75284e3e01ac95
 @build: 9c49a5df-0e4e-40e5-a66c-c36e4abf0299 
 @date: Friday 24th of May 2019 02:40:30 AM 

*/
;(function(n,f){f(n,
/*! @@_BEGIN_CONFIG_@@ */
{"ui":{"tinymce":{"defaults":{"baseURL":"\/cdn\/application\/webfan\/node_modules\/tinymce","valid_elements":"*[*]"}}},"hps":{"context":{"id_blog":"24","STAGE":"DEFAULTS","web":"1","SYSTEM_MODULE":"1912","ngAppModule":"webfan.gui"},"scriptengine":{"urls":{"baseUrl":"\/cdn\/application\/webfan\/node_modules\/","library":"\/cdn\/application\/webfan\/node_modules\/webfan\/homepagesystem.app","library_require":"webfan\/homepagesystem.app","node_modules":"\/cdn\/application\/webfan\/node_modules\/"},"hash":"166.465551.fd950be43aaf844dd517e686dd75284e3e01ac95","build":"9c49a5df-0e4e-40e5-a66c-c36e4abf0299","server":{"DNS":["de","domainundhomepagespeicher"],"tld":"de","domain":"domainundhomepagespeicher.de","subdomain":"","host":"domainundhomepagespeicher.de","port":"80","canonical":"domainundhomepagespeicher.de","ssl":"1"},"lazy":[{"name":"angular-jsonrpc-client","files":["frdlcjs!angular-jsonrpc-client\/angular-jsonrpc-client"]},{"name":"ngFileUpload","files":["webfan\/bootcache!angular-ng-file-upload\/angular-ng-file-upload"]},{"name":"frdl.rpc-cmd-component","files":["webfan\/bootcache!webfan\/navigator\/frdl-rpc-cmd-component"]},{"name":"admin.soft.form","files":["webfan\/bootcache!webfan\/hps\/system-admin-soft-form"]},{"name":"JSONedit","files":["frdlcjs!JSONedit\/component"]},{"name":"angular-terminal","files":["webfan\/bootcache!angular-terminal\/angular-terminal"]}],"lazy-jquery":[{"src":"https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/application\/webfan\/node_modules\/jquery-terminal\/js\/jquery.terminal.js","name":["terminal"],"dependencies":{"js":[],"css":["https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/application\/webfan\/node_modules\/jquery-terminal\/css\/jquery.terminal.css"]},"cache":"1"},{"src":"https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/components\/locale\/js\/localizationTool.js","name":["localizationTool","locale"],"dependencies":{"js":[],"css":["https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/components\/locale\/css\/langselect.css"]},"cache":"1"},{"src":"https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/ui\/jquery-ui.js","name":["ui","draggable","progressbar","resizable"],"dependencies":{"js":[],"css":["https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/ui\/jquery-ui.css"]},"cache":"1"},{"src":"https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/mobile\/jquery.mobile-1.4.5.js","name":["mobile","page","pagecreate","create","initializePage","pagecontainer"],"dependencies":{"js":["https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/ui\/jquery-ui.min.js"],"css":["https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/ui\/jquery-ui.min.css","https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/mobile\/css\/jquery.mobile-1.4.5.min.css","https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/mobile\/css\/jquery.mobile.structure-1.4.5.min.css","https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/mobile\/themes\/frdl3\/jquery.mobile.icons.css","https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries\/jquery\/mobile\/themes\/frdl3\/frdl-mobile-1.css"]},"cache":"1"}],"requirejs":{"context":"_","inlineRequire":"","enforceDefine":"","waitSeconds":"300","defaultPrefix":"frdlcjs","prefix":"frdlcjs","baseUrl":"https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/application\/webfan\/node_modules\/","ts":{"declarations":["plain!lib.d.ts"],"settings":{"module":"amd","canCallDefinitionSignature":"1","removeComments":"1","skipDefaultLibCheck":"","skipLibCheck":"","strict":"1","minWhitespace":"1","declarationMap":"1","diagnostics":"1","target":"ES6","esModuleInterop":"1","importHelpers":"1","traceResolution":"1","moduleGenTarget":"1","baseUrl":"https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/application\/webfan\/node_modules\/","moduleResolution":"Classic","resolve":"1"}},"map":{"com.webfan.gui":{"*":"frdlcjs!webfan\/navigator\/ui"},"vm":{"*":"feature!vm"},"angular":{"*":"webfan\/bootcache!angular-frdl"},"angularjs":{"*":"webfan\/bootcache!angular-frdl"},"*":{"bin":"https:\/\/js.frdl.de","console":"https:\/\/js.frdl.de","angular-language-picker":"angular-language-picker\/bundle-frdl-langselect-2","ui-router-visualizer":"feature!uiVisualizer","angular":"webfan\/bootcache!angular-frdl","angularjs":"webfan\/bootcache!angular-frdl"}},"paths":{"mdown":"requirejs-plugins\/src\/mdown","text":"requirejs-plugins\/lib\/text","markdownConverter":"requirejs-plugins\/lib\/Markdown.Converter","async":"requirejs-plugins\/src\/async","font":"requirejs-plugins\/src\/font","goog":"requirejs-plugins\/src\/goog","image":"requirejs-plugins\/src\/image","json":"requirejs-plugins\/src\/json","noext":"requirejs-plugins\/src\/noext","propertyParser":"requirejs-plugins\/src\/propertyParser","ts":"require-ts\/build\/frdlts","lodash":"lodash\/4.17.11-npm\/lodash","libraries":"https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/libraries","components":"https:\/\/domainundhomepagespeicher.webfan.de\/cdn\/frdl\/flow\/components","com.webfan.gui":"webfan\/navigator\/ui","com.webfan.gui.js":"webfan\/navigator\/ui","js-cache":"js-cache\/bundle\/cache","libraries\/angular\/angular-9x":"angular-frdl","feature":"feature\/feature","implementations":"webfan\/hps-features-implementation","amd-loader":"amd-loader\/frdlweb\/amd-loader","frdlcjs":"webfan\/cjs\/frdlcjs","loadPlain":"webfan\/loadPlain","plain":"webfan\/plain","loadXML":"webfan\/loadXML","lit":"webfan\/lit","jQuery":"webfan\/frdl-jQuery","mimemessage":"mimemessage\/lib\/mimemessage-build","jszip":"jszip\/dist\/jszip","http":"axios\/dist\/axios","https":"axios\/dist\/axios","request":"axios\/dist\/axios","axios":"axios\/dist\/axios","sjcl":"sjcl\/sjcl","machina":"machina\/lib\/machina"},"shim":[],"exclude":[]}},"ads":{"google":{"disable_adds":"1","google_ad_client":"ca-pub-1469410064847882"}},"dsgvo":{"question":"Cookies personalisieren?","confirm":"OK","url":"https:\/\/domainundhomepagespeicher.webfan.de\/datenschutzerklaerung.326.html","hint":"Lesen Sie die Datenschutzerkl&auml;rung und wie wir Cookies verwenden"},"rpc":{"server":{"url":"\/software-center\/modules-api\/rpc\/0.0.2\/"}},"Router":{"routes":{"\/system\/software\/":{"valid":"1","url":"\/software-center\/{cgroup}\/{mod}\/{action}\/{installation}\/{rest}","params":{"cgroup":"[^\/]++","mod":"[^\/]++","action":"[^\/]++","installation":".+?","rest":".+?"}},"@json-rpc":{"valid":"1","url":"\/software-center\/modules-api\/rpc\/{version}\/{sub}\/{rest}","params":{"version":"[0-9\\.]++","sub":".+?","rest":".+?"}},"shop.legacy":{"valid":"1","url":"\/shop\/{rest}","params":{"rest":".+?"}},"\/shop\/articles\/view\/":{"valid":"1","url":"\/homepagesystem\/{seo_name_category}\/{seo_name}\/","params":{"seo_name_category":"[a-z][a-z0-9\\-]+","seo_name":"[a-z][a-z0-9\\-]+"}},"\/shop\/articles\/category\/":{"valid":"1","url":"\/homepagesystem\/{seo_name_category}\/","params":{"seo_name_category":"[a-z][a-z0-9\\-]+"}},"\/shop\/articles\/edit\/":{"valid":"1","url":"\/homepagesystem\/{id}\/","params":{"id":"[0-9]++"}},"\/shop\/articles\/purchase\/":{"valid":"1","url":"\/homepagesystem\/{action}.html","params":{"action":"[0-9A-Za-z]++"}},"\/shop\/articles\/base\/":{"valid":"1","url":"\/homepagesystem\/","params":[]},"forum":{"valid":"1","url":"\/forum\/{rest}","params":{"rest":".+?"}},"\/whois\/1911\/":{"valid":"1","url":"\/domainverfuegbarkeit\/{host}\/{action}","params":{"host":"[^\/]++","action":"[^\/]++"}},"\/webcontainer\/@proxy\/@www\/":{"valid":"1","url":"\/be984683-bced-42c0-a5d4-fe5a297844d9\/{path}","params":{"path":".+?"}},"\/container\/write\/":{"valid":"1","url":"\/be984683-bced-42c0-a5d4-fe5a297844d9\/{path}","params":{"path":".+?"}},"\/webcontainer\/@upload\/write\/":{"valid":"1","url":"\/be984683-bced-42c0-a5d4-fe5a297844d9\/{path}","params":{"path":".+?"}},"\/webcontainer\/@upload\/delete\/":{"valid":"1","url":"\/be984683-bced-42c0-a5d4-fe5a297844d9\/{path}","params":{"path":".+?"}},"admin":{"valid":"1","url":"\/admin\/{rest}","params":{"rest":".+?"}},"account":{"valid":"1","url":"\/account\/{rest}","params":{"rest":".+?"}},"login":{"valid":"1","url":"\/account\/login\/{rest}","params":{"rest":".+?"}},"passlost":{"valid":"1","url":"\/account\/login\/passlost\/{rest}","params":{"rest":".+?"}},"home":{"valid":"1","url":"\/","params":[]}}}}})
/*! @@_END_CONFIG_@@ */
;}('Webfan',Webfan2052621558658430));
/*! @@_BEGIN_PATCH_@@ */
(function(){Webfan.module('patch.fix.templates',function(exports,req){exports.extend({$uiViewInnerWrap:'PGRpdiB1aS12aWV3PjwvZGl2Pg=='});});Webfan.module('helper',function(exports,req){'use strict';exports.extend({templater:function(templateString,templateVars){return new Function("return `"+templateString+"`;").call(templateVars);},preParseStrings:evalstrings,strpp:evalstrings});function evalstrings(js,cb){return new Promise(function(resolve,reject){require(['webfan/bootcache!lit'],function(lit){try{var ast=lit.lex(js),i=0;for(i=0;i<ast.length-1;i++){var tok=ast[i];if(2===tok.type){tok.val=Webfan.helper.templater(tok.val,frdl);tok.raw=tok.val;ast[i]=tok;}}
var neu=ast;var Source=lit.generate(neu);resolve(Source);}catch(e){reject(e);}});}).then(function(s){if('function'===typeof cb)cb(s);});}});}());if('undefined'===typeof global){var global=(new Function("return self || this")());}
if('undefined'===typeof global.isWorker){Object.defineProperty(global,'isWorker',{get:function(){console.warn('global.isWorker is deprecated, use frdl.worker instead!');return('undefined'!==typeof self&&'function'===typeof self.importScripts)?true:false;}});}
/*! @@_END_PATCH_@@ */
/*! $$ Webfan */
/*! https://github.com/mckoss/namespace/blob/master/namespace.js minor edits by frdl */
function Webfan2052621558658430(name,config){(function(n,config,global){var globalNamespace=global[n],k;var VERSION='3.0.5';function Module(payload){if(null!==payload&&'undefined'!==typeof payload&&'object'===typeof payload&&'object'===typeof Object.keys(payload)&&Object.keys(payload)instanceof Array&&true!==payload instanceof Array){this.extend(payload);}}
function Make(payload){if(null!==payload&&'undefined'!==typeof payload&&'object'===typeof payload&&'object'===typeof Object.keys(payload)&&Object.keys(payload)instanceof Array&&true!==payload instanceof Module&&true!==payload instanceof Array){return new Module(payload);}else{return payload;}}
function numeric(s){if(!s){return 0;}
var a=s.split('.');return 10000*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2]);}
if(globalNamespace){if(numeric(VERSION)<=numeric(globalNamespace['VERSION'])){return;}
Module=globalNamespace.constructor;}else{global['namespace']=globalNamespace=new Module();}
globalNamespace['VERSION']=VERSION;function Defined(path){path=path.replace(/-/g,'_');var parts=path.split('.'),i;var ns=(n===parts[0])?global:globalNamespace;for(i=0;i<parts.length;i++){ns=ns[parts[i]];if(typeof ns==='undefined'){return false;}}
return typeof ns!=='undefined';}
function Require(path){path=path.replace(/-/g,'_');var parts=path.split('.');var ns=globalNamespace,i;for(i=0;i<parts.length;i++){if(ns[parts[i]]===undefined){ns[parts[i]]=new Module();}
ns=ns[parts[i]];}
return ns;}
var proto=Module.prototype;proto['defined']=function(path){return Defined(path);};proto['module']=function(path,closure){var exports=Require(path);if(closure){closure(exports,Require);}
return exports;};proto['extend']=function(exports){var sym;for(sym in exports){if(exports.hasOwnProperty(sym)){this[sym]=Make(exports[sym]);}}};proto['isPrimitive']=function isPrimitive(val){if(typeof val==='object'){return val===null;}
return typeof val!=='function';};global[n]=globalNamespace;var f;f=(function f(config){for(k in config){global[n].module(k,function(p,r){p.extend(config[k]);});}
return f;}(config));}(name,config,new Function("return self || this")()));}
/*! $1 requirejs */
/*! https://requirejs.org/ */
/*!
Copyright jQuery Foundation and other contributors, https://jquery.org/

This software consists of voluntary contributions made by many
individuals. For exact contribution history, see the revision history
available at https://github.com/requirejs/requirejs

The following license applies to all parts of this software except as
documented below:

====

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

====

Copyright and related rights for sample code are waived via CC0. Sample
code is defined as all source code displayed within the prose of the
documentation.

CC0: http://creativecommons.org/publicdomain/zero/1.0/

====

Files located in the node_modules directory, and certain utilities used
to build or test the software in the test and dist directories, are
externally maintained libraries used by this software which have their own
licenses; we recommend you read them, as their terms may differ from the
terms above.
*/
(function(global,setTimeout){function splitPrefix(name){var prefix,index=name&&'string'===typeof name?name.indexOf('!'):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length);}
return[prefix,name];}
var requirejs,require,define,traceur,isBrowser=!!(typeof window!=='undefined'&&typeof navigator!=='undefined'&&window.document),isWebWorker=!isBrowser&&typeof importScripts!=='undefined',isWorker=(!!isWebWorker&&'undefined'!==typeof self&&'function'===typeof self.importScripts)?true:false;var hasLocalStorage=(function(){var supported=false;try{supported=window&&("localStorage"in window)&&("getItem"in localStorage);}catch(e){}
return supported;})();var hasSessionStorage=(function(){var supported=false;try{supported=window&&("sessionStorage"in window)&&("getItem"in sessionStorage);}catch(e){}
return supported;})();var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version='2.3.5-frdlweb',commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,readyRegExp=isBrowser&&navigator.platform==='PLAYSTATION 3'?/^complete$/:/^(complete|loaded)$/,defContextName='_',isOpera=typeof opera!=='undefined'&&opera.toString()==='[object Opera]',contexts={},cfg={},globalDefQueue=[],useInteractive=false;function commentReplace(match,singlePrefix){return singlePrefix||'';}
function isFunction(it){return ostring.call(it)==='[object Function]';}
function isArray(it){return ostring.call(it)==='[object Array]';}
function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1){if(ary[i]&&func(ary[i],i,ary)){break;}}}}
function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1){if(ary[i]&&func(ary[i],i,ary)){break;}}}}
function hasProp(obj,prop){return hasOwn.call(obj,prop);}
function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop];}
function eachProp(obj,func){var prop;for(prop in obj){if(hasProp(obj,prop)){if(func(obj[prop],prop)){break;}}}}
function mixin(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(force||!hasProp(target,prop)){if(deepStringMixin&&typeof value==='object'&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={};}
mixin(target[prop],value,force,deepStringMixin);}else{target[prop]=value;}}});}
return target;}
function bind(obj,fn){return function(){return fn.apply(obj,arguments);};}
function scripts(){return document.getElementsByTagName('script');}
function defaultOnError(err){if('undefined'!==typeof console){console.error(err);}else{alert('Fehler: '+err);}}
function getGlobal(value){if(!value){return value;}
var g=global;each(value.split('.'),function(part){g=g[part];});return g;}
function makeError(id,msg,err,requireModules){var e=new Error(msg+'\nhttp://requirejs.org/docs/errors.html#'+id);e.requireType=id;e.requireModules=requireModules;if(err){e.originalError=err;}
return e;}
if(typeof define!=='undefined'){return;}
if(typeof requirejs!=='undefined'){if(isFunction(requirejs)){return;}
cfg=requirejs;requirejs=undefined;}
if(typeof require!=='undefined'&&!isFunction(require)){cfg=require;require=undefined;}
function newContext(contextName){var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:'./',paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;function trimDots(ary){var i,part;for(i=0;i<ary.length;i++){part=ary[i];if(part==='.'){ary.splice(i,1);i-=1;}else if(part==='..'){if(i===0||(i===1&&ary[2]==='..')||ary[i-1]==='..'){continue;}else if(i>0){ary.splice(i-1,2);i-=2;}}}}
function normalize(name,baseName,applyMap){var pkgMain,mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,normalizedBaseParts,baseParts=(baseName&&baseName.split('/')),map=config.map,starMap=map&&map['*'];if(name){name=name.split('/');lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}
if(name[0].charAt(0)==='.'&&baseParts){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=normalizedBaseParts.concat(name);}
trimDots(name);name=name.join('/');}
if(applyMap&&map&&(baseParts||starMap)){nameParts=name.split('/');outerLoop:for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join('/');if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=getOwn(map,baseParts.slice(0,j).join('/'));if(mapValue){mapValue=getOwn(mapValue,nameSegment);if(mapValue){foundMap=mapValue;foundI=i;break outerLoop;}}}}
if(!foundStarMap&&starMap&&getOwn(starMap,nameSegment)){foundStarMap=getOwn(starMap,nameSegment);starI=i;}}
if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI;}
if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join('/');}}
pkgMain=getOwn(config.pkgs,name);return pkgMain?pkgMain:name;}
function removeScript(name){if(isBrowser){each(scripts(),function(scriptNode){if(scriptNode.getAttribute('data-requiremodule')===name&&scriptNode.getAttribute('data-requirecontext')===context.contextName){scriptNode.parentNode.removeChild(scriptNode);return true;}});}}
function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1){pathConfig.shift();context.require.undef(id);context.makeRequire(null,{skipMap:true})([id]);return true;}}
function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=true,normalizedName='';if(!name){isDefine=false;name='_@r'+(requireCounter+=1);}
nameParts=splitPrefix(name);prefix=nameParts[0];name=nameParts[1];if(prefix){prefix=normalize(prefix,parentName,applyMap);pluginModule=getOwn(defined,prefix);}
if(name){if(prefix){if(isNormalized){normalizedName=name;}else if(pluginModule&&pluginModule.normalize){normalizedName=pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap);});}else{normalizedName=name.indexOf('!')===-1?normalize(name,parentName,applyMap):name;}}else{normalizedName=normalize(name,parentName,applyMap);nameParts=splitPrefix(normalizedName);prefix=nameParts[0];normalizedName=nameParts[1];isNormalized=true;url=context.nameToUrl(normalizedName);}}
suffix=prefix&&!pluginModule&&!isNormalized?'_unnormalized'+(unnormalizedCounter+=1):'';return{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+'!'+normalizedName:normalizedName)+suffix};}
function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);if(!mod){mod=registry[id]=new context.Module(depMap);}
return mod;}
function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);if(hasProp(defined,id)&&(!mod||mod.defineEmitComplete)){if(name==='defined'){fn(defined[id]);}}else{mod=getModule(depMap);if(mod.error&&name==='error'){fn(mod.error);}else{mod.on(name,fn);}}}
function onError(err,errback){var ids=err.requireModules,notified=false;if(errback){errback(err);}else{each(ids,function(id){var mod=getOwn(registry,id);if(mod){mod.error=err;if(mod.events.error){notified=true;mod.emit('error',err);}}});if(!notified){req.onError(err);}}}
function takeGlobalQueue(){if(globalDefQueue.length){each(globalDefQueue,function(queueItem){var id=queueItem[0];if(typeof id==='string'){context.defQueueMap[id]=true;}
defQueue.push(queueItem);});globalDefQueue=[];}}
handlers={'require':function(mod){if(mod.require){return mod.require;}else{return(mod.require=context.makeRequire(mod.map));}},'exports':function(mod){mod.usingExports=true;if(mod.map.isDefine){if(mod.exports){return(defined[mod.map.id]=mod.exports);}else{return(mod.exports=defined[mod.map.id]={});}}},'module':function(mod){if(mod.module){return mod.module;}else{return(mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{};},exports:mod.exports||(mod.exports={})});}}};function cleanRegistry(id){delete registry[id];delete enabledRegistry[id];}
function breakCycle(mod,traced,processed){var id=mod.map.id;if(mod.error){mod.emit('error',mod.error);}else{traced[id]=true;each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);if(dep&&!mod.depMatched[i]&&!processed[depId]){if(getOwn(traced,depId)){mod.defineDep(i,defined[depId]);mod.check();}else{breakCycle(dep,traced,processed);}}});processed[id]=true;}}
function checkLoaded(){var err,usingPathFallback,waitInterval=config.waitSeconds*1000,expired=waitInterval&&(context.startTime+waitInterval)<(new Date()).getTime(),noLoads=[],reqCalls=[],stillLoading=false,needCycleCheck=true;if(inCheckLoaded){return;}
inCheckLoaded=true;eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(!mod.enabled){return;}
if(!map.isDefine){reqCalls.push(mod);}
if(!mod.error){if(!mod.inited&&expired){if(hasPathFallback(modId)){usingPathFallback=true;stillLoading=true;}else{noLoads.push(modId);removeScript(modId);}}else if(!mod.inited&&mod.fetched&&map.isDefine){stillLoading=true;if(!map.prefix){return(needCycleCheck=false);}}}});if(expired&&noLoads.length){err=makeError('timeout','Load timeout for modules: '+noLoads,null,noLoads);err.contextName=context.contextName;return onError(err);}
if(needCycleCheck){each(reqCalls,function(mod){breakCycle(mod,{},{});});}
if((!expired||usingPathFallback)&&stillLoading){if((isBrowser||isWebWorker)&&!checkLoadedTimeoutId){checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0;checkLoaded();},50);}}
inCheckLoaded=false;}
Module=function(map){this.events=getOwn(undefEvents,map.id)||{};this.map=map;this.shim=getOwn(config.shim,map.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0;};Module.prototype={init:function(depMaps,factory,errback,options){options=options||{};if(this.inited){return;}
this.factory=factory;if(errback){this.on('error',errback);}else if(this.events.error){errback=bind(this,function(err){this.emit('error',err);});}
this.depMaps=!!isArray(depMaps)&&depMaps.slice(0);this.errback=errback;this.inited=true;this.ignore=options.ignore;if(options.enabled||this.enabled){this.enable();}else{this.check();}},defineDep:function(i,depExports){if(!this.depMatched[i]){this.depMatched[i]=true;this.depCount-=1;this.depExports[i]=depExports;}},fetch:function(){if(this.fetched){return;}
this.fetched=true;context.startTime=(new Date()).getTime();var map=this.map;if(this.shim){context.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load();}));}else{return map.prefix?this.callPlugin():this.load();}},load:function(){var url=this.map.url;if(!urlFetched[url]){urlFetched[url]=true;context.load(this.map.id,url);}},check:function(){if(!this.enabled||this.enabling){return;}
var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(!this.inited){if(!hasProp(context.defQueueMap,id)){this.fetch();}}else if(this.error){this.emit('error',this.error);}else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(factory)){if((this.events.error&&this.map.isDefine)||req.onError!==defaultOnError){try{exports=context.execCb(id,factory,depExports,exports);}catch(e){err=e;}}else{exports=context.execCb(id,factory,depExports,exports);}
if(this.map.isDefine&&exports===undefined){cjsModule=this.module;if(cjsModule){exports=cjsModule.exports;}else if(this.usingExports){exports=this.exports;}}
if(err){err.requireMap=this.map;err.requireModules=this.map.isDefine?[this.map.id]:null;err.requireType=this.map.isDefine?'define':'require';return onError((this.error=err));}}else{exports=factory;}
this.exports=exports;if(this.map.isDefine&&!this.ignore){defined[id]=exports;if(req.onResourceLoad){var resLoadMaps=[];each(this.depMaps,function(depMap){resLoadMaps.push(depMap.normalizedMap||depMap);});req.onResourceLoad(context,this.map,resLoadMaps);}}
cleanRegistry(id);this.defined=true;}
this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit('defined',this.exports);this.defineEmitComplete=true;}}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap);on(pluginMap,'defined',bind(this,function(plugin){var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if('undefined'!==typeof plugin&&plugin.normalize){name=plugin.normalize(name,function(name){return normalize(name,parentName,true);})||'';}
normalizedMap=makeModuleMap(map.prefix+'!'+name,this.map.parentMap,true);on(normalizedMap,'defined',bind(this,function(value){this.map.normalizedMap=normalizedMap;this.init([],function(){return value;},null,{enabled:true,ignore:true});}));normalizedMod=getOwn(registry,normalizedMap.id);if(normalizedMod){this.depMaps.push(normalizedMap);if(this.events.error){normalizedMod.on('error',bind(this,function(err){this.emit('error',err);}));}
normalizedMod.enable();}
return;}
if(bundleId){this.map.url=context.nameToUrl(bundleId);this.load();return;}
load=bind(this,function(value){this.init([],function(){return value;},null,{enabled:true});});load.error=bind(this,function(err){this.inited=true;this.error=err;err.requireModules=[id];eachProp(registry,function(mod){if(mod.map.id.indexOf(id+'_unnormalized')===0){cleanRegistry(mod.map.id);}});onError(err);});load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;if(textAlt){text=textAlt;}
if(hasInteractive){useInteractive=false;}
getModule(moduleMap);if(hasProp(config.config,id)){config.config[moduleName]=config.config[id];}
try{req.exec(text);}catch(e){return onError(makeError('fromtexteval','fromText eval for '+id+' failed: '+e,e,[id]));}
if(hasInteractive){useInteractive=true;}
this.depMaps.push(moduleMap);context.completeLoad(moduleName);localRequire([moduleName],load);});try{plugin.load(map.name,localRequire,load,config);}catch(e){console.log('error',e);}}));context.enable(pluginMap,this);this.pluginMaps[pluginMap.id]=pluginMap;},enable:function(){enabledRegistry[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if(typeof depMap==='string'){depMap=makeModuleMap(depMap,(this.map.isDefine?this.map:this.map.parentMap),false,!this.skipMap);this.depMaps[i]=depMap;handler=getOwn(handlers,depMap.id);if(handler){this.depExports[i]=handler(this);return;}
this.depCount+=1;on(depMap,'defined',bind(this,function(depExports){if(this.undefed){return;}
this.defineDep(i,depExports);this.check();}));if(this.errback){on(depMap,'error',bind(this,this.errback));}else if(this.events.error){on(depMap,'error',bind(this,function(err){this.emit('error',err);}));}}
id=depMap.id;mod=registry[id];if(!hasProp(handlers,id)&&mod&&!mod.enabled){context.enable(depMap,this);}}));eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);if(mod&&!mod.enabled){context.enable(pluginMap,this);}}));this.enabling=false;this.check();},on:function(name,cb){var cbs=this.events[name];if(!cbs){cbs=this.events[name]=[];}
cbs.push(cb);},emit:function(name,evt){each(this.events[name],function(cb){cb(evt);});if(name==='error'){delete this.events[name];}
if('undefined'!==typeof require.state&&'function'===typeof require.state.emit){require.state.emit('requirejs:'+name,evt);require.state.emit('requirejs',{name:name,event:evt});}}};function callGetModule(args){if(!hasProp(defined,args[0])){getModule(makeModuleMap(args[0],null,true)).init(args[1],args[2]);}}
function removeListener(node,func,name,ieName){if(node.detachEvent&&!isOpera){if(ieName){node.detachEvent(ieName,func);}}else{node.removeEventListener(name,func,false);}}
function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;removeListener(node,context.onScriptLoad,'load','onreadystatechange');removeListener(node,context.onScriptError,'error');return{node:node,id:node&&node.getAttribute('data-requiremodule')};}
function intakeDefines(){var args;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){onError(makeError('mismatch','Mismatched anonymous define() module: '+JSON.stringify({urlFetched:urlFetched,context:context.toString(),args:args.toString(),defQueue:defQueue.toString()})));}else{callGetModule(args);}}
context.defQueueMap={};}
context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,defQueueMap:{},Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,onError:onError,configure:function(cfg){if(cfg.baseUrl){if(cfg.baseUrl.charAt(cfg.baseUrl.length-1)!=='/'){cfg.baseUrl+='/';}}
if(typeof cfg.urlArgs==='string'){var urlArgs=cfg.urlArgs;cfg.urlArgs=function(id,url){return(url.indexOf('?')===-1?'?':'&')+urlArgs;};}
var shim=config.shim,objs={paths:true,bundles:true,config:true,map:true};eachProp(cfg,function(value,prop){if(objs[prop]){if(!config[prop]){config[prop]={};}
mixin(config[prop],value,true,true);}else{config[prop]=value;}});if(cfg.bundles){eachProp(cfg.bundles,function(value,prop){each(value,function(v){if(v!==prop){bundlesMap[v]=prop;}});});}
if(cfg.shim){eachProp(cfg.shim,function(value,id){if(isArray(value)){value={deps:value};}
if((value.exports||value.init)&&!value.exportsFn){value.exportsFn=context.makeShimExports(value);}
shim[id]=value;});config.shim=shim;}
if(cfg.packages){each(cfg.packages,function(pkgObj){var location,name;pkgObj=typeof pkgObj==='string'?{name:pkgObj}:pkgObj;name=pkgObj.name;location=pkgObj.location;if(location){config.paths[name]=pkgObj.location;}
config.pkgs[name]=pkgObj.name+'/'+(pkgObj.main||'main').replace(currDirRegExp,'').replace(jsSuffixRegExp,'');});}
eachProp(registry,function(mod,id){if(!mod.inited&&!mod.map.unnormalized){mod.map=makeModuleMap(id,null,true);}});if(cfg.deps||cfg.callback){context.require(cfg.deps||[],cfg.callback);}},makeShimExports:function(value){function fn(){var ret;if(value.init){ret=value.init.apply(global,arguments);}
return ret||(value.exports&&getGlobal(value.exports));}
return fn;},makeRequire:function(relMap,options){options=options||{};function localRequire(deps,callback,errback){var id,map,requireMod;if(options.enableBuildCallback&&callback&&isFunction(callback)){callback.__requireJsBuild=true;}
if(typeof deps==='string'){if(isFunction(callback)){return localRequire([deps],callback,errback);}
if(relMap&&hasProp(handlers,deps)){return handlers[deps](registry[relMap.id]);}
if(req.get){return req.get(context,deps,relMap,localRequire);}
map=makeModuleMap(deps,relMap,false,true);id=map.id;if(!hasProp(defined,id)){var __res=splitPrefix(id);if('string'!==typeof __res[0]&&map.id===id&&map.originalName===map.name&&map.name===id){__res[0]='frdlcjs';}
var __deps=[];__deps.push('require');__deps.push('exports');__deps.push('module');__deps.push((('string'===typeof __res[0]&&null!==__res[0])?(__res[0]+'!'):'')
+__res[1]);__deps.push(id);__deps.push(map.id);__deps.push(map.name||map.originalName);req(__deps)(function(require,exports,module){console.log('try frdl.req2: ',arguments);});setTimeout(function(){},0);postMessage('tick',location.origin);return localRequire(__deps,callback,errback);}
return defined[id];}
intakeDefines();context.nextTick(function(){intakeDefines();requireMod=getModule(makeModuleMap(null,relMap));requireMod.skipMap=options.skipMap;requireMod.init(deps,callback,errback,{enabled:true});checkLoaded();});return localRequire;}
mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf('.'),segment=moduleNamePlusExt.split('/')[0],isRelative=segment==='.'||segment==='..';if(index!==-1&&(!isRelative||index>1)){ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length);moduleNamePlusExt=moduleNamePlusExt.substring(0,index);}
return context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,true),ext,true);},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,false,true).id);},specified:function(id){id=makeModuleMap(id,relMap,false,true).id;return hasProp(defined,id)||hasProp(registry,id);}});if(!relMap){localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,true),mod=getOwn(registry,id);mod.undefed=true;removeScript(id);delete defined[id];delete urlFetched[map.url];delete undefEvents[id];eachReverse(defQueue,function(args,i){if(args[0]===id){defQueue.splice(i,1);}});delete context.defQueueMap[id];if(mod){if(mod.events.defined){undefEvents[id]=mod.events;}
cleanRegistry(id);}};}
return localRequire;},enable:function(depMap){var mod=getOwn(registry,depMap.id);if(mod){getModule(depMap).enable();}},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){args[0]=moduleName;if(found){break;}
found=true;}else if(args[0]===moduleName){found=true;}
callGetModule(args);}
context.defQueueMap={};mod=getOwn(registry,moduleName);if(!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(config.enforceDefine&&(!shExports||!getGlobal(shExports))){if(hasPathFallback(moduleName)){return;}else{return onError(makeError('nodefine','No define call for '+moduleName,null,[moduleName]));}}else{callGetModule([moduleName,(shim.deps||[]),shim.exportsFn]);}}
checkLoaded();},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain){moduleName=pkgMain;}
bundleId=getOwn(bundlesMap,moduleName);if(bundleId){return context.nameToUrl(bundleId,ext,skipExt);}
if(req.jsExtRegExp.test(moduleName)){url=moduleName+(ext||'');}else{paths=config.paths;syms=moduleName.split('/');for(i=syms.length;i>0;i-=1){parentModule=syms.slice(0,i).join('/');parentPath=getOwn(paths,parentModule);if(parentPath){if(isArray(parentPath)){parentPath=parentPath[0];}
syms.splice(0,i,parentPath);break;}}
url=syms.join('/');url+=(ext||(/^data\:|^blob\:|\?/.test(url)||skipExt?'':'.js'));url=(url.charAt(0)==='/'||url.match(/^[\w\+\.\-]+:/)?'':config.baseUrl)+url;}
return config.urlArgs&&!new RegExp("^blob\:").test(url)?url+config.urlArgs(moduleName,url):url;},load:function(id,url){req.load(context,id,url);},execCb:function(name,callback,args,exports){if('undefined'!==typeof require.state&&'function'===typeof require.state.emit){require.state.emit('module loaded : '+name,{name:name,callback:callback,args:args,exports:exports});require.state.emit('module loaded',{name:name,callback:callback,args:args,exports:exports});require.state.emit('module executed',{name:name,callback:callback,args:args,exports:exports});}
if('undefined'===typeof require.buildCache[name]){Object.defineProperty(require.buildCache,name,{'get':function(){return exports;}});}
return callback.apply(exports,args);},onScriptLoad:function(evt){if(evt.type==='load'||(readyRegExp.test((evt.currentTarget||evt.srcElement).readyState))){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id);}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id)){var parents=[];eachProp(registry,function(value,key){if(key.indexOf('_@r')!==0){each(value.depMaps,function(depMap){if(depMap.id===data.id){parents.push(key);return true;}});}});if('undefined'!==typeof require.state&&'function'===typeof require.state.emit){require.state.emit('error','Script error for "'+data.id+
(parents.length?'", needed by: '+parents.join(', '):'"'),evt,[data.id]);}
return onError(makeError('scripterror','Script error for "'+data.id+
(parents.length?'", needed by: '+parents.join(', '):'"'),evt,[data.id]));}}};context.require=context.makeRequire();return context;}
req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;if(!isArray(deps)&&typeof deps!=='string'){config=deps;if(isArray(callback)){deps=callback;callback=errback;errback=optional;}else{deps=[];}}
if(config&&config.context){contextName=config.context;}
context=getOwn(contexts,contextName);if(!context){context=contexts[contextName]=req.s.newContext(contextName);}
if(config){context.configure(config);}
return context.require(deps,callback,errback);};req.config=function(config){return req(config);};req.nextTick=typeof process!=='undefined'&&typeof process.nextTick==='function'?function(fn){process.nextTick(function(){fn();});}:(typeof setTimeout!=='undefined'?function(fn){if(typeof process!=='undefined'&&typeof process.nextTick==='function'){process.nextTick(function(){fn();});}else{setTimeout(fn,1);}}:function(fn){fn();});if(!require){require=req;}
req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(['toUrl','undef','defined','specified'],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments);};});if(isBrowser&&!isWorker){head=s.head=document.getElementsByTagName('head')[0];baseElement=document.getElementsByTagName('base')[0];if(baseElement){head=s.head=baseElement.parentNode;}}
req.onError=defaultOnError;req.createNode=function(config,moduleName,url){var node=config.xhtml?document.createElementNS('http://www.w3.org/1999/xhtml','html:script'):document.createElement('script');node.type=config.scriptType||'text/javascript';node.charset='utf-8';node.async=true;return node;};req.load=function(context,moduleName,url){url=url.replace(/blob\:\/\//,location.protocol+'//');url=url.replace(/http\:\/\//,location.protocol+'//');var config=(context&&context.config)||{},node;if(isBrowser){node=req.createNode(config,moduleName,url);node.setAttribute('data-requirecontext',context.contextName);node.setAttribute('data-requiremodule',moduleName);if(node.attachEvent&&!(node.attachEvent.toString&&node.attachEvent.toString().indexOf('[native code')<0)&&!isOpera){useInteractive=true;node.attachEvent('onreadystatechange',context.onScriptLoad);}else{node.addEventListener('load',context.onScriptLoad,false);node.addEventListener('error',context.onScriptError,false);}
node.src=url;if(config.onNodeCreated){config.onNodeCreated(node,config,moduleName,url);}
currentlyAddingScript=node;if(baseElement){head.insertBefore(node,baseElement);}else{try{head.appendChild(node);}catch(err){alert(err);}}
currentlyAddingScript=null;return node;}else if(isWebWorker){try{setTimeout(function(){},0);importScripts(url.replace(/blob\:\/\//,location.protocol+'//'));context.completeLoad(moduleName);}catch(e){context.onError(makeError('importscripts','importScripts failed for '+
moduleName+' at '+url,e,[moduleName]));}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==='interactive'){return interactiveScript;}
eachReverse(scripts(),function(script){if(script.readyState==='interactive'){return(interactiveScript=script);}});return interactiveScript;}
if(isBrowser&&!cfg.skipDataMain){eachReverse(scripts(),function(script){if(!head){head=script.parentNode;}
dataMain=script.getAttribute('data-main');if(dataMain){mainScript=dataMain;if(!cfg.baseUrl&&mainScript.indexOf('!')===-1){src=mainScript.split('/');mainScript=src.pop();subPath=src.length?src.join('/')+'/':'./';cfg.baseUrl=subPath;}
mainScript=mainScript.replace(jsSuffixRegExp,'');if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain;}
cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true;}});}
define=function(name,deps,callback){var node,context;if('undefined'!==typeof require.state&&'function'===typeof require.state.emit){require.state.emit('before.define : '+name,{name:name,deps:deps,context:context,callback:callback});require.state.emit('before.define',{name:name,deps:deps,context:context,callback:callback});}
if(typeof name!=='string'){callback=deps;deps=name;name=null;}
if(!isArray(deps)){callback=deps;deps=null;}
if(!deps&&isFunction(callback)){deps=[];if(callback.length){callback.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(match,dep){deps.push(dep);});deps=(callback.length===1?['require']:['require','exports','module']).concat(deps);}}
if(useInteractive){node=currentlyAddingScript||getInteractiveScript();if(node){if(!name){name=node.getAttribute('data-requiremodule');}
context=contexts[node.getAttribute('data-requirecontext')];}}
if(context){context.defQueue.push([name,deps,callback]);context.defQueueMap[name]=true;}else{globalDefQueue.push([name,deps,callback]);}
if('undefined'!==typeof require.state&&'function'===typeof require.state.emit){require.state.emit('defined : '+name,{name:name,deps:deps,context:context,callback:callback});require.state.emit('defined',{name:name,deps:deps,context:context,callback:callback});require.state.emit('module loaded : '+name,{name:name,deps:deps,context:context,callback:callback});}};define.amd={jQuery:true,frdl:{version:false}};function execEvalFallback(js){if('string'!==typeof js){return eval(js);}
if('undefined'===typeof frdl||!require.defined('vm')){return eval(js);}
var vm=false;if((require.defined('vm')&&require('vm'))&&require.defined('vm')){vm=require('vm');}else if((require.defined('webfan/vm')&&require('webfan/vm'))&&require.defined('webfan/vm')){vm=require('webfan/vm');}
if(false!==vm){try{var context,config,contextName=defContextName;if(config&&config.context){contextName=config.context;}
context=getOwn(contexts,contextName);if(!context){context=contexts[contextName]=req.s.newContext(contextName);}
if(config){context.configure(config);}
var script=vm.createScript(js,{compile:function(c){return c;}});var ctx=vm.createContext({frdl:frdl,Webfan:Webfan,global:global,define:define,require:require});return script.runInContext(ctx);}catch(eRoRr){console.log('Error: '+eRoRr.toString()+' '+js);return eval(js);}}else if(isBrowser){return eval(js);}else if(isWebWorker){return eval(js);}else{return eval(js);}}
req.exec=function(text){return execEvalFallback(text);};req.buildCache={};req.splitPrefix=splitPrefix;req(cfg);(function(require){var f=[];function r(){}
require.ready=function(fn){require(['process'],function(process){if('function'===typeof process.ready){process.ready(fn);}else{process.nextTick(function(){process.nextTick(function(){process.nextTick(function(){process.ready(fn);});});});}});};}(require));global.requirejs=requirejs;global.require=require;global.define=define;if('undefined'!==typeof global.Webfan){define('Webfan',function(){return global.Webfan;});}}(new Function("return self || this")(),(typeof setTimeout==='undefined'?undefined:setTimeout)));
/*! $2 webfan/hps-config */
(function(){'use strict';require.config(Webfan.hps.scriptengine.requirejs);}());
/*! $3 frdlweb/amd-loader */
define('amd-loader/frdlweb/amd-loader',function(){var precompiled,isBrowser=!!(typeof window!=='undefined'&&typeof navigator!=='undefined'&&window.document),isWebWorker=!isBrowser&&typeof importScripts!=='undefined',CONTEXTNAME='_';var hasSessionStorage=(function(){var supported=false;try{supported=window&&("sessionStorage"in window)&&("getItem"in sessionStorage);}catch(e){}
return supported;})();var hasLocalStorage=(function(){var supported=false;try{supported=window&&("localStorage"in window)&&("getItem"in localStorage);}catch(e){}
return supported;})();var loader=function(pluginId,ext,allowExts,compile){if(arguments.length===3){compile=allowExts;allowExts=undefined;}
else if(arguments.length===2){compile=ext;ext=allowExts=undefined;}
var myPluginLoader={load:function(name,req,load,config){var self=this,CONTEXTNAME='_';var path=req.toUrl(name);var queryString='';if(path.indexOf('?')!=-1){queryString=path.substr(path.indexOf('?'));path=path.substr(0,path.length-queryString.length);}
if(config.precompiled instanceof Array){for(var i=0;i<config.precompiled.length;i++)
if(path.substr(0,config.precompiled[i].length)==config.precompiled[i])
return require([path+'.'+pluginId+'.js'+queryString],load,load.error);}
else if(config.precompiled===true)
return require([path+'.'+pluginId+'.js'+queryString],load,load.error);if(ext&&name.substr(0,1)!='/'&&!name.match(/:\/\//)){var validExt=false;if(allowExts){for(var i=0;i<allowExts.length;i++){if(name.substr(name.length-allowExts[i].length-1)=='.'+allowExts[i])
validExt=true;}}
if(!validExt)
path+='.'+ext+queryString;else
path+=queryString;}
else{path+=queryString;}
if('undefined'!==typeof self.buildCache[path]){if(typeof self.buildCache[path]==='string'){load.fromText(self.buildCache[path]);}else{load(self.buildCache[path]);}
return;}
if('undefined'!==typeof self.buildCache[name]){if(typeof self.buildCache[name]==='string'){load.fromText(self.buildCache[name]);}else{load(self.buildCache[name]);}
return;}
if('undefined'!==typeof self.buildCache[pluginId+'!'+name]){if(typeof self.buildCache[pluginId+'!'+name]==='string'){load.fromText(self.buildCache[pluginId+'!'+name]);}else{load(self.buildCache[pluginId+'!'+name]);}
return;}
if(require.defined(name)||'undefined'!==typeof require.s.contexts[CONTEXTNAME].defined[name]){req([name],function(content){load(content);});return;}
loader.fetch(path,function(source){compile(name,source,req,function(compiled){if('undefined'===typeof self.buildCache[name])
Object.defineProperty(self.buildCache,name,{get:function(){return compiled;}});if('undefined'===typeof self.buildCache[pluginId+'!'+name])
Object.defineProperty(self.buildCache,pluginId+'!'+name,{get:function(){return compiled;}});if('undefined'===typeof self.buildCache[path])
Object.defineProperty(self.buildCache,path,{get:function(){return compiled;}});if(typeof compiled==='string'){load.fromText(compiled);}else{load(compiled);}},load.error,config);},load.error);},write:function(pluginName,moduleName,write){var compiled=this.buildCache[moduleName];if(compiled)
write.asModule(pluginName+'!'+moduleName,compiled);},writeFile:function(pluginName,name,req,write){write.asModule(pluginName+'!'+name,req.toUrl(name+'.'+pluginId+'.js'),this.buildCache[name]);}};Object.defineProperty(myPluginLoader,'buildCache',{get:function(){return require.buildCache;}});return myPluginLoader;};if(typeof window!=='undefined'){var progIds=['Msxml2.XMLHTTP','Microsoft.XMLHTTP','Msxml2.XMLHTTP.4.0'];var getXhr=function(path){var sameDomain=true,domainCheck=/^(\w+:)?\/\/([^\/]+)/.exec(path);if(typeof window!='undefined'&&domainCheck){sameDomain=domainCheck[2]===window.location.host;if(domainCheck[1])
sameDomain&=domainCheck[1]===window.location.protocol;}
var xhr;if(typeof XMLHttpRequest!=='undefined')
xhr=new XMLHttpRequest();else{var progId;for(var i=0;i<3;i+=1){progId=progIds[i];try{xhr=new ActiveXObject(progId);}
catch(e){}
if(xhr){progIds=[progId];break;}}}
if(!sameDomain){if(typeof XDomainRequest!=='undefined')
xhr=new XDomainRequest();else if(!('withCredentials'in xhr))
if(!isWebWorker&&!!isBrowser){xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');var csrfToken=false;document.querySelectorAll('meta[name*="token"], *[name*="forgery"], *[name*="csrf"]').forEach(function(tokEl,pos,listArray){if(tokEl.hasAttribute('content')){csrfToken=tokEl.getAttribute('content');}});if(false!==csrfToken){xhr.setRequestHeader('X-CSRF-Token',csrfToken);}}}
if(!xhr)
throw new Error('getXhr(): XMLHttpRequest not available');return xhr;};loader.fetch=function(url,callback,errback){url=url.replace(/blob\:\/\//,location.protocol+'//');url=url.replace(/http\:\/\//,location.protocol+'//');var xhr=getXhr(url);xhr.open('GET',url,!requirejs.inlineRequire);xhr.onreadystatechange=function(evt){var status,err;if(xhr.readyState===4){status=xhr.status;if(status>399&&status<600&&status!==204){err=new Error(url+' HTTP status: '+status);err.xhr=xhr;if(errback)
errback(err);}
else{if(xhr.responseText==='')
return errback(new Error(url+' empty response'));if(!!hasLocalStorage){localStorage.setItem(url+'#mime',xhr.getResponseHeader("Content-Type"));}
callback(xhr.responseText);}}};xhr.send(null);}}
else if(typeof process!=='undefined'&&process.versions&&!!process.versions.node){var fs=requirejs.nodeRequire('fs');loader.fetch=function(path,callback){callback(fs.readFileSync(path,'utf8'));}}
else if(typeof Packages!=='undefined'){loader.fetch=function(path,callback,errback){var stringBuffer,line,encoding='utf-8',file=new java.io.File(path),lineSeparator=java.lang.System.getProperty('line.separator'),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),content='';try{stringBuffer=new java.lang.StringBuffer();line=input.readLine();if(line&&line.length()&&line.charAt(0)===0xfeff){line=line.substring(1);}
stringBuffer.append(line);while((line=input.readLine())!==null){stringBuffer.append(lineSeparator);stringBuffer.append(line);}
content=String(stringBuffer.toString());}
catch(err){if(errback)
errback(err);}
finally{input.close();}
callback(content);}}
else{loader.fetch=function(){throw new Error('Environment unsupported.');}}
return loader;});
/*! $4 amd-loader */
define('amd-loader',['amd-loader/frdlweb/amd-loader'],function(amd){return amd;});
/*! $5 cjs/frdlcjs */
/*!# @license webfan (C) Till Wehowski, Webfan.de - All rights reserved. !*/
define('webfan/cjs/frdlcjs',['webfan/bootcache!webfan/es6-compiler','filer','fs','amd-loader','webfan/bootcache!lit','feature!vm','process','clone','extend','base64_encode','base64_decode','base64_detect','url','path','explode'],function(traceur,filer,fs,amdL,Lit,vm,process,clone,extend,base64_encode,base64_decode,base64_detect,url,path,explode){var CONTEXTNAME='_';var pluginId='frdlcjs';var URL=global.URL||global.webkitURL;var requestFileSystem=global.requestFileSystem||global.webkitRequestFileSystem;var resolveLocalFileSystemURL=global.resolveLocalFileSystemURL||global.webkitResolveLocalFileSystemURL;navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage;navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage;var BlobBuilder=global.BlobBuilder||global.MozBlobBuilder||global.WebKitBlobBuilder;var FSCacheDir='/cache/';var cachedirCreated=false;let getFSFilename=function(url,dir){return(true===dir)?FSCacheDir:''+url.length+'.'+str_replace('=','',base64_encode(url))+'.cache';};var hasLocalStorage=(function(){var supported=false;try{supported=window&&("localStorage"in window)&&("getItem"in localStorage);}catch(e){}
return supported;})();requirejs.config({map:{'webfan/bootcache':{'*':'frdlcjs'}}});var CACHE_LIMIT_LOCAL_STORAGE=24*60*60*1000;var ext='js';var cjsRequireRegExp=/\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g;var amdLoader=clone(amdL);var plugin=amdLoader(pluginId,ext,['js'],function(name,source,req,callback,errback,config){function parse_require_calls(Source){var d=[];Source=str_replace(preg_quote('#! /usr/bin/env node'),'',Source);var lit=clone(Lit);lit.opts.identify_number_literals=true;lit.opts.identify_simple_literals=true;lit.opts.overlook_html_comment_markers=true;var ast=lit.lex(Source);var i=0,t=false,tok=false,Toks=[];var _regex=new RegExp("([^\n\,\;\!\?\s\{\}\=]+)",'i');var requiredUrls=[],defineCalls=[],reqUrl=false,requireCall=false,defineCall=false;for(i=0;i<ast.length-1;i++){Toks=[];tok=ast[i];if(0===tok.type){t=tok.val.split(_regex);t.forEach(function(t,i){if(''!==t&&' '!==t)
Toks.push(t);});if('require('===Toks[Toks.length-1]){if(2===ast[i+1].type){reqUrl=ast[i+1].val.substr(1,ast[i+1].val.length-2);if(')'===ast[i+2].val.substr(0,1)||','===ast[i+2].val.substr(0,1)){requireCall={returnTok:Toks[Toks.length-2],url:reqUrl,AstPosition:i+1};requiredUrls.push(requireCall);}}}else if('define'===tok.val.substr(0,'define'.length)){defineCall={token:tok};defineCalls.push(defineCall);}}}
var CompilerConfig={es6:true,defaultPlugin:'frdlcjs',defineWrap:true};var comment_lines=[];var compiler_comments_directives=[];ast.forEach(function(a,i){if(1!==parseInt(a.type))return;a.val.split(/[\r\n\t]+/).forEach(function(c,j){comment_lines.push(c);if(false!==strpos(c,'@')){c.replace(/@\s?([\(\)\{\}\.\-_\w^@\>\<]+)\s?:?([\(\)\.\-_\>\<@\s\w]+)/g,function(match,_type,_value,pos,all){var Com={type:_type.trim(),value:_value.trim()};compiler_comments_directives.push(Com);return match+'\n'+JSON.stringify(Com)+'\n';});}});});compiler_comments_directives.forEach(function(d,i){if('no'===d.value.toLowerCase()||'false'===d.value.toLowerCase()||0===parseInt(d.value)){d.value=false;}else if('yes'===d.value.toLowerCase()||'true'===d.value.toLowerCase()||1===parseInt(d.value)){d.value=true;}
var p=explode('.',d.type);if(p.length===5&&'frdl'===p[0]&&'Frdlweb'===p[1]&&'js'===p[2]&&'Compiler'===p[3]){CompilerConfig[p[4]]=d.value;}});if(false!==CompilerConfig.defaultPlugin){requiredUrls.forEach(function(r,i){var tok=CompilerConfig.defaultPlugin+'!';if(tok!==r.url.substr(0,tok.length)){var nUrl=tok+r.url;ast[parseInt(r.AstPosition)].val=str_replace(requiredUrls[i].url,nUrl,ast[parseInt(r.AstPosition)].val);}});}
Source=lit.generate(ast);if((true===CompilerConfig.defineWrap&&0===defineCalls.length&&false===strpos(Source,'define')&&false!==strpos(Source,'exports'))){var f=require.s.contexts._.nameToUrl(name,'.js','.app');var d=path.parse(f).dir;Source='define( "'+name+'", ["require",  "exports",   "module"], function( require,exports,  module){\n'
+'if("undefined"===typeof module)var module = {};\n'
+'var __filename = "'+f+'";\n'
+'var __dirname = "'+d+'";\n'
+'\n'+Source+'\n});\n//# sourceURL='+str_replace('.app.js','.app',f)+'\n';console.log('No dedfine call ',Source,CompilerConfig,defineCalls,strpos('exports',Source));}else{Source=Source;}
if(true!==!!CompilerConfig.es6){var source=Source;}else{var url=str_replace('.app.js','.app',require.s.contexts._.nameToUrl(name,'.js','.app'));var project=new traceur.semantics.symbols.Project(url);traceur.options.sourceMaps=false;traceur.options.debug=true;traceur.options.experimental=false;traceur.options.unstarredGenerators=true;traceur.options.generators=true;traceur.options.privateNameSyntax=true;traceur.options.privateNames=true;traceur.options.types=true;traceur.options.strict=true;var reporter=new traceur.util.ErrorReporter();reporter.reportMessageInternal=function(location,kind,format,args){console.error(kind+'\n '+location+'\n '+format+'\n '+args+'\n');console.log('es6Transpile -> reportMessageInternal',{kind:kind,location:location,format:format,args:args});};try{var source=Source;var sourceFile=new traceur.syntax.SourceFile(name,source);project.addFile(sourceFile);var res=traceur.codegeneration.Compiler.compile(reporter,project,false);var options;if(true===traceur.options.sourceMaps){var config={file:require.s.contexts._.nameToUrl(name,'.js','.app')};var sourceMapGenerator=new traceur.outputgeneration.SourceMapGenerator(config);options={sourceMapGenerator:sourceMapGenerator};}
source=traceur.outputgeneration.ProjectWriter.write(res,options);if(true===traceur.options.sourceMaps){var sourceMap=JSON.parse(options.sourceMap);source+='\n//# sourceMappingURL=data:application/json;base64,'+base64_encode(JSON.stringify(options.sourceMap));source+='\n';}}catch(err){console.warn('Error transpiling from es6 : '+name+'  '+err);var source=Source;}}
return{source:source,requiredUrls:requiredUrls,countDefineCalls:defineCalls.length};}
function runIt(c,runItCallback){function compile(s){var _url=str_replace('.app.js','.app',require.s.contexts._.nameToUrl(name,'.js','.app'));var parsed=false,mime=localStorage.getItem(_url+'#mime');if(null!==mime){mime=explode(';',mime)[0].trim();}
if(null===mime||false!==strpos(mime,'script')){parsed=parse_require_calls(s);}else if(false!==strpos(mime,'css')){alert('@ToDo : require->parse text/css ('+name+')');}else if(false!==strpos(mime,'html')){alert('@ToDo : require->parse text/html ('+name+')');}else{parsed={source:s};}
return parsed.source;}
var r=runItCallback(c);return r;}
req.exec=require.exec=function(js){function compile_after(code){code=parse_require_calls(code).source;return code;}
var context=vm.createContext({module:{},exports:Function('')});context.process=process;if('undefined'!==typeof frdl){context.frdl=frdl;if('undefined'!==typeof frdl.webfan){context.webfan=frdl.webfan;}}
if('undefined'!==typeof $){context.$=$;}
if('undefined'!==typeof jQuery){context.jQuery=jQuery;}
if('undefined'!==typeof Webfan){context.Webfan=Webfan;}
if('undefined'!==typeof angular){context.angular=angular;}
if('undefined'!==typeof traceur){context.traceur=traceur;}
try{if(!!base64_detect(js))js=base64_decode(js);var script=vm.createScript(js,{filename:name,compile:compile_after});context=script.runInNewContext(context);return context;}catch(err){console.error(err,script.code);setTimeout(function(){var path=str_replace('.app.js','.app',require.s.contexts._.nameToUrl(name,'.js','.app'));localStorage.removeItem(path);localStorage.removeItem(path+'#meta');fs.unlink(getFSFilename(path));},1);}};runIt(source,callback);});var _fetch=clone(amdLoader.fetch);plugin.fetch=function(url,callback,errback){var path=url,self=this;if('undefined'!==typeof self.buildCache[path]){if(typeof self.buildCache[path]==='string'){plugin.load.fromText(self.buildCache[path]);}else{plugin.load(self.buildCache[path]);}
return;}
if('undefined'!==typeof plugin.buildCache[path]){if(typeof plugin.buildCache[path]==='string'){plugin.load.fromText(plugin.buildCache[path]);}else{plugin.load(plugin.buildCache[path]);}
return;}
var cb=function(code){if(true===fs.polyfill.check()&&true===fs.polyfill.ready){fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);fs.writeFile(fs.polyfill.getFiler().pathToFilesystemURL(getFSFilename(path,false)),code,function(err,data){if(err){console.warn(err);return;}
localStorage.setItem(path+'#meta',new Date().getTime());});if(15>localStorage.length){localStorage.setItem(path,code);localStorage.setItem(path+'#meta',new Date().getTime());}}
try{if(true!==fs.polyfill.check()||true!==fs.polyfill.ready||5>localStorage.length){localStorage.setItem(path,code);localStorage.setItem(path+'#meta',new Date().getTime());}}catch(e){if(!!console)console.warn(e);}
callback(code);};console.log('hasLocalStorage',hasLocalStorage);if(hasLocalStorage){var cached=localStorage.getItem(url);var lt=localStorage.getItem(url+'#meta');if('string'===typeof cached){if(!!base64_detect(cached))cached=base64_decode(cached);callback(cached);console.log('CACHE_LIMIT_LOCAL_STORAGE',CACHE_LIMIT_LOCAL_STORAGE);console.log('lt',lt);console.log('diff',new Date().getTime()-parseInt(lt));if('undefined'!==typeof frdl&&'undefined'!==typeof frdl.Device().isDesktop&&false===frdl.Device().isDesktop){CACHE_LIMIT_LOCAL_STORAGE=CACHE_LIMIT_LOCAL_STORAGE*3;}
if(!!navigator.onLine&&(null===lt||(CACHE_LIMIT_LOCAL_STORAGE<(new Date().getTime()-parseInt(lt))))){setTimeout(function(){require.nextTick(function(){_fetch(url,function(){},errback);});},32);}
return;}}
if(true===fs.polyfill.check()&&true===fs.polyfill.ready){if(true!==cachedirCreated){fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);fs.mkdir(fs.polyfill.getFiler().pathToFilesystemURL('/'),function(err2,dir2){fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);console.log('frdl.fs.polyfill.getFiler().pathToFilesystemURL(FSCacheDir)',frdl.fs.polyfill.getFiler().pathToFilesystemURL(FSCacheDir));fs.mkdir(fs.polyfill.getFiler().pathToFilesystemURL(FSCacheDir),function(err,dir){if(err)return _fetch(url,cb,errback);cachedirCreated=true;});});}
if(true===!!cachedirCreated){fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);fs.readdir(FSCacheDir,function(err,entries){if(err&&err instanceof Error){console.log('err',err);_fetch(url,cb,errback);return;}
var found=false;frdl.each(entries,function(i,entry){console.log('entry',entry);console.log('getFSFilename(url, false)',getFSFilename(url,false));console.log(' frdl.fs.polyfill.getFiler().pathToFilesystemURL(getFSFilename(url, false)))',fs.polyfill.getFiler().pathToFilesystemURL(getFSFilename(url,false)));if(entry.name===getFSFilename(url,false)){found=fs.polyfill.getFiler().pathToFilesystemURL(entry.fullPath);return false;}});if(false===found){console.log('url [false===found]',url);console.log('frdl.fs.polyfill.getFiler().pathToFilesystemURL(url) [false===found]',fs.polyfill.getFiler().pathToFilesystemURL(url));return _fetch(url,cb,errback);}
fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);fs.readFile(fs.polyfill.getFiler().pathToFilesystemURL(getFSFilename(found,false)),function(e,cached){if(e){return _fetch(url,cb,errback);}
if('string'===typeof cached){if(!!base64_detect(cached))cached=base64_decode(cached);callback(cached);return function(){if(!!navigator.onLine&&(null===lt||(CACHE_LIMIT_LOCAL_STORAGE<(new Date().getTime()-parseInt(lt))))){setTimeout(function(){_fetch(url,function(){},errback);},32);}
return;}();}else{return _fetch(url,cb,errback);}});});}
return _fetch(url,cb,errback);;}else{_fetch(url,cb,errback);}};function getFunctionBody(func){return func.toString().trim().match(new RegExp("^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$"))[1];}
function createJavascriptObjectURL(func){var functionBody=getFunctionBody(func);return URL.createObjectURL(new Blob([functionBody],{type:"text/javascript"}));}
function strpos(haystack,needle,offset){var i=(haystack+'').indexOf(needle,(offset||0));return i===-1?false:i;}
function str_replace(search,replace,subject){if('string'!==typeof subject)
return'';try{return subject.split(search).join(replace);}catch(err){console.error(err);return'';}}
function preg_quote(str,delimiter){return(str+'').replace(new RegExp('[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\'+(delimiter||'')+'-]','g'),'\\$&');}
return plugin;});
/*! $6 frdlcjs */
define('frdlcjs',['webfan/cjs/frdlcjs'],function(frdlcjs){return frdlcjs;});
/*! $7 webfan/bootcache */
define('webfan/bootcache',['base64_detect','base64_decode','base64_encode','str_replace','explode'],function(base64_detect,base64_decode,base64_encode,str_replace,explode){'use strict';const progIds=['Msxml2.XMLHTTP','Microsoft.XMLHTTP','Msxml2.XMLHTTP.4.0'];const CONTEXTNAME='_';const hasLocalStorage=(function(){var supported=false;try{supported=window&&("localStorage"in window)&&("getItem"in localStorage);}catch(e){}
return supported;})();return{createXhr:function(){var xhr,i,progId;if(typeof XMLHttpRequest!=="undefined"){return new XMLHttpRequest();}else{for(i=0;i<3;i++){progId=progIds[i];try{xhr=new ActiveXObject(progId);}catch(e){}
if(xhr){progIds=[progId];break;}}}
if(!xhr){throw new Error("createXhr(): XMLHttpRequest not available");}
return xhr;},fetch:function(url,callback){var xhr=this.createXhr();url=url.replace(/http\:\/\//,(('https:'===location.protocol||('undefined'!==typeof Webfan&&'undefined'!==typeof Webfan.hps&&'undefined'!==typeof Webfan.hps.scriptengine&&'undefined'!==typeof Webfan.hps.scriptengine.server&&'undefined'!==typeof Webfan.hps.scriptengine.server.ssl&&1==Webfan.hps.scriptengine.server.ssl))?'https':'http')+':'+'//');xhr.open('GET',url.replace(/blob\:\/\//,'https:'+'//'),true);var Etag=localStorage.getItem(url+'#Etag');if(null!==Etag){xhr.setRequestHeader('If-None-Match',Etag);xhr.setRequestHeader('X-Frdlweb-Bugs','cache304');}
xhr.onreadystatechange=function(evt){if(xhr.status!==200&&xhr.status!==304&&xhr.status!==204){return;}
if(xhr.status!==200){return;}
if(xhr.readyState===4){localStorage.setItem(url+'#mime',xhr.getResponseHeader("Content-Type"));var Etag=xhr.getResponseHeader("Etag")||null;localStorage.setItem(url+'#Etag',Etag);callback(xhr.responseText);}};xhr.send(null);},load:function(name,req,load,config){var cached,url=req.toUrl(name,'js',['app'])+'.js';var self=this;if('undefined'!==typeof self.buildCache&&'undefined'!==typeof self.buildCache[url]){if(typeof self.buildCache[url]==='string'){load.fromText(self.buildCache[url]);}else{load(self.buildCache[url]);}
return;}
if('undefined'!==typeof self.buildCache&&'undefined'!==typeof self.buildCache[name]){if(typeof self.buildCache[name]==='string'){load.fromText(self.buildCache[name]);}else{load(self.buildCache[name]);}
return;}
if('undefined'!==typeof self.buildCache&&'undefined'!==typeof self.buildCache[pluginId+'!'+name]){if(typeof self.buildCache[pluginId+'!'+name]==='string'){load.fromText(self.buildCache[pluginId+'!'+name]);}else{load(self.buildCache[pluginId+'!'+name]);}
return;}
if(require.defined(name)||'undefined'!==typeof require.s.contexts[CONTEXTNAME].defined[name]){req([name],function(content){load(content);});return;}
if(hasLocalStorage&&!require.defined(name)){cached=localStorage.getItem(url);if(cached!==null){load.fromText(name,(base64_detect(cached))?base64_decode(cached):cached);}else{this.fetch(url,function(content){content+='\n //# sourceURL='+url;content+='\n';req([name],function(content){load(content);});try{localStorage.setItem(url,content);localStorage.setItem(url+'#meta',(new Date()).getTime());}catch(e){}});return;}}
req([name],function(content){load(content);});}};});
/*! $8 webfan/loadPlain */
/*! webfan (C) Till Wehowski, Webfan.de - All rights reserved. */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! @ frdl.Frdlweb.js.Compiler.defaultPlugin : frdlcjs */
define('webfan/loadPlain',['webfan/bootcache!amd-loader','feature!vm','base64_detect','base64_decode','base64_encode','extend','clone','explode'],function(amdL,vm,base64_detect,base64_decode,base64_encode,extend,clone,explode){var URL=global.URL||global.webkitURL;var requestFileSystem=global.requestFileSystem||global.webkitRequestFileSystem;var resolveLocalFileSystemURL=global.resolveLocalFileSystemURL||global.webkitResolveLocalFileSystemURL;navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage;navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage;var BlobBuilder=global.BlobBuilder||global.MozBlobBuilder||global.WebKitBlobBuilder;var CACHE_LIMIT_LOCAL_STORAGE=24*60*60*1000;var ext='js';var cjsRequireRegExp=/\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g;var amdLoader=clone(amdL);var plugin=amdLoader('loadPlain',ext,[],function(name,source,req,callback,errback,config){function runIt(c,runItCallback){function compile(s){var code='';var _b64d=base64_decode.toString();code+=_b64d+'\n'+base64_detect.toString();code+='var s = "'+base64_encode(s)+'"; return {';code+=' content: (base64_detect(s)) ? base64_decode(s) : s';code+='}; ';code+=' ';code='define(function(){\n'+code+'\n});\n';return code;}
return runItCallback(compile(c));}
runIt(source,callback);});function getFunctionBody(func){return func.toString().trim().match(new RegExp("^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$"))[1];}
function createJavascriptObjectURL(func){var functionBody=getFunctionBody(func);return URL.createObjectURL(new Blob([functionBody],{type:"text/javascript"}));}
function strpos(haystack,needle,offset){var i=(haystack+'').indexOf(needle,(offset||0));return i===-1?false:i;}
function str_replace(search,replace,subject){if('string'!==typeof subject)
return'';try{return subject.split(search).join(replace);}catch(err){console.error(err);return'';}}
return plugin;});define('loadPlain',['webfan/loadPlain'],function(x){return x;});
/*! $9 webfan/loadXML */
define('webfan/loadXML',['amd-loader/frdlweb/amd-loader','feature!vm','str_replace','extend','clone','base64_detect','base64_decode','base64_encode','fs','explode'],function(amdL,vm,str_replace,extend,clone,base64_detect,base64_decode,base64_encode,fs,explode){let URL=global.URL||global.webkitURL;let requestFileSystem=global.requestFileSystem||global.webkitRequestFileSystem;let resolveLocalFileSystemURL=global.resolveLocalFileSystemURL||global.webkitResolveLocalFileSystemURL;navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage;navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage;let BlobBuilder=global.BlobBuilder||global.MozBlobBuilder||global.WebKitBlobBuilder;let FSCacheDir='/cache/';let getFSFilename=function(url,dir){return(true===dir)?FSCacheDir:''+url.length+'.'+str_replace('=','',base64_encode(url))+'.xml.cache';};var CACHE_LIMIT_LOCAL_STORAGE=24*60*60*1000;var ext='xml';var cjsRequireRegExp=/\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g;var amdLoader=amdL;var plugin=amdLoader('frdlxml',ext,['xml'],function(name,source,req,callback,errback,config){function runIt(c,runItCallback){function compile(s){var code='var Str=frdl.base64_decode("'+base64_encode(s)+'");';code+='              try {';code+='              var x2js = new X2JSON(); ';code+='              var j = x2js.xml2json(x2js.parseXmlString(Str)); ';code+='          } catch (err) { ';code+='              console.warn(err); ';code+='              var j = false; ';code+='          } ';code+='         try { ';code+='              if (window.DOMParser) { ';code+='                 var parser = new DOMParser(); ';code+='                  var xmlDoc = parser.parseFromString(Str, \'text/xml\'); ';code+='             } else { ';code+='                var xmlDoc = new ActiveXObject(\'Microsoft.XMLDOM\'); ';code+='                xmlDoc.async = false; ';code+='                xmlDoc.loadXML(Str); ';code+='            } ';code+='         } catch (err) { ';code+='            console.warn(err); ';code+='             var xmlDoc = false; ';code+='        }        ';code+=' exports = module.exports = { ';code+='               content: Str, ';code+='               dom: xmlDoc, ';code+='               json: j ';code+='           }; ';code+=' ';s='define("'+name+'", ["require", "exports", "module", "webfan/bootcache!common/xml2js"], function(require, exports, module, X2JSON){    \n'+code+'\n            });\n';return s;}
var r=runItCallback(compile(c));return r;}
req.exec=function(js){function compile_after(code){return code;}
var script=vm.createScript(js,{filename:name,compile:compile_after});var context=vm.createContext({frdl:frdl,require:require,X2JSON:X2JSON});try{return script.runInNewContext(context);}catch(err){console.error(err);}};runIt(source,callback);});var _fetch=clone(amdLoader.fetch);let hasLocalStorage=(function(){var supported=false;try{supported=window&&("localStorage"in window)&&("getItem"in localStorage);}catch(e){}
return supported;})();plugin.fetch=function(url,callback,errback){var path=url;var cb=function(code){if('undefined'!==typeof fs&&'function'===typeof fs.writeFile&&true===fs.polyfill.check()&&true===fs.polyfill.ready){fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);fs.writeFile(fs.polyfill.getFiler().pathToFilesystemURL(getFSFilename(path,true)),base64_encode(code),function(err,data){if(err){console.warn(err);return;}
localStorage.setItem(path+'#meta',new Date().getTime());});}
try{if('function'!==typeof fs.writeFile||true!==fs.polyfill.check()||true!==fs.polyfill.ready||26>localStorage.length){localStorage.setItem(path,base64_encode(code));localStorage.setItem(path+'#meta',new Date().getTime());}}catch(e){if(!!console)console.warn(e);}
callback(code);};console.log('hasLocalStorage',hasLocalStorage);if(hasLocalStorage){var cached=localStorage.getItem(url);var lt=localStorage.getItem(url+'#meta');if('string'===typeof cached){callback(base64_decode(cached));console.log('CACHE_LIMIT_LOCAL_STORAGE',CACHE_LIMIT_LOCAL_STORAGE);console.log('lt',lt);console.log('diff',new Date().getTime()-parseInt(lt));if(!!navigator.onLine&&(null===lt||(CACHE_LIMIT_LOCAL_STORAGE<(new Date().getTime()-parseInt(lt))))){setTimeout(function(){_fetch(url,function(){},errback);},1000);}
return;}}
if('function'===typeof fs.readFile&&true===fs.polyfill.check()&&true===fs.polyfill.ready){fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);fs.readdir(FSCacheDir,function(err,entries){if(err){return _fetch(url,cb,errback);}
var found=false;frdl.each(entries,function(i,entry){console.log('entry',entry);console.log('getFSFilename(url, false)',getFSFilename(url,false));if(fs.polyfill.getFiler().pathToFilesystemURL(entry)===fs.polyfill.getFiler().pathToFilesystemURL(getFSFilename(url,false))||entry.name===getFSFilename(url,false)){found=fs.polyfill.getFiler().pathToFilesystemURL(entry.fullPath);return false;}});if(false===found){console.log('url [false===found]',url);console.log('frdl.fs.polyfill.getFiler().pathToFilesystemURL(url) [false===found]',fs.polyfill.getFiler().pathToFilesystemURL(url));return _fetch(url,cb,errback);}
fs.polyfill.getFiler().cd(fs.polyfill.getFiler().fs.root);fs.readFile(fs.polyfill.getFiler().pathToFilesystemURL(found),function(e,cached){if(e){console.log('e',e);return _fetch(url,cb,errback);}
if('string'===typeof cached){callback(base64_decode(cached));return function(){if(!!navigator.onLine&&(null===lt||(CACHE_LIMIT_LOCAL_STORAGE<(new Date().getTime()-parseInt(lt))))){setTimeout(function(){_fetch(url,function(){},errback);},1000);}
return;}();}else{return _fetch(url,cb,errback);}});});return;}else{_fetch(url,cb,errback);}};function getFunctionBody(func){return func.toString().trim().match(new RegExp("^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$"))[1];}
function createJavascriptObjectURL(func){var functionBody=getFunctionBody(func);return URL.createObjectURL(new Blob([functionBody],{type:"text/javascript"}));}
function strpos(haystack,needle,offset){var i=(haystack+'').indexOf(needle,(offset||0));return i===-1?false:i;}
return plugin;});define('loadXML',['webfan/loadXML'],function(x){return x;});
/*! $10 lit */
/*! literalizer
    v0.4.0-a (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
define('lit',function(){"use strict";function clone(obj){return JSON.parse(JSON.stringify(obj));}
function combineGeneralSegments(segmentsSlice){var start,end,i,j;for(i=0;i<segmentsSlice.length;i++){if(segmentsSlice[i].type===SEGMENT_GENERAL){start=end=i;for(j=start+1;j<segmentsSlice.length;j++){end=j;if(segmentsSlice[j].type!==SEGMENT_GENERAL){end=j-1;break;}}
if(end>start){for(j=start+1;j<=end;j++){segmentsSlice[start].val+=segmentsSlice[j].val;}
segmentsSlice.splice(start+1,end-start);}
else i=j;}}
return segmentsSlice;}
function isUsefulToken(tok){if(!tok.val||(tok.type===TOKEN_SPECIAL&&/^(?:\r?\n)+$/.test(tok.val))||(tok.type===SEGMENT_GENERAL&&/^\s*$/.test(tok.val))||tok.type===SEGMENT_COMMENT){return false;}
else{return true;}}
function lex(code){function saveText(text){if(segments.length>0&&segments[segments.length-1].type===SEGMENT_GENERAL){segments[segments.length-1].val+=text;}
else{segments.push({type:SEGMENT_GENERAL,val:text});}}
function findUsefulToken(tokIdx){while(tokIdx>=0&&!isUsefulToken(tokens[tokIdx])){tokIdx--;}
if(tokIdx>=0){return tokIdx;}
else{return false;}}
function regexLookback(){function findParenPair(tokIdx){var i,tok,paren_count=0;for(i=tokIdx;i>=0;i--){tok=tokens[i];if(!isUsefulToken(tok)){continue;}
if(tok.type===TOKEN_SPECIAL){if(tok.val===")"){paren_count++;}
else if(tok.val==="("){paren_count--;if(paren_count===0){return i;}
else if(paren_count<0){return false;}}}
else if(paren_count===0){return false;}}
return false;}
function findBracePair(tokIdx){var i,tok,brace_count=0;for(i=tokIdx;i>=0;i--){tok=tokens[i];if(!isUsefulToken(tok)){continue;}
if(tok.type===TOKEN_SPECIAL){if(tok.val==="}"){brace_count++;}
else if(tok.val==="{"){brace_count--;if(brace_count===0){return i;}
else if(brace_count<0){return false;}}}
else if(brace_count===0){return false;}}
return false;}
var tok_idx,i,tmp,tok;tok_idx=findUsefulToken(tokens.length-1);if(tok_idx===false){return true;}
tok=tokens[tok_idx];if(tok.type===TOKEN_SPECIAL){if(tok.val===")"){tok_idx=findParenPair(tok_idx);if(tok_idx!==false){for(i=tok_idx-1;i>=0;i--){tok=tokens[i];if(!isUsefulToken(tok)){continue;}
if(tok.type===TOKEN_SPECIAL){if(/^(?:if|while|for|with)$/.test(tok.val)){return true;}
else{return false;}}
else{return false;}}}
else{return false;}}
else if(tok.val==="}"){tok_idx=findBracePair(tok_idx);if(tok_idx!==false){if(tokens[tok_idx].is_block){tok_idx=findUsefulToken(tok_idx-1);if(tok_idx===false){return true;}
tok=tokens[tok_idx];if(tok.type===TOKEN_SPECIAL){if(tok.val==="=>"){return false;}
else{tok_idx=findParenPair(tok_idx);if(tok_idx===false){return true;}
tok_idx=findUsefulToken(tok_idx-1);if(tok_idx===false){return true;}
if(tokens[tok_idx].type===SEGMENT_GENERAL){tok_idx=findUsefulToken(tok_idx-1);if(tok_idx===false){return true;}}
if(!/function(?:\s*\*)?/.test(tokens[tok_idx].val)||tokens[tok_idx].is_decl){return true;}
else{return false;}}}
else{return true;}}
else{return false;}}
else{return true;}}
else if(/^(?:new|return|throw|delete|in|else|void|typeof|yield|case|debugger|break|continue|(?:=>|[+\-*\/=~!%&,\|;:\?<>\(\{\[]))$/.test(tok.val)){return true;}
else{return false;}}
else{return false;}}
function checkAbandonPropertyFunctionCandidate(matched){var tmp;if(!matched||/^\s+$/.test(matched)||block_allowed[block_allowed.length-1].type!==BLOCK_ALLOWED_PROPERTY_FUNCTION){return;}
if(block_allowed[block_allowed.length-1].paren_count<0||block_allowed[block_allowed.length-1].brace_count<0||(block_allowed[block_allowed.length-1].brace_count===0&&matched!=="{")){tmp=block_allowed.pop();if(tmp.paren_count>0){if(block_allowed[block_allowed.length-1].paren_count===null){block_allowed[block_allowed.length-1].paren_count=tmp.paren_count;}
else if(typeof block_allowed[block_allowed.length-1].paren_count==="number"){block_allowed[block_allowed.length-1].paren_count+=tmp.paren_count;}}
if(tmp.brace_count>0){if(block_allowed[block_allowed.length-1].brace_count===null){block_allowed[block_allowed.length-1].brace_count=tmp.brace_count;}
else if(typeof block_allowed[block_allowed.length-1].brace_count==="number"){block_allowed[block_allowed.length-1].brace_count+=tmp.brace_count;}}}}
function specialHTMLCommentMarker(text){var i;if(text==="<!--")return true;if(text==="-->"){if(tokens.length>0){for(i=tokens.length-1;i>=0;i--){if(/\r?\n/.test(tokens[i].val)){break;}
if(!(/^\s*$/.test(tokens[i].val)||tokens[i].type===SEGMENT_COMMENT)){return false;}}}
return true;}}
function processGeneral(){var segmentsSlice,left_context,tok_idx,prev_tok_idx,i,preceding_dot_operator=false;if(unmatched){saveText(unmatched);tokens.push({type:SEGMENT_GENERAL,val:unmatched});if(/^\s*[^0-9\s\(\)\[\]\{\}<>,.:;=~+\-\*\/!%&\|\?\"\'][^\s\(\)\[\]\{\}<>,.:;=~+\-\*\/!%&\|\?\"\']*\s*$/.test(unmatched)){statement_block_label_candidate=block_allowed[block_allowed.length-1].allowed;property_function_candidate=(!block_allowed[block_allowed.length-1].allowed&&!(block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FUNCTION&&block_allowed[block_allowed.length-1].paren_count===null)&&!(block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_ARROW_FUNCTION&&block_allowed[block_allowed.length-1].brace_count===null));}
else{statement_block_label_candidate=false;}}
prev_tok_idx=findUsefulToken(tokens.length-1);if(prev_tok_idx!==false&&tokens[prev_tok_idx].type!==SEGMENT_NUMBER_LITERAL){preceding_dot_operator=/\.\s*$/.test(tokens[prev_tok_idx].val);}
if(((block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_ARROW_FUNCTION&&block_allowed[block_allowed.length-1].brace_count===null)||(block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FOR&&block_allowed[block_allowed.length-1].paren_count===0))&&(/[^\s]/.test(unmatched)||!/\/\/|\/\*|[\{]/.test(match[0]))){block_allowed.pop();}
if(match){left_context=code.slice(0,next_match_idx-match[0].length);if(match[0]==="//"||match[0]==="/*"||match[0]==="<!--"||match[0]==="-->"){if(!(match[0]==="<!--"||match[0]==="-->")||(!public_api.opts.overlook_html_comment_markers&&specialHTMLCommentMarker(match[0]))){segments.push({type:SEGMENT_COMMENT,val:match[0]});tokens.push(clone(segments[segments.length-1]));if(match[0]==="/*"){lexing_state=STATE_MULTI_LINE_COMMENT;}
else{lexing_state=STATE_SINGLE_LINE_COMMENT;}}
else{saveText(match[0]);for(i=0;i<match[0].length;i++){tokens.push({type:TOKEN_SPECIAL,val:match[0].charAt(i)});}
block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);block_allowed[block_allowed.length-1].allowed=false;}}
else if(match[0]==="`"){segments.push({type:SEGMENT_BACKTICK_LITERAL,val:match[0]});tokens.push(clone(segments[segments.length-1]));lexing_state=STATE_BACKTICK_LITERAL;checkAbandonPropertyFunctionCandidate(match[0]);}
else if(match[0]==="\""||match[0]==="'"){segments.push({type:SEGMENT_STRING_LITERAL,val:match[0],raw:match[0]});tokens.push(clone(segments[segments.length-1]));lexing_state=STATE_STRING_LITERAL;STATE_PATTERNS[STATE_STRING_LITERAL]=new RegExp(match[0]+"|\r?\n","g");checkAbandonPropertyFunctionCandidate(match[0]);}
else if(/^(?:(?:0[xX][0-9a-fA-F]+)|(?:0[oO][0-7]+)|(?:0[bB][01]+)|(?:\d+\.\d*(?:[eE][+-]?\d+)?)|(?:\.\d+(?:[eE][+-]?\d+)?)|(?:\d+(?:[eE][+-]?\d+)?))$/.test(match[0])){if(!/[^\s\(\)\[\]\{\}<>,.:;=~+\-\*\/!%&\|\?\"\']$/.test(left_context)){segments.push({type:SEGMENT_NUMBER_LITERAL,val:match[0]});tokens.push(clone(segments[segments.length-1]));statement_block_label_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);}
else{saveText(match[0]);if(tokens[tokens.length-1].type===SEGMENT_GENERAL){tokens[tokens.length-1].val+=match[0];}
else{tokens.push({type:SEGMENT_GENERAL,val:match[0]});}
switch_clause_candidate=false;}
block_asi_allowed=true;}
else if(preceding_dot_operator&&/\w/.test(match[0])){saveText(match[0]);tokens.push({type:SEGMENT_GENERAL,val:match[0]});block_asi_allowed=true;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);}
else if(/^(?:true|false|null|Infinity|NaN|undefined)$/.test(match[0])){segments.push({type:SEGMENT_SIMPLE_LITERAL,val:match[0]});tokens.push(clone(segments[segments.length-1]));block_asi_allowed=true;statement_block_label_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);}
else if(/^(?:\b(?:new|return|throw|delete|in|of|else|void|typeof|yield|if|do|while|for|with|case|default|debugger|break|continue)\b|\bfunction(?:\s*\*)?|=>|[+\-*=~!%&,\|;:\?<>\(\)\{\}\[\]]|(?:\r?\n)+)$/.test(match[0])){saveText(match[0]);tokens.push({type:TOKEN_SPECIAL,val:match[0]});if(/function(?:\s*\*)?/.test(match[0])){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);tokens[tokens.length-1].is_decl=block_allowed[block_allowed.length-1].allowed;block_allowed.push({type:BLOCK_ALLOWED_FUNCTION,allowed:false,paren_count:null,brace_count:null});}
else if(match[0]==="=>"){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);block_allowed.push({type:BLOCK_ALLOWED_ARROW_FUNCTION,allowed:false,brace_count:null});}
else if(match[0]==="for"){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);block_allowed.push({type:BLOCK_ALLOWED_FOR,allowed:false,paren_count:null});}
else if(match[0]==="new"){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);block_allowed[block_allowed.length-1].allowed=false;}
else if(/case|default/.test(match[0])){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=true;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);}
else if(/^(?:\r?\n)+$/.test(match[0])){if(block_asi_allowed){block_allowed[block_allowed.length-1].allowed=true;block_asi_allowed=false;}}
else if(match[0]==="("){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);if(property_function_candidate){property_function_candidate=false;block_allowed.push({type:BLOCK_ALLOWED_PROPERTY_FUNCTION,allowed:false,paren_count:1,brace_count:null});}
else if(block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FOR||((block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FUNCTION||block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_PROPERTY_FUNCTION)&&block_allowed[block_allowed.length-1].brace_count===null)){if(block_allowed[block_allowed.length-1].paren_count===null){block_allowed[block_allowed.length-1].paren_count=1;}
else{block_allowed[block_allowed.length-1].paren_count++;}}
else{block_allowed[block_allowed.length-1].allowed=false;}}
else if(match[0]===")"){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);if((block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FOR||((block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_PROPERTY_FUNCTION||block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FUNCTION)&&block_allowed[block_allowed.length-1].brace_count===null))&&block_allowed[block_allowed.length-1].paren_count!==null){block_allowed[block_allowed.length-1].paren_count--;if(block_allowed[block_allowed.length-1].paren_count===0){block_allowed[block_allowed.length-1].allowed=true;block_allowed[block_allowed.length-1].brace_count=0;}
else{checkAbandonPropertyFunctionCandidate(match[0]);}}
else{block_asi_allowed=true;}}
else if(match[0]==="{"){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);if(block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_GENERAL||((block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FUNCTION||block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_ARROW_FUNCTION||block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_PROPERTY_FUNCTION)&&block_allowed[block_allowed.length-1].brace_count!==null)){tokens[tokens.length-1].is_block=block_allowed[block_allowed.length-1].allowed;if("brace_count"in block_allowed[block_allowed.length-1]){block_allowed[block_allowed.length-1].brace_count++;}}
else if(block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_ARROW_FUNCTION||((block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FUNCTION||block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_PROPERTY_FUNCTION)&&block_allowed[block_allowed.length-1].paren_count===0)){tokens[tokens.length-1].is_block=true;if(block_allowed[block_allowed.length-1].brace_count===null){block_allowed[block_allowed.length-1].brace_count=1;}
else{block_allowed[block_allowed.length-1].brace_count++;}
block_allowed[block_allowed.length-1].allowed=true;}
else if(block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FOR&&block_allowed[block_allowed.length-1].paren_count===0){tokens[tokens.length-1].is_block=true;block_allowed.pop();block_allowed[block_allowed.length-1].allowed=true;}}
else if(match[0]==="}"){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);if(block_allowed[block_allowed.length-1].type!==BLOCK_ALLOWED_GENERAL&&block_allowed[block_allowed.length-1].brace_count>0){block_allowed[block_allowed.length-1].brace_count--;if(block_allowed[block_allowed.length-1].brace_count===0){block_allowed.pop();}
else{checkAbandonPropertyFunctionCandidate(match[0]);}}
block_allowed[block_allowed.length-1].allowed=true;}
else if(match[0]===":"){checkAbandonPropertyFunctionCandidate(match[0]);if(statement_block_label_candidate||switch_clause_candidate){block_allowed[block_allowed.length-1].allowed=true;}
else{block_allowed[block_allowed.length-1].allowed=false;}
block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;}
else if(match[0]===";"){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);if(block_allowed[block_allowed.length-1].type===BLOCK_ALLOWED_FOR){block_allowed[block_allowed.length-1].allowed=false;}
else{block_allowed[block_allowed.length-1].allowed=true;}}
else if(/^(?:[\[+\-*\/%&\|=,\<\>])$/.test(match[0])){block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);block_allowed[block_allowed.length-1].allowed=false;}
else{block_asi_allowed=true;statement_block_label_candidate=false;switch_clause_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);block_allowed[block_allowed.length-1].allowed=false;}}
else if(match[0]==="/"){if(regexLookback()){segments.push({type:SEGMENT_REGEX_LITERAL,val:match[0]});tokens.push(clone(segments[segments.length-1]));lexing_state=STATE_REGEX_LITERAL_CANDIDATE;}
else{saveText(match[0]);tokens.push({type:TOKEN_SPECIAL,val:match[0]});}
block_asi_allowed=false;statement_block_label_candidate=false;switch_clause_candidate=false;property_function_candidate=false;checkAbandonPropertyFunctionCandidate(match[0]);block_allowed[block_allowed.length-1].allowed=false;}}}
function processSingleLineComment(){segments[segments.length-1].val+=unmatched;if(match){next_match_idx-=match[0].length;lexing_state=STATE_GENERAL;}}
function processMultiLineComment(){segments[segments.length-1].val+=unmatched;if(match){segments[segments.length-1].val+=match[0];lexing_state=STATE_GENERAL;if(/\r?\n/.test(segments[segments.length-1].val)){if(block_asi_allowed){block_allowed[block_allowed.length-1].allowed=true;block_asi_allowed=false;}}}}
function processStringLiteral(){var left_context;segments[segments.length-1].val+=unmatched;segments[segments.length-1].raw+=unmatched;if(match){left_context=code.slice(0,next_match_idx-match[0].length);if(!left_context||not_escaped_pattern.test(left_context)){if(/\r?\n/.test(match[0])){public_api.warnings.push("Unterminated string literal: "+segments[segments.length-1].val.replace(/[\r\n]+/g,""));next_match_idx-=match[0].length;prev_match_idx=next_match_idx;block_allowed[block_allowed.length-1].allowed=true;block_asi_allowed=false;}
else{segments[segments.length-1].val+=match[0];segments[segments.length-1].raw+=match[0];block_asi_allowed=true;}
lexing_state=STATE_GENERAL;}
else{if(match[0]==="\""||match[0]==="'"){segments[segments.length-1].val+=match[0];segments[segments.length-1].raw+=match[0];}
else{segments[segments.length-1].raw+=match[0];segments[segments.length-1].val=segments[segments.length-1].val.slice(0,segments[segments.length-1].val.length-1);}}}}
function processBacktickLiteral(){var left_context;segments[segments.length-1].val+=unmatched;if(match){segments[segments.length-1].val+=match[0];left_context=code.slice(0,next_match_idx-match[0].length);if(!left_context||not_escaped_pattern.test(left_context)){lexing_state=STATE_GENERAL;block_asi_allowed=true;}}}
function processRegexLiteral(){var left_context;segments[segments.length-1].val+=unmatched;if(match){left_context=code.slice(0,next_match_idx-match[0].length);if(/\r?\n/.test(match[0])){public_api.warnings.push("Unterminated regular expression literal: "+segments[segments.length-1].val);next_match_idx-=match[0].length;prev_match_idx=next_match_idx;lexing_state=STATE_GENERAL;block_allowed[block_allowed.length-1].allowed=true;block_asi_allowed=false;}
else if(match[0]==="["&&not_escaped_pattern.test(left_context)){segments[segments.length-1].val+=match[0];regex_character_class=true;}
else if(match[0]==="]"&&not_escaped_pattern.test(left_context)){segments[segments.length-1].val+=match[0];regex_character_class=false;}
else{segments[segments.length-1].val+=match[0];if(!regex_character_class&&(!left_context||not_escaped_pattern.test(left_context))){lexing_state=STATE_GENERAL;block_asi_allowed=true;}}}}
var segments=[],tokens=[],match,prev_match_idx=0,next_match_idx=0,unmatched="",regex,segment,block_allowed=[{type:BLOCK_ALLOWED_GENERAL,allowed:true}],block_asi_allowed=false,statement_block_label_candidate=false,switch_clause_candidate=false,property_function_candidate=false,regex_character_class=false,normal_function_started=false,arrow_function_started=false,lexing_state=0,STATE_PROCESSORS=[processGeneral,processSingleLineComment,processMultiLineComment,processStringLiteral,processBacktickLiteral,processRegexLiteral],general_state_patterns;code=String(code||"");if(!code||code.length===0)return segments;general_state_patterns=[PATTERN_BASE_GENERAL.source];if(!public_api.opts.overlook_html_comment_markers){general_state_patterns.unshift(PATTERN_HTML_COMMENT.source);}
if(public_api.opts.identify_number_literals){general_state_patterns.push(PATTERN_NUMBER_LITERAL.source);}
if(public_api.opts.identify_simple_literals){general_state_patterns.push(PATTERN_SIMPLE_LITERAL.source);}
STATE_PATTERNS[STATE_GENERAL]=new RegExp(general_state_patterns.join("|"),"g");while(next_match_idx<code.length){unmatched="";regex=STATE_PATTERNS[lexing_state];regex.lastIndex=next_match_idx;match=regex.exec(code);if(match){prev_match_idx=next_match_idx;next_match_idx=regex.lastIndex;if(prev_match_idx<next_match_idx-match[0].length){unmatched=code.slice(prev_match_idx,next_match_idx-match[0].length);}}
else{prev_match_idx=next_match_idx;next_match_idx=code.length;unmatched=code.slice(prev_match_idx);if(!unmatched)break;}
STATE_PROCESSORS[lexing_state]();}
if(lexing_state===STATE_MULTI_LINE_COMMENT){segments[segments.length-1].type=SEGMENT_GENERAL;public_api.warnings.push("Unterminated multi-line comment at end of file");}
else if(lexing_state===STATE_STRING_LITERAL){segments[segments.length-1].type=SEGMENT_GENERAL;public_api.warnings.push("Unterminated string literal at end of file");}
else if(lexing_state===STATE_BACKTICK_LITERAL){segments[segments.length-1].type=SEGMENT_GENERAL;public_api.warnings.push("Unterminated template string at end of file");}
else if(lexing_state===STATE_REGEX_LITERAL_CANDIDATE){segments[segments.length-1].type=SEGMENT_GENERAL;public_api.warnings.push("Unterminated regular expression literal at end of file");}
tokens.length=0;return combineGeneralSegments(segments);}
function generate(segments){var i,ret="";for(i=0;i<segments.length;i++){ret+=(segments[i].raw||segments[i].val||"");}
return ret;}
function reset(){public_api.warnings.length=0;}
var SEGMENT_GENERAL=0,SEGMENT_COMMENT=1,SEGMENT_STRING_LITERAL=2,SEGMENT_BACKTICK_LITERAL=3,SEGMENT_REGEX_LITERAL=4,SEGMENT_NUMBER_LITERAL=5,SEGMENT_SIMPLE_LITERAL=6,TOKEN_SPECIAL=50,STATE_GENERAL=0,STATE_SINGLE_LINE_COMMENT=1,STATE_MULTI_LINE_COMMENT=2,STATE_STRING_LITERAL=3,STATE_BACKTICK_LITERAL=4,STATE_REGEX_LITERAL_CANDIDATE=5,BLOCK_ALLOWED_GENERAL=0,BLOCK_ALLOWED_FUNCTION=1,BLOCK_ALLOWED_ARROW_FUNCTION=2,BLOCK_ALLOWED_PROPERTY_FUNCTION=3,BLOCK_ALLOWED_FOR=4,not_escaped_pattern=/(?:[^\\]|(?:^|[^\\])(?:\\\\)+)$/,PATTERN_BASE_GENERAL=/\b(?:new|return|throw|delete|in|of|else|void|typeof|yield|if|while|for|with|case|default|debugger|break|continue)\b|\bfunction(?:\s*\*)?|\/\/|\/\*|=>|(?:\r?\n)|[`"'+\-*\/=~!%&,\|;:\?<>\(\)\{\}\[\]]/,PATTERN_HTML_COMMENT=/(?:<!--|-->)/,PATTERN_NUMBER_LITERAL=/(?:0[xX][0-9a-fA-F]+)|(?:0[oO][0-7]+)|(?:0[bB][01]+)|(?:\d+\.\d*(?:[eE][+-]?\d+)?)|(?:\.\d+(?:[eE][+-]?\d+)?)|(?:\d+(?:[eE][+-]?\d+)?)/,PATTERN_SIMPLE_LITERAL=/\b(?:true|false|null|Infinity|NaN|undefined)\b/,STATE_PATTERNS=[null,/\r?\n/g,/\*\//g,null,/[`]/g,/\/[imgyn]*|\r?\n|[\[\]]/g],public_api,default_opts={overlook_html_comment_markers:false,identify_number_literals:false,identify_simple_literals:false};public_api={lex:lex,generate:generate,reset:reset,warnings:[],opts:clone(default_opts),SEGMENT:{GENERAL:SEGMENT_GENERAL,COMMENT:SEGMENT_COMMENT,STRING_LITERAL:SEGMENT_STRING_LITERAL,BACKTICK_LITERAL:SEGMENT_BACKTICK_LITERAL,REGEX_LITERAL:SEGMENT_REGEX_LITERAL,NUMBER_LITERAL:SEGMENT_NUMBER_LITERAL,SIMPLE_LITERAL:SEGMENT_SIMPLE_LITERAL}};return public_api;});
/*! $11 webfan/hps-features-implementation */
/*! https://github.com/jensarps/AMD-feature/blob/master/examples/targets/dynamic.js*/
define('webfan/hps-features-implementation',function(){var implementations={};var isArray=function(it){return{}.toString.call(it)=='[object Array]';};var isAvailable=function(impl,name){var isFunction=typeof impl.isAvailable==='function';return(isFunction&&impl.isAvailable(name))||(!isFunction&&impl.isAvailable);};var getFeature=function(name){var featureInfo=implementations[name];if(isArray(featureInfo)){for(var i=0,m=featureInfo.length;i<m;i++){if(isAvailable(featureInfo[i],name)){if('undefined'!==typeof featureInfo[i].module){if('function'===typeof featureInfo[i].module){return featureInfo[i].module();}else{return featureInfo[i].module;}}else if('undefined'!==typeof featureInfo[i].implementation){if('function'===typeof featureInfo[i].implementation){return require(featureInfo[i].implementation());}else{return require(featureInfo[i].implementation);}}
return featureInfo[i];}}}else{return featureInfo;}
return false;};implementations={browser:[{module:function(){return new Function("return this")();},isAvailable:function(){return!!(typeof window!=='undefined'&&typeof navigator!=='undefined'&&window.document);}}],worker:[{module:function(){console.log('Worker detected...');return new Function("return self")();},isAvailable:function(){return!(typeof self!=='undefined'&&typeof navigator!=='undefined')&&typeof importScripts!=='undefined';}}],Modernizr:[{implementation:'webfan/bootcache!modernizr',isAvailable:true}],es6Symbol:[{implementation:'webfan/bootcache!es6-symbol',isAvailable:'function'!==typeof Symbol},{module:function(){return Symbol;},isAvailable:'function'===typeof Symbol}],shimming:[{module:function(module){var shimming={};if(!Object.create){Object.create=function(proto){function cons(){}
cons.prototype=proto;return new cons();};}
function forEach(fn,scope){for(var i=0,len=this.length;i<len;++i){fn.call(scope,this[i],i,this);}}
if(!Array.prototype.forEach){Array.prototype.forEach=forEach;}
if(!NodeList.prototype.forEach){NodeList.prototype.forEach=forEach;}
(function(root){'use strict';var isSupported=(('navigator'in root)&&('sendBeacon'in root.navigator));var sendBeacon=function(url,data){var xhr=('XMLHttpRequest'in root)?new XMLHttpRequest():new ActiveXObject('Microsoft.XMLHTTP');xhr.open('POST',url,false);xhr.withCredentials=true;xhr.setRequestHeader('Accept','*/*');if(typeof data==='string'){xhr.setRequestHeader('Content-Type','text/plain;charset=UTF-8');xhr.responseType='text/plain';}else if(({}).toString.call(data)==='[object Blob]'){if(data.type){xhr.setRequestHeader('Content-Type',data.type);}}
try{xhr.send(data);}catch(error){}
return true;}
if(isSupported){sendBeacon=navigator.sendBeacon.bind(navigator);}
if(!isSupported){root.navigator.sendBeacon=sendBeacon;}
shimming.sendBeacon=sendBeacon;}(typeof window==='object'?window:self));shimming.forEach=forEach;shimming.getFeature=getFeature;shimming.config=requirejs.s.contexts._.config;shimming.customElements=getFeature('customElements');shimming.Proxy=getFeature('Proxy');return shimming;},isAvailable:true}],STAGE:[{module:function(){try{return{name:(!document.querySelector('head').hasAttribute('frdl-stage'))?'DEFAULTS':document.querySelector('head[frdl-stage]').getAttribute('frdl-stage'),supported:true,STAGE:'DEFAULTS',main:'frdl',vn:3};}catch(e){return undefined;}},isAvailable:(!document.querySelector('head').hasAttribute('frdl-stage'))||(!!document.querySelector('head').hasAttribute('frdl-stage')&&'DEFAULTS'===document.querySelector('head[frdl-stage]').getAttribute('frdl-stage'))},{module:function(){try{return{name:document.querySelector('head[frdl-stage]').getAttribute('frdl-stage'),supported:true,STAGE:'LEGACY',main:'/api-d/4/js-api/library.js?package=webfan-websites&scripts=,options,',vn:-1};}catch(e){return undefined;}},isAvailable:!!document.querySelector('head').hasAttribute('frdl-stage')&&'LEGACY'===document.querySelector('head[frdl-stage]').getAttribute('frdl-stage')},{module:function(){try{return{name:document.querySelector('head[frdl-stage]').getAttribute('frdl-stage'),supported:true,STAGE:'STABLES',main:'frdl',vn:0};}catch(e){return undefined;}},isAvailable:!!document.querySelector('head').hasAttribute('frdl-stage')&&'STABLES'===document.querySelector('head[frdl-stage]').getAttribute('frdl-stage')},{module:function(){try{return{name:document.querySelector('head[frdl-stage]').getAttribute('frdl-stage'),supported:true,STAGE:'BETAS',main:'frdl',vn:2};}catch(e){return undefined;}},isAvailable:!!document.querySelector('head').hasAttribute('frdl-stage')&&'BETAS'===document.querySelector('head[frdl-stage]').getAttribute('frdl-stage')},{module:function(){try{return{name:document.querySelector('head[frdl-stage]').getAttribute('frdl-stage'),supported:true,STAGE:'EXPERIMENTAL',main:'frdl',vn:3};}catch(e){return undefined;}},isAvailable:!!document.querySelector('head').hasAttribute('frdl-stage')&&'EXPERIMENTAL'===document.querySelector('head[frdl-stage]').getAttribute('frdl-stage')},{isAvailable:false}]};Object.defineProperty(implementations,'frdlweb',{'get':function()
{return implementations.shimming;}});implementations.vm=[{implementation:'webfan/bootcache!webfan/vm',isAvailable:(0<getFeature('STAGE').vn)?true:false},{implementation:'webfan/bootcache!webfan/vm-frdl',isAvailable:(0>=getFeature('STAGE').vn)?true:false}];implementations.customElements=[{module:function(){return customElements;},isAvailable:'function'===typeof document.registerElement&&'object'===typeof customElements&&'function'===typeof customElements.whenDefined},{implementation:'webfan/bootcache!webcomponents-bundle',isAvailable:true}];implementations.Proxy=[{implementation:'webfan/bootcache!webfan/navigator/shim-proxy',isAvailable:'undefined'===typeof global.Proxy},{module:function(){return global.Proxy;},isAvailable:'undefined'!==typeof global.Proxy}];function noWebIntents(){return(('undefined'===typeof global.Intent&&'undefined'===typeof global.WebKitIntent)||('undefined'===typeof global.navigator.startActivity&&'undefined'===typeof global.navigator.webkitStartActivity)||('undefined'===typeof global.intent&&'undefined'===typeof global.webkitIntent))?true:false;}
implementations.webIntent=[{implementation:'components/frdl/intent/webintents',isAvailable:noWebIntents()},{module:function(){return global.Intent||global.webkitIntent;},isAvailable:!noWebIntents()}];implementations.WebIntents=[{module:function(){getFeature('webIntent');return{intent:getFeature('webIntent')};},isAvailable:true}];implementations.uiDependencies=[{module:function(){return['module loaded : '+'webfan/frdl-main-x8','module loaded : '+'modernizr','module loaded : '+'mobile-detect/mobile-detect','module loaded : '+'webfan/navigator/simpledialog-9x','module loaded : '+'webfan/navigator/anchor-routing-9x','module loaded : '+'components/locale/jsin/jsin-9x'];},isAvailable:true}];implementations.uiReadyToLoadDependencies=[{module:function(){return['module loaded : '+'webfan/frdl-main-x8','module loaded : '+'modernizr','module loaded : '+'mobile-detect/mobile-detect'];},isAvailable:true}];implementations.uiVisualizer=[{implementation:'frdlcjs!ui-router/visualizer/visualizer-bundle-4.0.2',isAvailable:'undefined'!==typeof frdl&&'undefined'!==typeof frdl.debug&&'function'===typeof frdl.debug.mode&&0<frdl.debug.mode()},{implementation:'frdlcjs!ui-router/visualizer/visualizer-bundle-4.0.2',isAvailable:true}];return implementations;});
/*! $12 implementations */
define('implementations',['webfan/hps-features-implementation'],function(implementations){return implementations;});
/*! $13 feature/feature */
define('feature/feature',['feature'],function(feature){return feature;});define('feature',['implementations'],function(implementations){function isAvailable(impl,name){var isFunction=typeof impl.isAvailable==='function';return(isFunction&&impl.isAvailable(name))||(!isFunction&&impl.isAvailable);}
return{load:function(name,req,load,config){var i,impl,m,toLoad,featureInfo=implementations[name],hasMultipleImpls=Object.prototype.toString.call(featureInfo)==='[object Array]';if(config.isBuild&&hasMultipleImpls){for(i=0,m=featureInfo.length;i<m;i++){impl=featureInfo[i].implementation;if(typeof impl==='function'){impl=impl.call(featureInfo[i],name);}
if(impl){req([impl],load);}}
return;}
if(hasMultipleImpls){for(i=0,m=featureInfo.length;i<m;i++){impl=featureInfo[i];if(isAvailable(impl,name)){break;}
impl=null;}}else{impl=featureInfo;if(impl&&typeof impl==='object'&&('isAvailable'in impl)&&!isAvailable(impl,name)){impl=null;}}
if(impl){if(typeof impl==='string'){toLoad=impl;}else if(typeof impl==='object'&&('module'in impl)){load(typeof impl.module==='function'?impl.module(name):impl.module);return;}else{toLoad=impl.implementation;if(typeof toLoad==='function'){toLoad=impl.implementation(name);}}
req([toLoad],load);}else{req([],load);}}};});
/*! $14 on-idle */
define('on-idle',function(){var dftOpts={}
var hasWindow=typeof window!=='undefined'
var hasIdle=hasWindow&&window.requestIdleCallback
function onIdle(cb,opts){opts=opts||dftOpts;var timerId;if('function'!==typeof cb||'object'!==typeof opts){throw new Error('Invalid arguments! /on-idle.js');}
if(hasIdle){timerId=window.requestIdleCallback(function(idleDeadline){if(idleDeadline.timeRemaining()<=1&&!idleDeadline.didTimeout){return onIdle(cb,opts);}else{cb(idleDeadline);}},opts);return window.cancelIdleCallback.bind(window,timerId);}else if(hasWindow){timerId=setTimeout(cb,0);return clearTimeout.bind(window,timerId);}}
return onIdle;});
/*! $15 webfan/simple-batch */
/*! simple-batch.js webfan.de */
define('webfan/simple-batch',function(){return function b(stack,callback){(function batch(a,fin){(function next(){if(0===a.length){fin();}else{return new Promise(a.shift()).then(function(r){return next();});}}());}(stack,callback));};});
/*! $16 webfan/nextTick */
define('webfan/nextTick',['on-idle'],function(onIdle){'use strict';var removeEventListener=function(){};function reset(){removeEventListener=function(){};};function eventLoop(){removeEventListener();reset();}
function stop(){eventLoop();}
function nextTick(callback){var event;event=onIdle(function(){callback();});removeEventListener=event;return event;}
nextTick.idle=function(callback){var event;event=onIdle(function(){callback();});removeEventListener=event;return event;};nextTick.stop=stop;return nextTick;});
/*! $17 webfan/ready-check */
define('webfan/ready-check',function(){
/*!# @license * Copied + modified from http://stackoverflow.com/questions/9899372/pure-javascript-equivalent-to-jquerys-ready-how-to-call-a-function-when-the Thanks! */
return function(InitBaseObj,InitFuncName,InitAddReadyCheckfuncName,InitReadyEventListener){var ThenEvent=function(_baseObj,_funcName,addReadyCheckfuncName,ReadyEventListener){var funcName=_funcName||"ready";var baseObj=_baseObj||global;require(['feature!es6Symbol','feature!browser','feature!worker','process'],function(es6Symbol,browser,worker,process){'use strict';if('undefined'===typeof browser)browser=false;if('undefined'===typeof worker)worker=false;var _TO_=1;var TIMEO=false;var readyList=[];var readyFired=false;var readyEventHandlersInstalled=false===browser||('undefined'!==typeof ReadyEventListener&&false===ReadyEventListener);var defered=false;var readyQueue=[];baseObj[funcName]=function(callback,context){if(0+baseObj[funcName]+0){process.nextTick(function(){try{callback(context);}catch(err){console.trace(err);}});return;}
readyList.push({fn:callback,ctx:context});if(!worker&&!readyEventHandlersInstalled){document.addEventListener("DOMContentLoaded",resetReadyTick,false);window.addEventListener("load",resetReadyTick,false);document.addEventListener("readystatechange",function(){if(document.readyState!=="complete"){if(true===readyFired){readyFired=false;if(0<readyList.length||0<readyQueue.length){}}
defered=true;}else{resetReadyTick();}},false,true);readyEventHandlersInstalled=true;}
resetReadyTick();return baseObj;};baseObj[funcName][Symbol.toPrimitive]=function(hint){var r=0===readyQueue.length;if(hint=='number'){return(r)?1:0;}
if(hint=='string'){return(r)?'1':'0';}
return r;};baseObj[funcName]['debug']=function(){console.log('debug ready fn',readyQueue.length,defered,readyFired,(0+baseObj[funcName]+0));};baseObj[addReadyCheckfuncName]=function(fn){if('function'===typeof fn&&'function'===typeof readyQueue.push){readyQueue.push(fn);}
readyFired=false;resetReadyTick();return baseObj;};baseObj.If=function(fn){return baseObj[addReadyCheckfuncName](fn);};function resetReadyTick(){if(false!==TIMEO){TIMEO();TIMEO=false;}
TIMEO=process.nextTick(ready,_TO_);}
function ready(){var df=true&&!(0+baseObj[funcName]+0);var newQueue=[];frdl.each(readyQueue,function(i,v){if('function'===typeof v&&('function'===typeof v&&true!==v())){defered=true;df=true;newQueue.push(v);}else{readyQueue[i]=null;}});readyQueue=newQueue;defered=df&&0!==readyQueue.length&&!(0+baseObj[funcName]+0);if(false===readyFired&&false===defered&&readyEventHandlersInstalled&&document.readyState==="complete"){readyFired=true;while(0<readyList.length&&false===defered&&readyEventHandlersInstalled&&document.readyState==="complete"){var Cb=readyList.shift();var r=Cb.fn.apply(null,[Cb.ctx]);if('boolean'===typeof r){if(true===r){if(-1==readyList.indexOf(Cb)){readyList.push(Cb);}
defered=true;}}}}else{resetReadyTick();}}});};InitBaseObj.addReadyEventListener=function(_baseObj,_funcName,_addReadyCheckfuncName,_ReadyEventListener){ThenEvent(_baseObj,_funcName,_addReadyCheckfuncName,_ReadyEventListener);};require(['feature!es6Symbol','feature!browser','feature!worker','process'],function(es6Symbol,browser,worker,process){InitBaseObj.addReadyEventListener(InitBaseObj,InitFuncName,InitAddReadyCheckfuncName,InitReadyEventListener);});};});
/*! $18 process */
define('process',['webfan/nextTick','EventEmitter','webfan/ready-check','url','path'],function(nextTick,EventEmitter,makeReadyCheck,url,path){const myPID=pid();if('undefined'===typeof sessionStorage){sessionStorage={};sessionStorage.setItem=function(k,v){this[k]=v;};sessionStorage.getItem=function(k){if('undefined'===typeof this[k])return null;return this[k];};}
function IllegalConfigurationContextSetter(c){throw new Error('Illegal configuration context (@set)');}
function pid(){var t=(new Date()).getTime();return(t%(0+location.host.length+location.pathname.length+location.protocol.length+location.href.length+location.hash.length))+(Math.floor(Math.random()*100))
+(t%(1+location.host.length+location.pathname.length+location.protocol.length+location.href.length+location.hash.length))+(Math.floor(Math.random()*100))
+(t%(2+location.host.length+location.pathname.length+location.protocol.length+location.href.length+location.hash.length))+(Math.floor(Math.random()*100));}
function getmypid(){return myPID;}
try{process=new EventEmitter();}catch(e){global.process=new EventEmitter();}
var id=((new Date()).getTime()%location.host.length+location.pathname.length+location.protocol.length+location.href.length+location.hash.length);var next=nextTick;var firebug_get=false;process.nextTick=function(callback){var cb=function(){callback();};return next(cb);};Object.defineProperty(process,'getmypid',{get:function(){return getmypid;},set:IllegalConfigurationContextSetter});Object.defineProperty(process,'pid',{get:function(){return process.getmypid();},set:IllegalConfigurationContextSetter});Object.defineProperty(process,'rand_pid',{get:function(){return pid;},set:IllegalConfigurationContextSetter});var debug={mode:function(m){if('undefined'!==typeof m){sessionStorage&&sessionStorage.setItem('frdl.debug.mode',m);}
var r=(sessionStorage&&sessionStorage.getItem('frdl.debug.mode'))?sessionStorage.getItem('frdl.debug.mode'):'EXPERIMENTAL'===process.env.FRDLWEB.ENDPOINT_BROWSER.CONTEXT.STAGE;if(r>0&&false===firebug_get&&'undefined'===typeof firebug){firebug_get=true;var s=document.createElement('script');s.onload=function(){firebug.init();setTimeout(function(){document.querySelector('.Close').click();},256);};s.src='https://webfan.de/cdn/frdl/flow/libraries/firebug/firebug.js';document.body.append(s);}
return r;}};process.node=false;process.shim='frdl';process.env={NODE_PATH:'frdl://uid.webfan.env.hps/node',FRDLWEB:{ENDPOINT_BROWSER:{}}};(function(baseUrl){var _cwd=baseUrl;process.cwd=function(){if('string'===typeof arguments[0]){var e='process.cwd changed to node.js behavior, you may want to use process.chdir() right now!';if(process.env.DEBUG){throw e;}else{console.warn(e);return process.chdir(arguments[0]);}}else{return _cwd;}};process.chdir=function(dir){require(['fs'],function(fs){fs.filer.cd(fs.filer.pathToFilesystemURL(dir));});};}(require.s.contexts._.config.baseUrl));process.toString=function(){return'I\'m NOT-a-Node-Process! [frdl '+process.pid+']';};process[Symbol.toPrimitive]=function(hint){if(hint==='number'){return process.pid;}
if(hint==='string'){return process.toString();}
throw'Process: access violation exception';};Object.defineProperty(process.env,'DEBUG',{get:function(){return debug.mode()>0;},set:function(d){return debug.mode(d);}});Object.defineProperty(process.env.FRDLWEB.ENDPOINT_BROWSER,'ENDPOINT_FRDL_RPC_WHITE',{get:function(){return undefined;},set:IllegalConfigurationContextSetter});Object.defineProperty(process.env.FRDLWEB.ENDPOINT_BROWSER,'ENDPOINT_HPS_RPC_WHITE',{get:function(){return Webfan.hps.rpc.url;},set:IllegalConfigurationContextSetter});Object.defineProperty(process.env.FRDLWEB.ENDPOINT_BROWSER,'ENDPOINT_HPS_RPC_GREEN',{get:function(){return undefined;},set:IllegalConfigurationContextSetter});Object.defineProperty(process.env.FRDLWEB.ENDPOINT_BROWSER,'ENDPOINT_HPS_RPC_BLUE',{get:function(){return undefined;},set:IllegalConfigurationContextSetter});Object.defineProperty(process.env.FRDLWEB.ENDPOINT_BROWSER,'MODULE_REQUIRE',{get:function(){return frdl.config;},set:IllegalConfigurationContextSetter});Object.defineProperty(process.env.FRDLWEB.ENDPOINT_BROWSER,'CONTEXT',{get:function(){if('undefined'===typeof Webfan||'undefined'===typeof Webfan.hps||'undefined'===typeof Webfan.hps.context)return undefined;return Webfan.hps.context;},set:IllegalConfigurationContextSetter});Object.defineProperty(process.env.FRDLWEB.ENDPOINT_BROWSER,'SERVER',{get:function(){if('undefined'===typeof Webfan||'undefined'===typeof Webfan.hps||'undefined'===typeof Webfan.hps.scriptengine)return undefined;return Webfan.hps.scriptengine;},set:IllegalConfigurationContextSetter});makeReadyCheck(process,'ready','addReadyCheck',true);function stdout(opts){if(!(this instanceof stdout))return new stdout(opts)
opts=opts||{}
this.label=(opts.label!==undefined)?opts.label:'stdout'}
stdout.prototype.write=function(chunks,encoding,cb){var output=chunks.toString?chunks.toString():chunks
if(this.label===false){console.log(output)}else{console.log(this.label+':',output)}
process.nextTick(cb)};process.stdout=new stdout();process.exit=function(code){require(['com.webfan.gui'],function(UI){UI.messageWindowReload(((code||0)===0)?'log':'error','A process exits with code '+(code||0).toString(),location.protocol+'//'+location.host+location.pathname);});};debug.mode();return process;});
/*! $19 amdefine */
define('amdefine',function(){return define;});
/*! $20 ieee754 */
define('ieee754',function(){return{read:function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?(nBytes-1):0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&((1<<(-nBits))-1);s>>=(-nBits);nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}
m=e&((1<<(-nBits))-1);e>>=(-nBits);nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}
if(e===0){e=1-eBias;}else if(e===eMax){return m?NaN:((s?-1:1)*Infinity);}else{m=m+Math.pow(2,mLen);e=e-eBias;}
return(s?-1:1)*m*Math.pow(2,e-mLen);},write:function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=(mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0);var i=isLE?0:(nBytes-1);var d=isLE?1:-1;var s=value<0||(value===0&&1/value<0)?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax;}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2;}
if(e+eBias>=1){value+=rt/c;}else{value+=rt*Math.pow(2,1-eBias);}
if(value*c>=2){e++;c/=2;}
if(e+eBias>=eMax){m=0;e=eMax;}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias;}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0;}}
for(;mLen>=8;buffer[offset+i]=m&0xff,i+=d,m/=256,mLen-=8){}
e=(e<<mLen)|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&0xff,i+=d,e/=256,eLen-=8){}
buffer[offset+i-d]|=s*128;}};});
/*! $21 base64-js */
define('base64-js',function(require,exports,module){'use strict';exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=='undefined'?Uint8Array:Array;var code='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i;}
revLookup['-'.charCodeAt(0)]=62;revLookup['_'.charCodeAt(0)]=63;return exports;function placeHoldersCount(b64){var len=b64.length;if(len%4>0){throw new Error('Invalid string. Length must be a multiple of 4');}
return b64[len-2]==='='?2:b64[len-1]==='='?1:0;}
function byteLength(b64){return b64.length*3/4-placeHoldersCount(b64);}
function toByteArray(b64){var i,j,l,tmp,placeHolders,arr;var len=b64.length;placeHolders=placeHoldersCount(b64);arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=(revLookup[b64.charCodeAt(i)]<<18)|(revLookup[b64.charCodeAt(i+1)]<<12)|(revLookup[b64.charCodeAt(i+2)]<<6)|revLookup[b64.charCodeAt(i+3)];arr[L++]=(tmp>>16)&0xFF;arr[L++]=(tmp>>8)&0xFF;arr[L++]=tmp&0xFF;}
if(placeHolders===2){tmp=(revLookup[b64.charCodeAt(i)]<<2)|(revLookup[b64.charCodeAt(i+1)]>>4);arr[L++]=tmp&0xFF;}else if(placeHolders===1){tmp=(revLookup[b64.charCodeAt(i)]<<10)|(revLookup[b64.charCodeAt(i+1)]<<4)|(revLookup[b64.charCodeAt(i+2)]>>2);arr[L++]=(tmp>>8)&0xFF;arr[L++]=tmp&0xFF;}
return arr;}
function tripletToBase64(num){return lookup[num>>18&0x3F]+lookup[num>>12&0x3F]+lookup[num>>6&0x3F]+lookup[num&0x3F];}
function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+(uint8[i+2]);output.push(tripletToBase64(tmp));}
return output.join('');}
function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output='';var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,(i+maxChunkLength)>len2?len2:(i+maxChunkLength)));}
if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[(tmp<<4)&0x3F];output+='==';}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+(uint8[len-1]);output+=lookup[tmp>>10];output+=lookup[(tmp>>4)&0x3F];output+=lookup[(tmp<<2)&0x3F];output+='=';}
parts.push(output);return parts.join('');}});
/*! $22 buffer */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
define('buffer',['require','exports','module','frdlcjs!base64-js','frdlcjs!ieee754'],function(require,exports,module,base64,ieee754){'use strict';function Buffer(arg,encodingOrOffset,length){if(typeof arg==='number')
{if(typeof encodingOrOffset==='string')
{throw new Error('If encoding is specified then the first argument must be a string');}
return allocUnsafe(arg);}
return from(arg,encodingOrOffset,length);}
function typedArraySupport()
{try
{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function()
{return 42;}};return arr.foo()===42;}
catch(e)
{return false;}}
exports=Buffer;exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=0x7fffffff;exports.kMaxLength=K_MAX_LENGTH;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT)
{console.error('This browser lacks typed array (Uint8Array) support which is required by '+'`buffer` v5.x. Use `buffer` v4.x if you require old browser support.');}
function createBuffer(length)
{if(length>K_MAX_LENGTH)
{throw new RangeError('Invalid typed array length');}
var buf=new Uint8Array(length);buf.__proto__=Buffer.prototype;return buf;}
if(typeof Symbol!=='undefined'&&Symbol.species&&Buffer[Symbol.species]===Buffer)
{Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false});}
Buffer.poolSize=8192;function from(value,encodingOrOffset,length)
{if(typeof value==='number')
{throw new TypeError('"value" argument must not be a number');}
if(typeof ArrayBuffer!=='undefined'&&value instanceof ArrayBuffer)
{return fromArrayBuffer(value,encodingOrOffset,length);}
if(typeof value==='string')
{return fromString(value,encodingOrOffset);}
return fromObject(value);}
Buffer.from=function(value,encodingOrOffset,length)
{return from(value,encodingOrOffset,length);};Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;function assertSize(size)
{if(typeof size!=='number')
{throw new TypeError('"size" argument must be a number');}
else if(size<0)
{throw new RangeError('"size" argument must not be negative');}}
function alloc(size,fill,encoding)
{assertSize(size);if(size<=0)
{return createBuffer(size);}
if(fill!==undefined)
{return typeof encoding==='string'?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill);}
return createBuffer(size);}
Buffer.alloc=function(size,fill,encoding)
{return alloc(size,fill,encoding);};function allocUnsafe(size)
{assertSize(size);return createBuffer(size<0?0:checked(size)|0);}
Buffer.allocUnsafe=function(size)
{return allocUnsafe(size);};Buffer.allocUnsafeSlow=function(size)
{return allocUnsafe(size);};function fromString(string,encoding)
{if(typeof encoding!=='string'||encoding==='')
{encoding='utf8';}
if(!Buffer.isEncoding(encoding))
{throw new TypeError('"encoding" must be a valid string encoding');}
var length=byteLength(string,encoding)|0;var buf=createBuffer(length);var actual=buf.write(string,encoding);if(actual!==length)
{buf=buf.slice(0,actual);}
return buf;}
function fromArrayLike(array)
{var length=array.length<0?0:checked(array.length)|0;var buf=createBuffer(length);for(var i=0;i<length;i+=1)
{buf[i]=array[i]&255;}
return buf;}
function fromArrayBuffer(array,byteOffset,length)
{array.byteLength;if(byteOffset<0||array.byteLength<byteOffset)
{throw new RangeError('\'offset\' is out of bounds');}
if(array.byteLength<byteOffset+(length||0))
{throw new RangeError('\'length\' is out of bounds');}
var buf;if(byteOffset===undefined&&length===undefined)
{buf=new Uint8Array(array);}
else if(length===undefined)
{buf=new Uint8Array(array,byteOffset);}
else
{buf=new Uint8Array(array,byteOffset,length);}
buf.__proto__=Buffer.prototype;return buf;}
function fromObject(obj)
{if(Buffer.isBuffer(obj))
{var len=checked(obj.length)|0;var buf=createBuffer(len);if(buf.length===0)
{return buf;}
obj.copy(buf,0,0,len);return buf;}
if(obj)
{if((typeof ArrayBuffer!=='undefined'&&obj.buffer instanceof ArrayBuffer)||'length'in obj)
{if(typeof obj.length!=='number'||isnan(obj.length))
{return createBuffer(0);}
return fromArrayLike(obj);}
if(obj.type==='Buffer'&&Array.isArray(obj.data))
{return fromArrayLike(obj.data);}}
throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');}
function checked(length)
{if(length>=K_MAX_LENGTH)
{throw new RangeError('Attempt to allocate Buffer larger than maximum '+'size: 0x'+K_MAX_LENGTH.toString(16)+' bytes');}
return length|0;}
function SlowBuffer(length)
{if(+length!=length)
{length=0;}
return Buffer.alloc(+length);}
Buffer.isBuffer=function isBuffer(b)
{return!!(b!=null&&b._isBuffer);};Buffer.compare=function compare(a,b)
{if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))
{throw new TypeError('Arguments must be Buffers');}
if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i)
{if(a[i]!==b[i])
{x=a[i];y=b[i];break;}}
if(x<y)return-1;if(y<x)return 1;return 0;};Buffer.isEncoding=function isEncoding(encoding)
{switch(String(encoding).toLowerCase())
{case'hex':case'utf8':case'utf-8':case'ascii':case'latin1':case'binary':case'base64':case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return true;default:return false;}};Buffer.concat=function concat(list,length)
{if(!Array.isArray(list))
{throw new TypeError('"list" argument must be an Array of Buffers');}
if(list.length===0)
{return Buffer.alloc(0);}
var i;if(length===undefined)
{length=0;for(i=0;i<list.length;++i)
{length+=list[i].length;}}
var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i)
{var buf=list[i];if(!Buffer.isBuffer(buf))
{throw new TypeError('"list" argument must be an Array of Buffers');}
buf.copy(buffer,pos);pos+=buf.length;}
return buffer;};function byteLength(string,encoding)
{if(Buffer.isBuffer(string))
{return string.length;}
if(typeof ArrayBuffer!=='undefined'&&typeof ArrayBuffer.isView==='function'&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))
{return string.byteLength;}
if(typeof string!=='string')
{string=''+string;}
var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;)
{switch(encoding)
{case'ascii':case'latin1':case'binary':return len;case'utf8':case'utf-8':case undefined:return utf8ToBytes(string).length;case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return len*2;case'hex':return len>>>1;case'base64':return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(''+encoding).toLowerCase();loweredCase=true;}}}
Buffer.byteLength=byteLength;function slowToString(encoding,start,end)
{var loweredCase=false;if(start===undefined||start<0)
{start=0;}
if(start>this.length)
{return'';}
if(end===undefined||end>this.length)
{end=this.length;}
if(end<=0)
{return'';}
end>>>=0;start>>>=0;if(end<=start)
{return'';}
if(!encoding)encoding='utf8';while(true)
{switch(encoding)
{case'hex':return hexSlice(this,start,end);case'utf8':case'utf-8':return utf8Slice(this,start,end);case'ascii':return asciiSlice(this,start,end);case'latin1':case'binary':return latin1Slice(this,start,end);case'base64':return base64Slice(this,start,end);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding);encoding=(encoding+'').toLowerCase();loweredCase=true;}}}
Buffer.prototype._isBuffer=true;function swap(b,n,m)
{var i=b[n];b[n]=b[m];b[m]=i;}
Buffer.prototype.swap16=function swap16()
{var len=this.length;if(len%2!==0)
{throw new RangeError('Buffer size must be a multiple of 16-bits');}
for(var i=0;i<len;i+=2)
{swap(this,i,i+1);}
return this;};Buffer.prototype.swap32=function swap32()
{var len=this.length;if(len%4!==0)
{throw new RangeError('Buffer size must be a multiple of 32-bits');}
for(var i=0;i<len;i+=4)
{swap(this,i,i+3);swap(this,i+1,i+2);}
return this;};Buffer.prototype.swap64=function swap64()
{var len=this.length;if(len%8!==0)
{throw new RangeError('Buffer size must be a multiple of 64-bits');}
for(var i=0;i<len;i+=8)
{swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4);}
return this;};Buffer.prototype.toString=function toString()
{var length=this.length;if(length===0)return'';if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments);};Buffer.prototype.equals=function equals(b)
{if(!Buffer.isBuffer(b))throw new TypeError('Argument must be a Buffer');if(this===b)return true;return Buffer.compare(this,b)===0;};Buffer.prototype.inspect=function inspect()
{var str='';var max=exports.INSPECT_MAX_BYTES;if(this.length>0)
{str=this.toString('hex',0,max).match(/.{2}/g).join(' ');if(this.length>max)str+=' ... ';}
return'<Buffer '+str+'>';};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd)
{if(!Buffer.isBuffer(target))
{throw new TypeError('Argument must be a Buffer');}
if(start===undefined)
{start=0;}
if(end===undefined)
{end=target?target.length:0;}
if(thisStart===undefined)
{thisStart=0;}
if(thisEnd===undefined)
{thisEnd=this.length;}
if(start<0||end>target.length||thisStart<0||thisEnd>this.length)
{throw new RangeError('out of range index');}
if(thisStart>=thisEnd&&start>=end)
{return 0;}
if(thisStart>=thisEnd)
{return-1;}
if(start>=end)
{return 1;}
start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i)
{if(thisCopy[i]!==targetCopy[i])
{x=thisCopy[i];y=targetCopy[i];break;}}
if(x<y)return-1;if(y<x)return 1;return 0;};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir)
{if(buffer.length===0)return-1;if(typeof byteOffset==='string')
{encoding=byteOffset;byteOffset=0;}
else if(byteOffset>0x7fffffff)
{byteOffset=0x7fffffff;}
else if(byteOffset<-0x80000000)
{byteOffset=-0x80000000;}
byteOffset=+byteOffset;if(isNaN(byteOffset))
{byteOffset=dir?0:(buffer.length-1);}
if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length)
{if(dir)return-1;else byteOffset=buffer.length-1;}
else if(byteOffset<0)
{if(dir)byteOffset=0;else return-1;}
if(typeof val==='string')
{val=Buffer.from(val,encoding);}
if(Buffer.isBuffer(val))
{if(val.length===0)
{return-1;}
return arrayIndexOf(buffer,val,byteOffset,encoding,dir);}
else if(typeof val==='number')
{val=val&0xFF;if(typeof Uint8Array.prototype.indexOf==='function')
{if(dir)
{return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset);}
else
{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset);}}
return arrayIndexOf(buffer,[val],byteOffset,encoding,dir);}
throw new TypeError('val must be string, number or Buffer');}
function arrayIndexOf(arr,val,byteOffset,encoding,dir)
{var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined)
{encoding=String(encoding).toLowerCase();if(encoding==='ucs2'||encoding==='ucs-2'||encoding==='utf16le'||encoding==='utf-16le')
{if(arr.length<2||val.length<2)
{return-1;}
indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2;}}
function read(buf,i)
{if(indexSize===1)
{return buf[i];}
else
{return buf.readUInt16BE(i*indexSize);}}
var i;if(dir)
{var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)
{if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex))
{if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize;}
else
{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1;}}}
else
{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--)
{var found=true;for(var j=0;j<valLength;j++)
{if(read(arr,i+j)!==read(val,j))
{found=false;break;}}
if(found)return i;}}
return-1;}
Buffer.prototype.includes=function includes(val,byteOffset,encoding)
{return this.indexOf(val,byteOffset,encoding)!==-1;};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding)
{return bidirectionalIndexOf(this,val,byteOffset,encoding,true);};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding)
{return bidirectionalIndexOf(this,val,byteOffset,encoding,false);};function hexWrite(buf,string,offset,length)
{offset=Number(offset)||0;var remaining=buf.length-offset;if(!length)
{length=remaining;}
else
{length=Number(length);if(length>remaining)
{length=remaining;}}
var strLen=string.length;if(strLen%2!==0)throw new TypeError('Invalid hex string');if(length>strLen/2)
{length=strLen/2;}
for(var i=0;i<length;++i)
{var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed;}
return i;}
function utf8Write(buf,string,offset,length)
{return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length);}
function asciiWrite(buf,string,offset,length)
{return blitBuffer(asciiToBytes(string),buf,offset,length);}
function latin1Write(buf,string,offset,length)
{return asciiWrite(buf,string,offset,length);}
function base64Write(buf,string,offset,length)
{return blitBuffer(base64ToBytes(string),buf,offset,length);}
function ucs2Write(buf,string,offset,length)
{return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length);}
Buffer.prototype.write=function write(string,offset,length,encoding)
{if(offset===undefined)
{encoding='utf8';length=this.length;offset=0;}
else if(length===undefined&&typeof offset==='string')
{encoding=offset;length=this.length;offset=0;}
else if(isFinite(offset))
{offset=offset>>>0;if(isFinite(length))
{length=length>>>0;if(encoding===undefined)encoding='utf8';}
else
{encoding=length;length=undefined;}}
else
{throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');}
var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if((string.length>0&&(length<0||offset<0))||offset>this.length)
{throw new RangeError('Attempt to write outside buffer bounds');}
if(!encoding)encoding='utf8';var loweredCase=false;for(;;)
{switch(encoding)
{case'hex':return hexWrite(this,string,offset,length);case'utf8':case'utf-8':return utf8Write(this,string,offset,length);case'ascii':return asciiWrite(this,string,offset,length);case'latin1':case'binary':return latin1Write(this,string,offset,length);case'base64':return base64Write(this,string,offset,length);case'ucs2':case'ucs-2':case'utf16le':case'utf-16le':return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError('Unknown encoding: '+encoding);encoding=(''+encoding).toLowerCase();loweredCase=true;}}};Buffer.prototype.toJSON=function toJSON()
{return{type:'Buffer',data:Array.prototype.slice.call(this._arr||this,0)};};function base64Slice(buf,start,end)
{if(start===0&&end===buf.length)
{return base64.fromByteArray(buf);}
else
{return base64.fromByteArray(buf.slice(start,end));}}
function utf8Slice(buf,start,end)
{end=Math.min(buf.length,end);var res=[];var i=start;while(i<end)
{var firstByte=buf[i];var codePoint=null;var bytesPerSequence=(firstByte>0xEF)?4:(firstByte>0xDF)?3:(firstByte>0xBF)?2:1;if(i+bytesPerSequence<=end)
{var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence)
{case 1:if(firstByte<0x80)
{codePoint=firstByte;}
break;case 2:secondByte=buf[i+1];if((secondByte&0xC0)===0x80)
{tempCodePoint=(firstByte&0x1F)<<0x6|(secondByte&0x3F);if(tempCodePoint>0x7F)
{codePoint=tempCodePoint;}}
break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&0xC0)===0x80&&(thirdByte&0xC0)===0x80)
{tempCodePoint=(firstByte&0xF)<<0xC|(secondByte&0x3F)<<0x6|(thirdByte&0x3F);if(tempCodePoint>0x7FF&&(tempCodePoint<0xD800||tempCodePoint>0xDFFF))
{codePoint=tempCodePoint;}}
break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&0xC0)===0x80&&(thirdByte&0xC0)===0x80&&(fourthByte&0xC0)===0x80)
{tempCodePoint=(firstByte&0xF)<<0x12|(secondByte&0x3F)<<0xC|(thirdByte&0x3F)<<0x6|(fourthByte&0x3F);if(tempCodePoint>0xFFFF&&tempCodePoint<0x110000)
{codePoint=tempCodePoint;}}}}
if(codePoint===null)
{codePoint=0xFFFD;bytesPerSequence=1;}
else if(codePoint>0xFFFF)
{codePoint-=0x10000;res.push(codePoint>>>10&0x3FF|0xD800);codePoint=0xDC00|codePoint&0x3FF;}
res.push(codePoint);i+=bytesPerSequence;}
return decodeCodePointsArray(res);}
var MAX_ARGUMENTS_LENGTH=0x1000;function decodeCodePointsArray(codePoints)
{var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)
{return String.fromCharCode.apply(String,codePoints);}
var res='';var i=0;while(i<len)
{res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));}
return res;}
function asciiSlice(buf,start,end)
{var ret='';end=Math.min(buf.length,end);for(var i=start;i<end;++i)
{ret+=String.fromCharCode(buf[i]&0x7F);}
return ret;}
function latin1Slice(buf,start,end)
{var ret='';end=Math.min(buf.length,end);for(var i=start;i<end;++i)
{ret+=String.fromCharCode(buf[i]);}
return ret;}
function hexSlice(buf,start,end)
{var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out='';for(var i=start;i<end;++i)
{out+=toHex(buf[i]);}
return out;}
function utf16leSlice(buf,start,end)
{var bytes=buf.slice(start,end);var res='';for(var i=0;i<bytes.length;i+=2)
{res+=String.fromCharCode(bytes[i]+bytes[i+1]*256);}
return res;}
Buffer.prototype.slice=function slice(start,end)
{var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0)
{start+=len;if(start<0)start=0;}
else if(start>len)
{start=len;}
if(end<0)
{end+=len;if(end<0)end=0;}
else if(end>len)
{end=len;}
if(end<start)end=start;var newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype;return newBuf;};function checkOffset(offset,ext,length)
{if((offset%1)!==0||offset<0)throw new RangeError('offset is not uint');if(offset+ext>length)throw new RangeError('Trying to access beyond buffer length');}
Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert)
{offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=0x100))
{val+=this[offset+i]*mul;}
return val;};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert)
{offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)
{checkOffset(offset,byteLength,this.length);}
var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=0x100))
{val+=this[offset+--byteLength]*mul;}
return val;};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);return this[offset];};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|(this[offset+1]<<8);};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return(this[offset]<<8)|this[offset+1];};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return((this[offset])|(this[offset+1]<<8)|(this[offset+2]<<16))+(this[offset+3]*0x1000000);};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]*0x1000000)+((this[offset+1]<<16)|(this[offset+2]<<8)|this[offset+3]);};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert)
{offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=0x100))
{val+=this[offset+i]*mul;}
mul*=0x80;if(val>=mul)val-=Math.pow(2,8*byteLength);return val;};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert)
{offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=0x100))
{val+=this[offset+--i]*mul;}
mul*=0x80;if(val>=mul)val-=Math.pow(2,8*byteLength);return val;};Buffer.prototype.readInt8=function readInt8(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&0x80))return(this[offset]);return((0xff-this[offset]+1)*-1);};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|(this[offset+1]<<8);return(val&0x8000)?val|0xFFFF0000:val;};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|(this[offset]<<8);return(val&0x8000)?val|0xFFFF0000:val;};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset])|(this[offset+1]<<8)|(this[offset+2]<<16)|(this[offset+3]<<24);};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]<<24)|(this[offset+1]<<16)|(this[offset+2]<<8)|(this[offset+3]);};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4);};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4);};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8);};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert)
{offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8);};function checkInt(buf,value,offset,ext,max,min)
{if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError('Index out of range');}
Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert)
{value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)
{var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0);}
var mul=1;var i=0;this[offset]=value&0xFF;while(++i<byteLength&&(mul*=0x100))
{this[offset+i]=(value/mul)&0xFF;}
return offset+byteLength;};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert)
{value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)
{var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0);}
var i=byteLength-1;var mul=1;this[offset+i]=value&0xFF;while(--i>=0&&(mul*=0x100))
{this[offset+i]=(value/mul)&0xFF;}
return offset+byteLength;};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,0xff,0);this[offset]=(value&0xff);return offset+1;};Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,0xffff,0);this[offset]=(value&0xff);this[offset+1]=(value>>>8);return offset+2;};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,0xffff,0);this[offset]=(value>>>8);this[offset+1]=(value&0xff);return offset+2;};Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,0xffffffff,0);this[offset+3]=(value>>>24);this[offset+2]=(value>>>16);this[offset+1]=(value>>>8);this[offset]=(value&0xff);return offset+4;};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,0xffffffff,0);this[offset]=(value>>>24);this[offset+1]=(value>>>16);this[offset+2]=(value>>>8);this[offset+3]=(value&0xff);return offset+4;};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)
{var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit);}
var i=0;var mul=1;var sub=0;this[offset]=value&0xFF;while(++i<byteLength&&(mul*=0x100))
{if(value<0&&sub===0&&this[offset+i-1]!==0)
{sub=1;}
this[offset+i]=((value/mul)>>0)-sub&0xFF;}
return offset+byteLength;};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)
{var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit);}
var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&0xFF;while(--i>=0&&(mul*=0x100))
{if(value<0&&sub===0&&this[offset+i+1]!==0)
{sub=1;}
this[offset+i]=((value/mul)>>0)-sub&0xFF;}
return offset+byteLength;};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,0x7f,-0x80);if(value<0)value=0xff+value+1;this[offset]=(value&0xff);return offset+1;};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,0x7fff,-0x8000);this[offset]=(value&0xff);this[offset+1]=(value>>>8);return offset+2;};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,0x7fff,-0x8000);this[offset]=(value>>>8);this[offset+1]=(value&0xff);return offset+2;};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,0x7fffffff,-0x80000000);this[offset]=(value&0xff);this[offset+1]=(value>>>8);this[offset+2]=(value>>>16);this[offset+3]=(value>>>24);return offset+4;};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,0x7fffffff,-0x80000000);if(value<0)value=0xffffffff+value+1;this[offset]=(value>>>24);this[offset+1]=(value>>>16);this[offset+2]=(value>>>8);this[offset+3]=(value&0xff);return offset+4;};function checkIEEE754(buf,value,offset,ext,max,min)
{if(offset+ext>buf.length)throw new RangeError('Index out of range');if(offset<0)throw new RangeError('Index out of range');}
function writeFloat(buf,value,offset,littleEndian,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)
{checkIEEE754(buf,value,offset,4,3.4028234663852886e+38,-3.4028234663852886e+38);}
ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4;}
Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert)
{return writeFloat(this,value,offset,true,noAssert);};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert)
{return writeFloat(this,value,offset,false,noAssert);};function writeDouble(buf,value,offset,littleEndian,noAssert)
{value=+value;offset=offset>>>0;if(!noAssert)
{checkIEEE754(buf,value,offset,8,1.7976931348623157E+308,-1.7976931348623157E+308);}
ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8;}
Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert)
{return writeDouble(this,value,offset,true,noAssert);};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert)
{return writeDouble(this,value,offset,false,noAssert);};Buffer.prototype.copy=function copy(target,targetStart,start,end)
{if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0)
{throw new RangeError('targetStart out of bounds');}
if(start<0||start>=this.length)throw new RangeError('sourceStart out of bounds');if(end<0)throw new RangeError('sourceEnd out of bounds');if(end>this.length)end=this.length;if(target.length-targetStart<end-start)
{end=target.length-targetStart+start;}
var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end)
{for(i=len-1;i>=0;--i)
{target[i+targetStart]=this[i+start];}}
else if(len<1000)
{for(i=0;i<len;++i)
{target[i+targetStart]=this[i+start];}}
else
{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);}
return len;};Buffer.prototype.fill=function fill(val,start,end,encoding)
{if(typeof val==='string')
{if(typeof start==='string')
{encoding=start;start=0;end=this.length;}
else if(typeof end==='string')
{encoding=end;end=this.length;}
if(val.length===1)
{var code=val.charCodeAt(0);if(code<256)
{val=code;}}
if(encoding!==undefined&&typeof encoding!=='string')
{throw new TypeError('encoding must be a string');}
if(typeof encoding==='string'&&!Buffer.isEncoding(encoding))
{throw new TypeError('Unknown encoding: '+encoding);}}
else if(typeof val==='number')
{val=val&255;}
if(start<0||this.length<start||this.length<end)
{throw new RangeError('Out of range index');}
if(end<=start)
{return this;}
start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==='number')
{for(i=start;i<end;++i)
{this[i]=val;}}
else
{var bytes=Buffer.isBuffer(val)?val:new Buffer(val,encoding);var len=bytes.length;for(i=0;i<end-start;++i)
{this[i+start]=bytes[i%len];}}
return this;};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function base64clean(str)
{str=stringtrim(str).replace(INVALID_BASE64_RE,'');if(str.length<2)return'';while(str.length%4!==0)
{str=str+'=';}
return str;}
function stringtrim(str)
{if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,'');}
function toHex(n)
{if(n<16)return'0'+n.toString(16);return n.toString(16);}
function utf8ToBytes(string,units)
{units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i)
{codePoint=string.charCodeAt(i);if(codePoint>0xD7FF&&codePoint<0xE000)
{if(!leadSurrogate)
{if(codePoint>0xDBFF)
{if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD);continue;}
else if(i+1===length)
{if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD);continue;}
leadSurrogate=codePoint;continue;}
if(codePoint<0xDC00)
{if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD);leadSurrogate=codePoint;continue;}
codePoint=(leadSurrogate-0xD800<<10|codePoint-0xDC00)+0x10000;}
else if(leadSurrogate)
{if((units-=3)>-1)bytes.push(0xEF,0xBF,0xBD);}
leadSurrogate=null;if(codePoint<0x80)
{if((units-=1)<0)break;bytes.push(codePoint);}
else if(codePoint<0x800)
{if((units-=2)<0)break;bytes.push(codePoint>>0x6|0xC0,codePoint&0x3F|0x80);}
else if(codePoint<0x10000)
{if((units-=3)<0)break;bytes.push(codePoint>>0xC|0xE0,codePoint>>0x6&0x3F|0x80,codePoint&0x3F|0x80);}
else if(codePoint<0x110000)
{if((units-=4)<0)break;bytes.push(codePoint>>0x12|0xF0,codePoint>>0xC&0x3F|0x80,codePoint>>0x6&0x3F|0x80,codePoint&0x3F|0x80);}
else
{throw new Error('Invalid code point');}}
return bytes;}
function asciiToBytes(str)
{var byteArray=[];for(var i=0;i<str.length;++i)
{byteArray.push(str.charCodeAt(i)&0xFF);}
return byteArray;}
function utf16leToBytes(str,units)
{var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i)
{if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi);}
return byteArray;}
function base64ToBytes(str)
{return base64.toByteArray(base64clean(str));}
function blitBuffer(src,dst,offset,length)
{for(var i=0;i<length;++i)
{if((i+offset>=dst.length)||(i>=src.length))break;dst[i+offset]=src[i];}
return i;}
function isnan(val)
{return val!==val;}});
/*! $23 querystring */
define('querystring',function(){'use strict';function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}
var querystring={};var parse=function(qs,sep,eq,options){sep=sep||'&';eq=eq||'=';var obj={};if(typeof qs!=='string'||qs.length===0){return obj;}
var regexp=new RegExp("\+",'g');qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==='number'){maxKeys=options.maxKeys;}
var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys;}
for(var i=0;i<len;++i){var x=qs[i].replace(regexp,'%20'),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1);}else{kstr=x;vstr='';}
k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v;}else if(Array.isArray(obj[k])){obj[k].push(v);}else{obj[k]=[obj[k],v];}}
return obj;};var stringifyPrimitive=function(v){switch(typeof v){case'string':return v;case'boolean':return v?'true':'false';case'number':return isFinite(v)?v:'';default:return'';}};var stringify=function(obj,sep,eq,name){sep=sep||'&';eq=eq||'=';if(obj===null){obj=undefined;}
if(typeof obj==='object'){return Object.keys(obj).map(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(Array.isArray(obj[k])){return obj[k].map(function(v){return ks+encodeURIComponent(stringifyPrimitive(v));}).join(sep);}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]));}}).join(sep);}
if(!name)return'';return encodeURIComponent(stringifyPrimitive(name))+eq+
encodeURIComponent(stringifyPrimitive(obj));};querystring.decode=querystring.parse=parse;querystring.encode=querystring.stringify=stringify;return querystring;});
/*! $24 path */
define('path',['require','exports','module','webfan/bootcache!util'],function(require,exports,module,util){var isWindows='windows'===navigator.platform;function normalizeArray(parts,allowAboveRoot){var res=[];for(var i=0;i<parts.length;i++){var p=parts[i];if(!p||p==='.')
continue;if(p==='..'){if(res.length&&res[res.length-1]!=='..'){res.pop();}else if(allowAboveRoot){res.push('..');}}else{res.push(p);}}
return res;}
function trimArray(arr){var lastIndex=arr.length-1;var start=0;for(;start<=lastIndex;start++){if(arr[start])
break;}
var end=lastIndex;for(;end>=0;end--){if(arr[end])
break;}
if(start===0&&end===lastIndex)
return arr;if(start>end)
return[];return arr.slice(start,end+1);}
var splitDeviceRe=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;var splitTailRe=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/;var win32={};function win32SplitPath(filename){var result=splitDeviceRe.exec(filename),device=(result[1]||'')+(result[2]||''),tail=result[3]||'';var result2=splitTailRe.exec(tail),dir=result2[1],basename=result2[2],ext=result2[3];return[device,dir,basename,ext];}
function win32StatPath(path){var result=splitDeviceRe.exec(path),device=result[1]||'',isUnc=!!device&&device[1]!==':';return{device:device,isUnc:isUnc,isAbsolute:isUnc||!!result[2],tail:result[3]};}
function normalizeUNCRoot(device){return'\\\\'+device.replace(/^[\\\/]+/,'').replace(/[\\\/]+/g,'\\');}
win32.resolve=function(){var resolvedDevice='',resolvedTail='',resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1;i--){var path;if(i>=0){path=arguments[i];}else if(!resolvedDevice){path=(('undefined'===typeof process)?frdl.main.makeProcess(global):process).cwd();}else{path=(('undefined'===typeof process)?frdl.main.makeProcess(global):process).env['='+resolvedDevice];if(!path||path.substr(0,3).toLowerCase()!==resolvedDevice.toLowerCase()+'\\'){path=resolvedDevice+'\\';}}
if(!util.isString(path)){throw new TypeError('Arguments to path.resolve must be strings');}else if(!path){continue;}
var result=win32StatPath(path),device=result.device,isUnc=result.isUnc,isAbsolute=result.isAbsolute,tail=result.tail;if(device&&resolvedDevice&&device.toLowerCase()!==resolvedDevice.toLowerCase()){continue;}
if(!resolvedDevice){resolvedDevice=device;}
if(!resolvedAbsolute){resolvedTail=tail+'\\'+resolvedTail;resolvedAbsolute=isAbsolute;}
if(resolvedDevice&&resolvedAbsolute){break;}}
if(isUnc){resolvedDevice=normalizeUNCRoot(resolvedDevice);}
resolvedTail=normalizeArray(resolvedTail.split(/[\\\/]+/),!resolvedAbsolute).join('\\');return(resolvedDevice+(resolvedAbsolute?'\\':'')+resolvedTail)||'.';};win32.normalize=function(path){var result=win32StatPath(path),device=result.device,isUnc=result.isUnc,isAbsolute=result.isAbsolute,tail=result.tail,trailingSlash=/[\\\/]$/.test(tail);tail=normalizeArray(tail.split(/[\\\/]+/),!isAbsolute).join('\\');if(!tail&&!isAbsolute){tail='.';}
if(tail&&trailingSlash){tail+='\\';}
if(isUnc){device=normalizeUNCRoot(device);}
return device+(isAbsolute?'\\':'')+tail;};win32.isAbsolute=function(path){return win32StatPath(path).isAbsolute;};win32.join=function(){var paths=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!util.isString(arg)){throw new TypeError('Arguments to path.join must be strings');}
if(arg){paths.push(arg);}}
var joined=paths.join('\\');if(!/^[\\\/]{2}[^\\\/]/.test(paths[0])){joined=joined.replace(/^[\\\/]{2,}/,'\\');}
return win32.normalize(joined);};win32.relative=function(from,to){from=win32.resolve(from);to=win32.resolve(to);var lowerFrom=from.toLowerCase();var lowerTo=to.toLowerCase();var toParts=trimArray(to.split('\\'));var lowerFromParts=trimArray(lowerFrom.split('\\'));var lowerToParts=trimArray(lowerTo.split('\\'));var length=Math.min(lowerFromParts.length,lowerToParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(lowerFromParts[i]!==lowerToParts[i]){samePartsLength=i;break;}}
if(samePartsLength==0){return to;}
var outputParts=[];for(var i=samePartsLength;i<lowerFromParts.length;i++){outputParts.push('..');}
outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join('\\');};win32._makeLong=function(path){if(!util.isString(path))
return path;if(!path){return'';}
var resolvedPath=win32.resolve(path);if(/^[a-zA-Z]\:\\/.test(resolvedPath)){return'\\\\?\\'+resolvedPath;}else if(/^\\\\[^?.]/.test(resolvedPath)){return'\\\\?\\UNC\\'+resolvedPath.substring(2);}
return path;};win32.dirname=function(path){var result=win32SplitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return'.';}
if(dir){dir=dir.substr(0,dir.length-1);}
return root+dir;};win32.basename=function(path,ext){var f=win32SplitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length);}
return f;};win32.extname=function(path){return win32SplitPath(path)[3];};win32.format=function(pathObject){if(!require('util').isObject(pathObject)){throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof pathObject);}
var root=pathObject.root||'';if(!util.isString(root)){throw new TypeError("'pathObject.root' must be a string or undefined, not "+
typeof pathObject.root);}
var dir=pathObject.dir;var base=pathObject.base||'';if(!dir){return base;}
if(dir[dir.length-1]===win32.sep){return dir+base;}
return dir+win32.sep+base;};win32.parse=function(pathString){if(!util.isString(pathString)){throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString);}
var allParts=win32SplitPath(pathString);if(!allParts||allParts.length!==4){throw new TypeError("Invalid path '"+pathString+"'");}
return{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)};};win32.sep='\\';win32.delimiter=';';var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var posix={};function posixSplitPath(filename){return splitPathRe.exec(filename).slice(1);}
posix.resolve=function(){var resolvedPath='',resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=(i>=0)?arguments[i]:(('undefined'===typeof process)?frdl.main.makeProcess(global):process).cwd();if(!util.isString(path)){throw new TypeError('Arguments to path.resolve must be strings');}else if(!path){continue;}
resolvedPath=path+'/'+resolvedPath;resolvedAbsolute=path[0]==='/';}
resolvedPath=normalizeArray(resolvedPath.split('/'),!resolvedAbsolute).join('/');return((resolvedAbsolute?'/':'')+resolvedPath)||'.';};posix.normalize=function(path){var isAbsolute=posix.isAbsolute(path),trailingSlash=path&&path[path.length-1]==='/';path=normalizeArray(path.split('/'),!isAbsolute).join('/');if(!path&&!isAbsolute){path='.';}
if(path&&trailingSlash){path+='/';}
return(isAbsolute?'/':'')+path;};posix.isAbsolute=function(path){return path.charAt(0)==='/';};posix.join=function(){var path='';for(var i=0;i<arguments.length;i++){var segment=arguments[i];if(!util.isString(segment)){throw new TypeError('Arguments to path.join must be strings');}
if(segment){if(!path){path+=segment;}else{path+='/'+segment;}}}
return posix.normalize(path);};posix.relative=function(from,to){from=posix.resolve(from).substr(1);to=posix.resolve(to).substr(1);var fromParts=trimArray(from.split('/'));var toParts=trimArray(to.split('/'));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break;}}
var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push('..');}
outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join('/');};posix._makeLong=function(path){return path;};posix.dirname=function(path){var result=posixSplitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return'.';}
if(dir){dir=dir.substr(0,dir.length-1);}
return root+dir;};posix.basename=function(path,ext){var f=posixSplitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length);}
return f;};posix.extname=function(path){return posixSplitPath(path)[3];};posix.format=function(pathObject){if(!require('util').isObject(pathObject)){throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof pathObject);}
var root=pathObject.root||'';if(!util.isString(root)){throw new TypeError("'pathObject.root' must be a string or undefined, not "+
typeof pathObject.root);}
var dir=pathObject.dir?pathObject.dir+posix.sep:'';var base=pathObject.base||'';return dir+base;};posix.parse=function(pathString){if(!util.isString(pathString)){throw new TypeError("Parameter 'pathString' must be a string, not "+typeof pathString);}
var allParts=posixSplitPath(pathString);if(!allParts||allParts.length!==4){throw new TypeError("Invalid path '"+pathString+"'");}
allParts[1]=allParts[1]||'';allParts[2]=allParts[2]||'';allParts[3]=allParts[3]||'';return{root:allParts[0],dir:allParts[0]+allParts[1].slice(0,-1),base:allParts[2],ext:allParts[3],name:allParts[2].slice(0,allParts[2].length-allParts[3].length)};};posix.sep='/';posix.delimiter=':';if(isWindows)
exports=module.exports=win32;else
exports=module.exports=posix;exports.posix=posix;exports.win32=win32;});
/*! $25 url */
define('url',['require','exports','module','webfan/bootcache!querystring'],function(require,exports,module,querystring){'use strict';var maxInt=2147483647;var base=36;var tMin=1;var tMax=26;var skew=38;var damp=700;var initialBias=72;var initialN=128;var delimiter='-';var regexPunycode=/^xn--/;var regexNonASCII=/[^x20-x7E]/;var regexSeparators=/[x2E\u3002\uFF0E\uFF61]/g;var errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'};var baseMinusTMin=base-tMin;var floor=Math.floor;var stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type]);}
function map(array,fn){var result=[];var length=array.length;while(length--){result[length]=fn(array[length]);}
return result;}
function mapDomain(string,fn){var parts=string.split('\@');var result='';if(parts.length>1){result=parts[0]+'@';string=parts[1];}
string=string.replace(regexSeparators,'x2E');var labels=string.split('.');var encoded=map(labels,fn).join('.');return result+encoded;}
function ucs2decode(string){var output=[];var counter=0;var length=string.length;while(counter<length){var value=string.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){var extra=string.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){output.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000);}else{output.push(value);counter--;}}else{output.push(value);}}
return output;}
var ucs2encode=function(array){String.fromCodePoint(array);};var basicToDigit=function(codePoint){if(codePoint-0x30<0x0A){return codePoint-0x16;}
if(codePoint-0x41<0x1A){return codePoint-0x41;}
if(codePoint-0x61<0x1A){return codePoint-0x61;}
return base;};var digitToBasic=function(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5);};var adapt=function(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);while(delta>baseMinusTMin*tMax>>1){k+=base;delta=floor(delta/baseMinusTMin);}
return floor(k+(baseMinusTMin+1)*delta/(delta+skew));};var decode=function(input){var output=[];var inputLength=input.length;var i=0,j=0;var n=initialN;var bias=initialBias;var basic=input.lastIndexOf(delimiter);if(basic<0){basic=0;}
for(j=0;j<basic;++j){if(input.charCodeAt(j)>=0x80){error('not-basic');}
output.push(input.charCodeAt(j));}
for(var index=basic>0?basic+1:0;index<inputLength;){var oldi=i;for(var w=1,k=base;;k+=base){if(index>=inputLength){error('invalid-input');}
var digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error('overflow');}
i+=digit*w;var t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break;}
var baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error('overflow');}
w*=baseMinusT;}
var out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error('overflow');}
n+=floor(i/out);i%=out;output.splice(i++,0,n);}
return String.fromCodePoint(output);};var encode=function(input){var output=[];input=ucs2decode(input);var inputLength=input.length;var currentValue;var n=initialN;var delta=0;var bias=initialBias;for(currentValue in input){if(currentValue<0x80){output.push(stringFromCharCode(currentValue));}}
var basicLength=output.length;var handledCPCount=basicLength;if(basicLength){output.push(delimiter);}
while(handledCPCount<inputLength){var m=maxInt;for(currentValue in input){if(currentValue>=n&&currentValue<m){m=currentValue;}}
var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error('overflow');}
delta+=(m-n)*handledCPCountPlusOne;n=m;for(currentValue in input){if(currentValue<n&&++delta>maxInt){error('overflow');}
if(currentValue==n){var q=delta;for(var k=base;;k+=base){var t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break;}
var qMinusT=q-t;var baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT);}
output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount;}}
++delta;++n;}
return output.join('');};var toUnicode=function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string;});};var toASCII=function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?'xn--'+encode(string):string;});};var punycode={'version':'2.0.0','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};var util={};var formatRegExp=/%[sdj%]/g;util.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]));}
return objects.join(' ');}
var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==='%%')return'%';if(i>=len)return x;switch(x){case'%s':return String(args[i++]);case'%d':return Number(args[i++]);case'%j':try{return JSON.stringify(args[i++]);}catch(_){return'[Circular]';}
default:return x;}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=' '+x;}else{str+=' '+inspect(x);}}
return str;};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts;}else if(opts){util._extend(ctx,opts);}
if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth);}
util.inspect=inspect;inspect.colors={'bold':[1,22],'italic':[3,23],'underline':[4,24],'inverse':[7,27],'white':[37,39],'grey':[90,39],'black':[30,39],'blue':[34,39],'cyan':[36,39],'green':[32,39],'magenta':[35,39],'red':[31,39],'yellow':[33,39]};inspect.styles={'special':'cyan','number':'yellow','boolean':'yellow','undefined':'grey','null':'bold','string':'green','date':'magenta','regexp':'red'};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return'\u001b['+inspect.colors[style][0]+'m'+str+'\u001b['+inspect.colors[style][1]+'m';}else{return str;}}
function stylizeNoColor(str,styleType){return str;}
function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true;});return hash;}
function formatValue(ctx,value,recurseTimes){var shims={};if(new Error().hasOwnProperty('description')){var ERROR_PROPERTY_FILTER=function(obj,array){if(Object.prototype.toString.call(obj)==='[object Error]'){array=array.filter(function(name){return name!=='description'&&name!=='number';});}
return array;};shims.keys=function(object){return ERROR_PROPERTY_FILTER(object,Object.keys(object));};shims.getOwnPropertyNames=function(object){return ERROR_PROPERTY_FILTER(object,Object.getOwnPropertyNames(object));};}else{shims.keys=Object.keys;shims.getOwnPropertyNames=Object.getOwnPropertyNames;}
if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==util.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes);}
return ret;}
var primitive=formatPrimitive(ctx,value);if(primitive){return primitive;}
var keys=shims.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=shims.getOwnPropertyNames(value);}
if(keys.length===0){if(isFunction(value)){var name=value.name?': '+value.name:'';return ctx.stylize('[Function'+name+']','special');}
if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}
if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),'date');}
if(isError(value)){return formatError(value);}}
var base='',array=false,braces=['{','}'];if(isArray(value)){array=true;braces=['[',']'];}
if(isFunction(value)){var n=value.name?': '+value.name:'';base=' [Function'+n+']';}
if(isRegExp(value)){base=' '+RegExp.prototype.toString.call(value);}
if(isDate(value)){base=' '+Date.prototype.toUTCString.call(value);}
if(isError(value)){base=' '+formatError(value);}
if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1];}
if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}else{return ctx.stylize('[Object]','special');}}
ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys);}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array);});}
ctx.seen.pop();return reduceToSingleString(output,base,braces);}
function formatPrimitive(ctx,value){if(isUndefined(value))
return ctx.stylize('undefined','undefined');if(isString(value)){var simple='\''+JSON.stringify(value).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+'\'';return ctx.stylize(simple,'string');}
if(isNumber(value))
return ctx.stylize(''+value,'number');if(isBoolean(value))
return ctx.stylize(''+value,'boolean');if(isNull(value))
return ctx.stylize('null','null');}
function formatError(value){return'['+Error.prototype.toString.call(value)+']';}
function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true));}else{output.push('');}}
keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true));}});return output;}
function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize('[Getter/Setter]','special');}else{str=ctx.stylize('[Getter]','special');}}else{if(desc.set){str=ctx.stylize('[Setter]','special');}}
if(!hasOwnProperty(visibleKeys,key)){name='['+key+']';}
if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null);}else{str=formatValue(ctx,desc.value,recurseTimes-1);}
if(str.indexOf('\n')>-1){if(array){str=str.split('\n').map(function(line){return'  '+line;}).join('\n').substr(2);}else{str='\n'+str.split('\n').map(function(line){return'   '+line;}).join('\n');}}}else{str=ctx.stylize('[Circular]','special');}}
if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str;}
name=JSON.stringify(''+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,'name');}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,'string');}}
return name+': '+str;}
function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf('\n')>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,'').length+1;},0);if(length>60){return braces[0]+
(base===''?'':base+'\n ')+' '+
output.join(',\n  ')+' '+
braces[1];}
return braces[0]+base+' '+output.join(', ')+' '+braces[1];}
function isArray(ar){return Array.isArray(ar);}
util.isArray=isArray;function isBoolean(arg){return typeof arg==='boolean';}
util.isBoolean=isBoolean;function isNull(arg){return arg===null;}
util.isNull=isNull;function isNullOrUndefined(arg){return arg==null;}
util.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==='number';}
util.isNumber=isNumber;function isString(arg){return typeof arg==='string';}
util.isString=isString;function isSymbol(arg){return typeof arg==='symbol';}
util.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0;}
util.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==='[object RegExp]';}
util.isRegExp=isRegExp;function isObject(arg){return typeof arg==='object'&&arg;}
util.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==='[object Date]';}
util.isDate=isDate;function isError(e){return isObject(e)&&objectToString(e)==='[object Error]';}
util.isError=isError;function isFunction(arg){return typeof arg==='function';}
util.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==='boolean'||typeof arg==='number'||typeof arg==='string'||typeof arg==='symbol'||typeof arg==='undefined';}
util.isPrimitive=isPrimitive;function isBuffer(arg){return arg&&typeof arg==='object'&&typeof arg.copy==='function'&&typeof arg.fill==='function'&&typeof arg.binarySlice==='function';}
util.isBuffer=isBuffer;function objectToString(o){return Object.prototype.toString.call(o);}
function pad(n){return n<10?'0'+n.toString(10):n.toString(10);}
var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];function timestamp(){var d=new Date();var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(':');return[d.getDate(),months[d.getMonth()],time].join(' ');}
util.log=function(){console.log('%s - %s',timestamp(),util.format.apply(util,arguments));};util.inherits=function(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};util._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]];}
return origin;};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}
exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null;}
var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=['<','>','"','`',' ','\r','\n','\t'],unwise=['{','}','|','\\','^','`'].concat(delims),autoEscape=['\''].concat(unwise),nonHostChars=['%','/','?',';','#'].concat(autoEscape),hostEndingChars=['/','?','#'],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={'javascript':true,'javascript:':true},hostlessProtocol={'javascript':true,'javascript:':true},slashedProtocol={'http':true,'https':true,'ftp':true,'gopher':true,'file':true,'http:':true,'https:':true,'ftp:':true,'gopher:':true,'file:':true};Url.prototype.toString=function(){return this.format();};Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){console.error("Parameter 'url' must be a string, not "+typeof url);return;}
var queryIndex=url.indexOf('?'),splitter=(queryIndex!==-1&&queryIndex<url.indexOf('#'))?'?':'#',uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,'/');url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split('#').length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1));}else{this.query=this.search.substr(1);}}else if(parseQueryString){this.search='';this.query={};}
return this;}}
var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length);}
if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==='//';if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true;}}
if(!hostlessProtocol[proto]&&(slashes||(proto&&!slashedProtocol[proto]))){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf('@');}else{atSign=rest.lastIndexOf('@',hostEnd);}
if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth);}
hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
if(hostEnd===-1)
hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||'';var ipv6Hostname=this.hostname[0]==='['&&this.hostname[this.hostname.length-1]===']';if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart='';for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+='x';}else{newpart+=part[j];}}
if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2]);}
if(notHost.length){rest='/'+notHost.join('.')+rest;}
this.hostname=validParts.join('.');break;}}}}
if(this.hostname.length>hostnameMaxLen){this.hostname='';}else{this.hostname=this.hostname.toLowerCase();}
if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname);}
var p=this.port?':'+this.port:'';var h=this.hostname||'';this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=='/'){rest='/'+rest;}}}
if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)
continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae);}
rest=rest.split(ae).join(esc);}}
var hash=rest.indexOf('#');if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash);}
var qm=rest.indexOf('?');if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query);}
rest=rest.slice(0,qm);}else if(parseQueryString){this.search='';this.query={};}
if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname='/';}
if(this.pathname||this.search){var p=this.pathname||'';var s=this.search||'';this.path=p+s;}
this.href=this.format();return this;};function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;try{var u=new Url();if('function'===typeof u.parse)u.parse(url,parseQueryString,slashesDenoteHost);}catch(err){var u=new Url();console.notice(err);}
return u;}
function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format();}
Url.prototype.format=function(){var auth=this.auth||'';if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,':');auth+='@';}
var protocol=this.protocol||'',pathname=this.pathname||'',hash=this.hash||'',host=false,query='';if(this.host){host=auth+this.host;}else if(this.hostname){host=auth+(this.hostname.indexOf(':')===-1?this.hostname:'['+this.hostname+']');if(this.port){host+=':'+this.port;}}
if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query);}
var search=this.search||(query&&('?'+query))||'';if(protocol&&protocol.substr(-1)!==':')protocol+=':';if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host='//'+(host||'');if(pathname&&pathname.charAt(0)!=='/')pathname='/'+pathname;}else if(!host){host='';}
if(hash&&hash.charAt(0)!=='#')hash='#'+hash;if(search&&search.charAt(0)!=='?')search='?'+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match);});search=search.replace('#','%23');return protocol+host+pathname+search+hash;};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative);}
Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format();};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative);}
Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url();rel.parse(relative,false,true);relative=rel;}
var result=new Url();var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey];}
result.hash=relative.hash;if(relative.href===''){result.href=result.format();return result;}
if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=='protocol')
result[rkey]=relative[rkey];}
if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname='/';}
result.href=result.format();return result;}
if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k];}
result.href=result.format();return result;}
result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||'').split('/');while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host='';if(!relative.hostname)relative.hostname='';if(relPath[0]!=='')relPath.unshift('');if(relPath.length<2)relPath.unshift('');result.pathname=relPath.join('/');}else{result.pathname=relative.pathname;}
result.search=relative.search;result.query=relative.query;result.host=relative.host||'';result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||'';var s=result.search||'';result.path=p+s;}
result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;}
var isSourceAbs=(result.pathname&&result.pathname.charAt(0)==='/'),isRelAbs=(relative.host||relative.pathname&&relative.pathname.charAt(0)==='/'),mustEndAbs=(isRelAbs||isSourceAbs||(result.host&&relative.pathname)),removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split('/')||[],relPath=relative.pathname&&relative.pathname.split('/')||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname='';result.port=null;if(result.host){if(srcPath[0]==='')srcPath[0]=result.host;else srcPath.unshift(result.host);}
result.host='';if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==='')relPath[0]=relative.host;else relPath.unshift(relative.host);}
relative.host=null;}
mustEndAbs=mustEndAbs&&(relPath[0]===''||srcPath[0]==='');}
if(isRelAbs){result.host=(relative.host||relative.host==='')?relative.host:result.host;result.hostname=(relative.hostname||relative.hostname==='')?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath;}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query;}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.href=result.format();return result;}
if(!srcPath.length){result.pathname=null;if(result.search){result.path='/'+result.search;}else{result.path=null;}
result.href=result.format();return result;}
var last=srcPath.slice(-1)[0];var hasTrailingSlash=((result.host||relative.host||srcPath.length>1)&&(last==='.'||last==='..')||last==='');var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==='.'){srcPath.splice(i,1);}else if(last==='..'){srcPath.splice(i,1);up++;}else if(up){srcPath.splice(i,1);up--;}}
if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift('..');}}
if(mustEndAbs&&srcPath[0]!==''&&(!srcPath[0]||srcPath[0].charAt(0)!=='/')){srcPath.unshift('');}
if(hasTrailingSlash&&(srcPath.join('/').substr(-1)!=='/')){srcPath.push('');}
var isAbsolute=srcPath[0]===''||(srcPath[0]&&srcPath[0].charAt(0)==='/');if(psychotic){result.hostname=result.host=isAbsolute?'':srcPath.length?srcPath.shift():'';var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
mustEndAbs=mustEndAbs||(result.host&&srcPath.length);if(mustEndAbs&&!isAbsolute){srcPath.unshift('');}
if(!srcPath.length){result.pathname=null;result.path=null;}else{result.pathname=srcPath.join('/');}
if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==':'){this.port=port.substr(1);}
host=host.substr(0,host.length-port.length);}
if(host)this.hostname=host;};});
/*! $26 util */
define('util',['require','exports','module'],function(require,exports,module){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]));}
return objects.join(' ');}
var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==='%%')return'%';if(i>=len)return x;switch(x){case'%s':return String(args[i++]);case'%d':return Number(args[i++]);case'%j':try{return JSON.stringify(args[i++]);}catch(_){return'[Circular]';}
default:return x;}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=' '+x;}else{str+=' '+inspect(x);}}
return str;};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts;}else if(opts){exports._extend(ctx,opts);}
if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth);}
exports.inspect=inspect;inspect.colors={'bold':[1,22],'italic':[3,23],'underline':[4,24],'inverse':[7,27],'white':[37,39],'grey':[90,39],'black':[30,39],'blue':[34,39],'cyan':[36,39],'green':[32,39],'magenta':[35,39],'red':[31,39],'yellow':[33,39]};inspect.styles={'special':'cyan','number':'yellow','boolean':'yellow','undefined':'grey','null':'bold','string':'green','date':'magenta','regexp':'red'};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return'\u001b['+inspect.colors[style][0]+'m'+str+'\u001b['+inspect.colors[style][1]+'m';}else{return str;}}
function stylizeNoColor(str,styleType){return str;}
function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true;});return hash;}
function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes);}
return ret;}
var primitive=formatPrimitive(ctx,value);if(primitive){return primitive;}
var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value);}
if(keys.length===0){if(isFunction(value)){var name=value.name?': '+value.name:'';return ctx.stylize('[Function'+name+']','special');}
if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}
if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),'date');}
if(isError(value)){return formatError(value);}}
var base='',array=false,braces=['{','}'];if(isArray(value)){array=true;braces=['[',']'];}
if(isFunction(value)){var n=value.name?': '+value.name:'';base=' [Function'+n+']';}
if(isRegExp(value)){base=' '+RegExp.prototype.toString.call(value);}
if(isDate(value)){base=' '+Date.prototype.toUTCString.call(value);}
if(isError(value)){base=' '+formatError(value);}
if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1];}
if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}else{return ctx.stylize('[Object]','special');}}
ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys);}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array);});}
ctx.seen.pop();return reduceToSingleString(output,base,braces);}
function formatPrimitive(ctx,value){if(isUndefined(value))
return ctx.stylize('undefined','undefined');if(isString(value)){var simple='\''+JSON.stringify(value).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+'\'';return ctx.stylize(simple,'string');}
if(isNumber(value))
return ctx.stylize(''+value,'number');if(isBoolean(value))
return ctx.stylize(''+value,'boolean');if(isNull(value))
return ctx.stylize('null','null');}
function formatError(value){return'['+Error.prototype.toString.call(value)+']';}
function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true));}else{output.push('');}}
keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true));}});return output;}
function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize('[Getter/Setter]','special');}else{str=ctx.stylize('[Getter]','special');}}else{if(desc.set){str=ctx.stylize('[Setter]','special');}}
if(!hasOwnProperty(visibleKeys,key)){name='['+key+']';}
if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null);}else{str=formatValue(ctx,desc.value,recurseTimes-1);}
if(str.indexOf('\n')>-1){if(array){str=str.split('\n').map(function(line){return'  '+line;}).join('\n').substr(2);}else{str='\n'+str.split('\n').map(function(line){return'   '+line;}).join('\n');}}}else{str=ctx.stylize('[Circular]','special');}}
if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str;}
name=JSON.stringify(''+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,'name');}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,'string');}}
return name+': '+str;}
function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf('\n')>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,'').length+1;},0);if(length>60){return braces[0]+
(base===''?'':base+'\n ')+' '+
output.join(',\n  ')+' '+
braces[1];}
return braces[0]+base+' '+output.join(', ')+' '+braces[1];}
function isArray(ar){return(Array.isArray)?Array.isArray(ar):ar instanceof Array;}
exports.isArray=isArray;function isNumber(arg){return typeof arg==='number';}
exports.isNumber=isNumber;function isString(arg){return typeof arg==='string';}
exports.isString=isString;function isBoolean(arg){return typeof arg==='boolean';}
exports.isBoolean=isBoolean;function booleanLabels(){var m={};m['']=false;m['1']=true;m['0']=false;m['true']=true;m['false']=false;m['on']=true;m['off']=false;m['yes']=true;m['no']=false;m['enabled']=true;m['disabled']=false;m['an']=true;m['aus']=false;return m;}
exports.booleanLabels=booleanLabels;function isBooleanLabel(arg){var labels=[],k;for(k in booleanLabels()){labels.push(k);}
return isBoolean(arg)||(isNumber(arg)&&(0===arg||1===arg))||(isString(arg)&&(-1!==labels.indexOf(arg.toLowerCase())));}
exports.isBooleanLabel=isBooleanLabel;function StringToBoolean(arg){return(isBoolean(booleanLabels()[arg]))?booleanLabels()[arg]:undefined;}
exports.StringToBoolean=StringToBoolean;function isNull(arg){return arg===null;}
exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null;}
exports.isNullOrUndefined=isNullOrUndefined;function isSymbol(arg){return typeof arg==='symbol';}
exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0;}
exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==='[object RegExp]';}
exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==='object'&&arg;}
exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==='[object Date]';}
exports.isDate=isDate;function isError(e){return isObject(e)&&objectToString(e)==='[object Error]';}
exports.isError=isError;function isFunction(arg){return typeof arg==='function';}
exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==='boolean'||typeof arg==='number'||typeof arg==='string'||typeof arg==='symbol'||typeof arg==='undefined';}
exports.isPrimitive=isPrimitive;function isBuffer(arg){return arg&&typeof arg==='object'&&typeof arg.copy==='function'&&typeof arg.fill==='function'&&typeof arg.binarySlice==='function';}
exports.isBuffer=isBuffer;function objectToString(o){return Object.prototype.toString.call(o);}
function pad(n){return n<10?'0'+n.toString(10):n.toString(10);}
var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];function timestamp(){var d=new Date();var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(':');return[d.getDate(),months[d.getMonth()],time].join(' ');}
exports.log=function(){console.log('%s - %s',timestamp(),exports.format.apply(exports,arguments));};exports.inherits=function(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}});};exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]];}
return origin;};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}});
/*! $27 webfan/overload */
define('webfan/overload',function(){var debug=false;function logProxy(from){var logHandler={constructor:Function.prototype.constructor,get:function(obj,trap,receiver){if(!!debug)console.log('magic:',arguments);var nArg=arguments[1];var _check_result=logHandler.__get.apply(this,[nArg]);if('undefined'!==typeof _check_result)return _check_result;return function(){var args=Array.prototype.slice(arguments);var noMethod=false;var TTrap2=trap;if(!!debug)console.log('TTrap2',TTrap2);if(!!debug)console.log('Reflect:',Reflect);if('function'!==typeof Reflect[trap]){if(!!debug)console.log('  noMethod:',trap,Reflect);var fetch=logHandler.__call;var a=[trap,arguments];noMethod=true;}else{var fetch=Reflect[trap];console.log('getTrap?',trap,args);var a=arguments;}
var result=fetch.apply(this,a);if(!!debug)console.log('result:',result);return result;};},has:function(target,name){if(!!debug)console.log('has:',arguments);return'undefined'!==typeof target[name];},apply:function(target,THIS,args){if(!!debug)console.log('apply:',arguments);},call:function(name,args){if(!!debug)console.log('call:',arguments);},__call:function(name,args){if(!!debug)console.log('call:',arguments);var prop=Object.getOwnPropertyDescriptor(this,name);if(prop){if('undefined'!==typeof prop.value){if('function'===typeof prop.value){return prop.value.apply(this,args);}
return prop.value;}}else{try{if('function'===typeof Symbol&&'undefined'!==typeof Symbol.frdl&&'undefined'!==typeof frdl.CONST&&true===frdl.CONST.defined('__MAGIC_METHODS__')){return frdl.CONST('__MAGIC_METHODS__').__call.apply(this,[name,args]);}}catch(_err){return undefined;}}},__get:function(name){if(!!debug)console.log('get:',arguments);var result=undefined;try{if('function'===typeof Symbol&&'undefined'!==typeof Symbol.frdl&&'undefined'!==typeof frdl.CONST&&true===frdl.CONST.defined('__MAGIC_METHODS__')){result=frdl.CONST('__MAGIC_METHODS__').__get.apply(this,[name]);}}catch(_err){return undefined;}
return result;}};var logProxy=new Proxy(logHandler,logHandler);if('undefined'!==typeof from){var k;for(k in from){logProxy[k]=from[k];}}
logProxy.prototype.constructor=Function.prototype.constructor;return Object.create(logProxy);}
logProxy.prototype.constructor=Function.prototype.constructor;var Overload={IOverloadableProxy:logProxy,defaultProxy:logProxy(logProxy),make:function(o){return logProxy(o,new logProxy);}};return Overload;});
/*! $28 EventEmitter */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! webfan (C) Till Wehowski, Webfan.de - All rights reserved. */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
define('EventEmitter',function(){if(!Event.prototype.preventDefault){Event.prototype.preventDefault=function(){this.returnValue=false;};}
if(!Event.prototype.stopPropagation){Event.prototype.stopPropagation=function(){this.cancelBubble=true;};}
if(!Element.prototype.addEventListener){var eventListeners=[];var addEventListener=function(type,listener){var self=this;var wrapper=function(e){e.target=e.srcElement;e.currentTarget=self;if(listener.handleEvent){listener.handleEvent(e);}else{listener.call(self,e);}};if(type==="DOMContentLoaded"){var wrapper2=function(e){if(document.readyState==="complete"){wrapper(e);}};document.attachEvent("onreadystatechange",wrapper2);eventListeners.push({object:this,type:type,listener:listener,wrapper:wrapper2});if(document.readyState==="complete"){var e=new Event();e.srcElement=window;wrapper2(e);}}else{this.attachEvent("on"+type,wrapper);eventListeners.push({object:this,type:type,listener:listener,wrapper:wrapper});}};var removeEventListener=function(type,listener){var counter=0;while(counter<eventListeners.length){var eventListener=eventListeners[counter];if(eventListener.object===this&&eventListener.type==type&&eventListener.listener==listener){if(type==="DOMContentLoaded"){this.detachEvent("onreadystatechange",eventListener.wrapper);}else{this.detachEvent("on"+type,eventListener.wrapper);}
eventListeners.splice(counter,1);break;}
++counter;}};Element.prototype.addEventListener=addEventListener;Element.prototype.removeEventListener=removeEventListener;if('undefined'!==typeof HTMLDocument&&'undefined'!==typeof HTMLDocument.prototype){HTMLDocument.prototype.addEventListener=addEventListener;HTMLDocument.prototype.removeEventListener=removeEventListener;}
if('undefined'!==typeof Window&&'undefined'!==typeof Window.prototype){Window.prototype.addEventListener=addEventListener;Window.prototype.removeEventListener=removeEventListener;}}
if(!EventTarget||!EventTarget.prototype.addEventListener||!EventTarget.prototype.listeners||!EventTarget.prototype.dispatchEvent){var EventTarget=function(){this.listeners={};this.events={};};EventTarget.prototype.listeners=null;EventTarget.prototype.addEventListener=function(type,callback){if(!(type in this.listeners)){this.listeners[type]=[];}
this.listeners[type].push(callback);};EventTarget.prototype.removeEventListener=function(type,callback){if(!(type in this.listeners)){return;}
var stack=this.listeners[type];for(var i=0,l=stack.length;i<l;i++){if(stack[i]===callback){stack.splice(i,1);return this.removeEventListener(type,callback);}}};EventTarget.prototype.dispatchEvent=function(event){if(!(event.type in this.listeners)){return;}
var stack=this.listeners[event.type];event.target=this;for(var i=0,l=stack.length;i<l;i++){stack[i].call(this,event);}};}
var indexOf;if(typeof Array.prototype.indexOf==='function'){indexOf=function(haystack,needle){return haystack.indexOf(needle);};}else{indexOf=function(haystack,needle){var i=0,length=haystack.length,idx=-1,found=false;while(i<length&&!found){if(haystack[i]===needle){idx=i;found=true;}
i++;}
return idx;};};var EventEmitter=EventTarget;EventEmitter.prototype.on=function(event,listener){if(typeof this.events==='undefined'){this.events={};}
if(typeof this.events[event]==='undefined'){this.events[event]=[];}
this.events[event].push(listener);return this;};EventEmitter.prototype.addListener=function(event,listener){this.on(event,listener);return this;};EventEmitter.prototype.removeListener=function(event,listener){var idx;if(typeof this.events[event]==='object'){idx=indexOf(this.events[event],listener);if(idx>-1){this.events[event].splice(idx,1);}}
return this;};EventEmitter.prototype.off=function(event,listener){this.removeListener(event,listener);return this;};EventEmitter.prototype.emit=function(event){var i,listeners,length,args=[].slice.call(arguments,1);if(typeof this.events[event]==='object'){listeners=this.events[event].slice();length=listeners.length;for(i=0;i<length;i++){listeners[i].apply(this,args);}}
return this;};EventEmitter.prototype.hasListeners=function(event){return(typeof this.events[event]==='object'&&0<this.events[event].length)?true:false;};EventEmitter.prototype.once=function(event,listener){this.on(event,function g(){this.removeListener(event,g);listener.apply(this,arguments);});return this;};
/*!# @license * * (c) by * Cory Brown <oh.wise.man@gmail.com> * Daniel Sellers <daniel@designfrontier.net> * * edited by webfan.de */
EventEmitter.prototype.required=function(eventsArrayIn,callback,scopeIn,multiple){var that=this,scope=scopeIn||{},eventArray=eventsArrayIn,eventData=[],updateData=[],called=false,listen=function(events,multiple){if(multiple){return events.on||events.addListener;}else{return events.once||events.one||events.on||events.addListener;}}(that,multiple),silence=that.off||that.removeListener,isOn=(listen===that.on)||(listen===that.addListener),clear=function(){eventArray.forEach(function(event){silence.apply(that,[event,updateData[eventArray.indexOf(event)]]);});eventData=[];},updateState=function(eventName){var index=eventArray.indexOf(eventName);return function(data){if(typeof data==='undefined'){data=true;}
eventData[index]=data;stateCheck();};},stateReady=function(s){if('undefined'===typeof s){return eventArray.every(function(event){return(typeof eventData[eventArray.indexOf(event)]!=='undefined');});}
return(typeof eventData[eventArray.indexOf(s)]!=='undefined');},stateGet=function(s){return eventData[eventArray.indexOf(s)];},stateCheck=function(){var ready=eventArray.every(function(event){return(typeof eventData[eventArray.indexOf(event)]!=='undefined');});if(ready&&!called){callback.apply(scope,[eventData]);if(!multiple){called=true;if(isOn){clear();}}}},addState=function(){var events=function(){var args=[].slice.call(arguments),flat=[],fltn=function(arry){return arry.reduce(function(flat,item){if(Array.isArray(item)){flat.concat(fltn(item));}else{flat.push(item);}
return flat;},flat);};return[].concat(fltn(args));}([].slice.call(arguments));events.forEach(function(event){var index=eventArray.indexOf(event);if(index===-1){eventArray.push(event);index=eventArray.length-1;}
updateData[index]=updateState(event);listen.apply(that,[event,updateData[index]]);});};eventArray.forEach(function(event){addState(event);});return{cancel:clear,add:addState,events:eventArray,status:eventData,stateReady:stateReady,stateGet:stateGet};};return EventEmitter;});
/*! $29 filer */
/*!*
 * Copyright 2013 - Eric Bidelman
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * @fileoverview
 * Convenient wrapper library for the HTML5 Filesystem API, implementing
 * familiar UNIX commands (cp, mv, ls) for its API.
 *
 * @author Eric Bidelman (ebidel@gmail.com)
 * @version: 0.4.3
 */
define('filer',function(){
/*!# @license * Copyright (c) Version of this minified: http://cdn.frdl.webfan.de/cdn/frdl/flow/libraries/polyfill/indexedDB.js?minify=no */
(function(){var indexedDB=global.indexedDB||global.webkitIndexedDB||global.mozIndexedDB||global.OIndexedDB||global.msIndexedDB||{polyfill:true};if('undefined'===typeof global.indexedDB){global.indexedDB=indexedDB;}
if(!indexedDB.polyfill)
return;if('undefined'!==typeof console)
console.warn('This browser most likely does not support IndexedDB API. Initializing custom IndexedDB'+' implementation using Web SQL Database API.');indexedDB.SCHEMA_TABLE="__IndexedDBSchemaInfo__";indexedDB.DB_PREFIX="__IndexedDB__";indexedDB.DOMStringList=function(){};indexedDB.DOMStringList.prototype=[];indexedDB.DOMStringList.constructor=indexedDB.DOMStringList;indexedDB.DOMStringList.prototype.contains=function(str){return this.indexOf(str)>=0;};var util=indexedDB.util=new(function(){this.async=function(fn,async){if(async==null||async)
w_setTimeout(fn,0);else
fn();};this.error=function(name,message,innerError){return{name:name,message:message,inner:innerError}};this.event=function(type,target){return{type:type,target:target,currentTarget:target,preventDefault:function(){},stopPropagation:function(){}};};this.fireErrorEvent=function(request,error){request.error=error;if(request.onerror==null)
return;request.onerror(this.event("error",request));};this.fireSuccessEvent=function(request,result){if(arguments.length===2)
request.result=result;if(request.onsuccess==null)
return;request.onsuccess(this.event("success",request));};this.validateKeyPath=function(keyPath){if(keyPath==="")
return"";if(keyPath==null)
return null;var r=/^([^\d\W]\w*\.)+$/i;if(keyPath instanceof Array){var i=keyPath.length;if(i==0)
throw this.error("SyntaxError");while(i--){if(!r.test(keyPath[i]+"."))
throw this.error("SyntaxError");}
return keyPath;}
if(!r.test(keyPath+"."))
throw this.error("SyntaxError");return keyPath;};this.arrayRemove=function(array,item){var i=array.indexOf(item);if(i>-1)
array.splice(i,1);};this.indexTable=function(objectStoreName,name){if(arguments.length==1&&(objectStoreName instanceof this.IDBIndex)){name=objectStoreName.name;objectStoreName=objectStoreName.objectStore.name;}
return indexedDB.DB_PREFIX+"Index__"+objectStoreName+"__"+name;};this.extractKeyFromValue=function(keyPath,value){var key;if(keyPath instanceof Array){key=[];for(var i=0;i<keyPath.length;i++){key.push(this.extractKeyFromValue(keyPath[i],value));}}else{if(keyPath==="")
return value;key=value;var paths=keyPath.split(".");for(var i=0;i<paths.length;i++){if(key==null)
return null;key=key[paths[i]];}}
return key;};this.validateKeyOrRange=function(key){if(key==null)
return null;if(!(key instanceof this.IDBKeyRange)){key=this.encodeKey(key);if(key===null)
throw this.error("DataError");}
return key;};this.wait=function(conditionFunc,bodyFunc,async){var me=this;this.async(function(){if(conditionFunc())
bodyFunc();else{w_setTimeout(function(){me.wait(conditionFunc,bodyFunc);},10);}},async);};});var IDBVersionChangeEvent=window.IDBVersionChangeEvent=indexedDB.util.IDBVersionChangeEvent=function(type,target,oldVersion,newVersion){this.type=type;this.target=this.currentTarget=target;this.oldVersion=oldVersion;this.newVersion=newVersion;};var IDBDatabaseException=window.IDBDatabaseException=indexedDB.util.IDBDatabaseException={ABORT_ERR:8,CONSTRAINT_ERR:4,DATA_ERR:5,NON_TRANSIENT_ERR:2,NOT_ALLOWED_ERR:6,NOT_FOUND_ERR:3,QUOTA_ERR:11,READ_ONLY_ERR:9,TIMEOUT_ERR:10,TRANSACTION_INACTIVE_ERR:7,UNKNOWN_ERR:1,VERSION_ERR:12};var w_setTimeout=window.setTimeout;var IDBCursor=util.IDBCursor=window.IDBCursor=function(source,direction,request){this.source=source;this.direction=direction||IDBCursor.NEXT;this.key=null;this.primaryKey=null;this._request=request;this._range=null;this._gotValue=true;this._effectiveKeyEncoded=null;};IDBCursor.prototype.update=function(value){var objectStore=getObjectStore(this);IDBTransaction._assertNotReadOnly(objectStore.transaction);if(!(this instanceof util.IDBCursorWithValue)||!this._gotValue)
throw util.error("InvalidStateError");if(objectStore.keyPath!=null){var key=util.extractKeyFromValue(objectStore.keyPath,value);if(key!=this.primaryKey)
throw util.error("DataError");}
var request=new util.IDBRequest(this);var me=this;objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){objectStore._insertOrReplaceRecord({request:request,sqlTx:sqlTx,nextRequestCallback:nextRequestCallback,noOverwrite:false,value:value,encodedKey:me._effectiveKeyEncoded});});return request;};IDBCursor.prototype.advance=function(count){count=parseInt(count);if(isNaN(count)||count<=0)
throw util.error("TypeError");advanceOrContinue(this,count,null);};IDBCursor.prototype.continue=function(key){advanceOrContinue(this,1,key);};IDBCursor.prototype.delete=function(){var objectStore=getObjectStore(this);IDBTransaction._assertNotReadOnly(objectStore.transaction);if(!(this instanceof util.IDBCursorWithValue)||!this._gotValue)
throw util.error("InvalidStateError");var request=new util.IDBRequest(this);var me=this;objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){objectStore._deleteRecord(sqlTx,me._effectiveKeyEncoded,function(){util.fireSuccessEvent(request);nextRequestCallback();},function(_,error){util.fireErrorEvent(request,error);nextRequestCallback();});});return request;};function advanceOrContinue(me,count,key){if(!me._gotValue)
throw util.error("InvalidStateError");me._gotValue=false;var filter=util.IDBKeyRange._clone(me._range);filter.count=count;var isSourceIndex=me.source instanceof util.IDBIndex;var position=me.key;var noDuplicate=[IDBCursor.PREV_NO_DUPLICATE,IDBCursor.NEXT_NO_DUPLICATE].indexOf(me.direction)>=0;if(key!=null){if(isDesc(me)){if((isSourceIndex&&key>position)||key>=position)
throw util.error("DataError");filter.upper=key;filter.upperOpen=false;}else{if((isSourceIndex&&key<position)||key<=position)
throw util.error("DataError");filter.lower=key;filter.lowerOpen=false;}}else if(position!=null){var open=!isSourceIndex||noDuplicate;if(isDesc(me)){filter.upper=position;filter.upperOpen=open;}else{filter.lower=position;filter.lowerOpen=open;}}
if(isSourceIndex)
iterateIndexCursor(me,filter);else
iterateCursor(me,filter);}
function iterateCursor(me,filter){var tx=me.source.transaction;me._request.readyState=util.IDBRequest.LOADING;tx._queueOperation(function(sqlTx,nextRequestCallback){var sql=["SELECT hex(key) 'key', value FROM ["+me.source.name+"]"];var where=[];var args=[];if(filter.lower!=null){where.push("(key >"+(filter.lowerOpen?"":"=")+" X'"+util.encodeKey(filter.lower)+"')");}
if(filter.upper!=null){where.push("(key <"+(filter.upperOpen?"":"=")+" X'"+util.encodeKey(filter.upper)+"')");}
if(where.length>0){sql.push("WHERE",where.join(" AND "))}
sql.push("ORDER BY key"+(isDesc(me)?" DESC":""));sql.push("LIMIT",filter.count);sqlTx.executeSql(sql.join(" "),args,function(tx,results){var request=me._request;request.readyState=util.IDBRequest.DONE;if(results.rows.length<filter.count){me.key=me.primaryKey=me._effectiveKeyEncoded=undefined;if(typeof me.value!=="undefined")
me.value=undefined;request.result=null;}else{var found=results.rows.item(filter.count-1);me._effectiveKeyEncoded=found.key;me.key=me.primaryKey=util.decodeKey(found.key);if(typeof me.value!=="undefined")
me.value=w_JSON.parse(found.value);me._gotValue=true;request.result=me;}
util.fireSuccessEvent(request);nextRequestCallback();},function(tx,error){util.fireErrorEvent(me._request,error);nextRequestCallback();});});}
function iterateIndexCursor(me,filter){var tx=me.source.objectStore.transaction;me._request.readyState=util.IDBRequest.LOADING;tx._queueOperation(function(sqlTx,nextRequestCallback){var withValue=me instanceof IDBCursorWithValue;var desc=isDesc(me);var objectStoreName=me.source.objectStore.name;var tableName=util.indexTable(objectStoreName,me.source.name);var sql=["SELECT hex(i.key) 'key', hex(i.primaryKey) 'primaryKey'"+(withValue?", t.value":""),"FROM ["+tableName+"] as i"];if(withValue){sql.push("LEFT JOIN ["+objectStoreName+"] as t ON t.Id = i.recordId");}
var where=[],args=[],encoded;if(filter.lower!=null){encoded=util.encodeKey(filter.lower);if(filter.lowerOpen){where.push("(i.key > X'"+encoded+"')");}else{if(me._effectiveKeyEncoded==null||desc){where.push("(i.key >= X'"+encoded+"')");}else{where.push("((i.key > X'"+encoded+"') OR (i.key = X'"+encoded+"' AND i.primaryKey > X'"+me._effectiveKeyEncoded+"'))");}}}
if(filter.upper!=null){encoded=util.encodeKey(filter.upper);if(filter.upperOpen){where.push("(i.key < X'"+encoded+"')");}else{if(me._effectiveKeyEncoded==null||!desc){where.push("(i.key <= X'"+encoded+"')");}else{where.push("((i.key < X'"+encoded+"') OR (i.key = X'"+encoded+"' AND i.primaryKey < X'"+me._effectiveKeyEncoded+"'))");}}}
if(where.length>0){sql.push("WHERE",where.join(" AND "))}
var sDesc=desc?" DESC":"";sql.push("ORDER BY i.key"+sDesc+", i.primaryKey"+sDesc);sql.push("LIMIT",filter.count);sqlTx.executeSql(sql.join(" "),args,function(sqlTx,results){var request=me._request;request.readyState=util.IDBRequest.DONE;if(results.rows.length<filter.count){me.key=me.primaryKey=me._effectiveKeyEncoded=undefined;if(typeof me.value!=="undefined")
me.value=undefined;request.result=null;}else{var found=results.rows.item(filter.count-1);me.key=util.decodeKey(found.key);me._effectiveKeyEncoded=found.primaryKey;me.primaryKey=util.decodeKey(found.primaryKey);if(typeof me.value!=="undefined")
me.value=w_JSON.parse(found.value);me._gotValue=true;request.result=me;}
util.fireSuccessEvent(request);nextRequestCallback();},function(_,error){util.fireErrorEvent(me._request,error);nextRequestCallback();});});}
var w_JSON=window.JSON;function isDesc(cursor){return[IDBCursor.PREV,IDBCursor.PREV_NO_DUPLICATE].indexOf(cursor.direction)>=0;}
function getObjectStore(cursor){if(cursor.source instanceof util.IDBObjectStore){return cursor.source;}else if(cursor.source instanceof util.IDBIndex){return cursor.source.objectStore;}
return null;}
IDBCursor.NEXT="next";IDBCursor.NEXT_NO_DUPLICATE="nextunique";IDBCursor.PREV="prev";IDBCursor.PREV_NO_DUPLICATE="prevunique";var IDBCursorWithValue=function(source,direction,request){IDBCursor.apply(this,arguments);this.value=null;};IDBCursorWithValue.prototype=new IDBCursor();IDBCursorWithValue.prototype.constructor=IDBCursorWithValue;util.IDBCursorWithValue=window.IDBCursorWithValue=IDBCursorWithValue;var IDBDatabase=util.IDBDatabase=window.IDBDatabase=function(name,webdb){this.name=name;this.version=null;this.objectStoreNames=new indexedDB.DOMStringList();this.onabort=null;this.onerror=null;this.onversionchange=null;this._webdb=webdb;this._objectStores=null;this._closePending=false;this._activeTransactionCounter=0;this._closed=false;};IDBDatabase.prototype.createObjectStore=function(name,optionalParameters){IDBTransaction._assertVersionChange(this._versionChangeTransaction);if(this.objectStoreNames.indexOf(name)>=0){throw util.error("ConstraintError");}
var params=optionalParameters||{};var keyPath=util.validateKeyPath(params.keyPath);var autoIncrement=params.autoIncrement&&params.autoIncrement!=false||false;if(autoIncrement&&(keyPath===""||(keyPath instanceof Array))){throw util.error("InvalidAccessError");}
return createObjectStore(this,name,keyPath,autoIncrement);};IDBDatabase.prototype.deleteObjectStore=function(name){var tx=this._versionChangeTransaction;IDBTransaction._assertVersionChange(tx);if(this.objectStoreNames.indexOf(name)==-1){throw util.error("NotFoundError");}
util.arrayRemove(this.objectStoreNames,name);var objectStore=this._objectStores[name];delete this._objectStores[name];var me=this;var errorCallback=function(){me.objectStoreNames.push(name);me._objectStores[name]=objectStore;};tx._queueOperation(function(sqlTx,nextRequestCallback){sqlTx.executeSql("DROP TABLE ["+name+"]",null,null,errorCallback);sqlTx.executeSql("DELETE FROM "+indexedDB.SCHEMA_TABLE+" WHERE type = 'table' AND name = ?",[name],null,errorCallback);nextRequestCallback();});};IDBDatabase.prototype.transaction=function(storeNames,mode){if(storeNames instanceof Array||storeNames==null){if(storeNames.length==0)
throw util.error("InvalidAccessError");}else{storeNames=[storeNames.toString()];}
for(var i=0;i<storeNames.length;i++){if(!this.objectStoreNames.contains(storeNames[i]))
throw util.error("NotFoundError");}
if(this._closePending||this._closed)
throw util.error("InvalidStateError");return new util.IDBTransaction(this,storeNames,mode||util.IDBTransaction.READ_ONLY);};IDBDatabase.prototype.close=function(){this._closePending=true;needDBClose(this);};IDBDatabase.prototype._loadObjectStores=function(sqlTx,successCallback,errorCallback){var me=this;sqlTx.executeSql("SELECT * FROM "+indexedDB.SCHEMA_TABLE+" ORDER BY type DESC",null,function(sqlTx,resultSet){me._objectStores={};var item,objectStore;for(var i=0;i<resultSet.rows.length;i++){item=resultSet.rows.item(i);if(item.type=="table"){me.objectStoreNames.push(item.name);objectStore=new util.IDBObjectStore(item.name,w_JSON.parse(item.keyPath),item.autoInc);objectStore._metaId=item.id;me._objectStores[item.name]=objectStore;}else if(item.type=="index"){for(var name in me._objectStores){objectStore=me._objectStores[name];if(objectStore._metaId==item.tableId)
break;}
objectStore.indexNames.push(item.name);objectStore._indexes[item.name]=new util.IDBIndex(objectStore,item.name,item.keyPath,item.unique,item.multiEntry)}}
if(successCallback)
successCallback();},function(_,error){if(errorCallback)
errorCallback(error);});};IDBDatabase.prototype._transactionCompleted=function(){this._activeTransactionCounter--;needDBClose(this);};var w_JSON=window.JSON;function createObjectStore(me,name,keyPath,autoIncrement){var objectStore=new util.IDBObjectStore(name,keyPath,autoIncrement,me._versionChangeTransaction);me.objectStoreNames.push(name);me._objectStores[name]=objectStore;var errorCallback=function(){util.arrayRemove(me.objectStoreNames,name);delete me._objectStores[name];};me._versionChangeTransaction._queueOperation(function(sqlTx,nextRequestCallback){sqlTx.executeSql("CREATE TABLE ["+name+"] (id INTEGER PRIMARY KEY AUTOINCREMENT, "+"key BLOB UNIQUE, value BLOB)",null,null,errorCallback);sqlTx.executeSql("CREATE INDEX INDEX_"+name+"_key ON ["+name+"] (key)",null,null,errorCallback);sqlTx.executeSql("INSERT INTO "+indexedDB.SCHEMA_TABLE+" (type, name, keyPath, autoInc) VALUES ('table', ?, ?, ?)",[name,w_JSON.stringify(keyPath),autoIncrement?1:0],function(sqlTx,results){objectStore._metaId=results.insertId;},errorCallback);nextRequestCallback();});return objectStore;}
function needDBClose(me){if(me._closePending&&me._activeTransactionCounter==0){me._closePending=false;me._closed=true;indexedDB._notifyConnectionClosed(me);}}
var origin={};indexedDB.open=function(name,version){if(arguments.length==2&&version==undefined)
throw util.error("TypeError");if(version!==undefined){version=parseInt(version.valueOf());if(isNaN(version)||version<=0)
throw util.error("TypeError","The method parameter is missing or invalid.");}
var request=new util.IDBOpenDBRequest(null);util.async(function(){request.readyState=util.IDBRequest.DONE;runStepsForOpeningDB(name,version,request);});return request;};function runStepsForOpeningDB(name,version,request){var sqldb=util.openDatabase(name);if(sqldb.version!==""&&isNaN(parseInt(sqldb.version))){util.fireErrorEvent(request,util.error("VersionError"));return;}
var connection=new util.IDBDatabase(name,sqldb);var oldVersion=sqldb.version==""?0:parseInt(sqldb.version);connection.version=(version===undefined)?(oldVersion===0?1:oldVersion):version;var database=getOriginDatabase(name);util.wait(function(){if(database.deletePending)
return false;for(var i=0;i<database.connections.length;i++){if(database.connections[i]._versionChangeTransaction!=null)
return false;}
return true;},function(){if(oldVersion<connection.version){runStepsForVersionChangeTransaction(request,connection,oldVersion);}else if(oldVersion==connection.version){openVersionMatch(request,connection,sqldb);}else{util.fireErrorEvent(request,util.error("VersionError"));}});}
function runStepsForVersionChangeTransaction(request,connection,oldVersion){fireVersionChangeEvent(request,connection.name,oldVersion,connection.version);util.wait(function(){return getOriginDatabase(name).connections.length==0;},function(){startVersionChangeTransaction(request,connection,oldVersion);});}
function startVersionChangeTransaction(request,connection,oldVersion){var database=getOriginDatabase(connection.name);database.connections.push(connection);var tx=new util.IDBTransaction(connection,[],util.IDBTransaction.VERSION_CHANGE);if(oldVersion==0){tx._queueOperation(function(sqlTx,nextRequestCallback){sqlTx.executeSql("CREATE TABLE ["+indexedDB.SCHEMA_TABLE+"] ("+"id INTEGER PRIMARY KEY AUTOINCREMENT, "+"type TEXT NOT NULL, "+"name TEXT NOT NULL, "+"keyPath TEXT, "+"currentNo INTEGER NOT NULL DEFAULT 1, "+"autoInc BOOLEAN, "+"tableId INTEGER, "+"[unique] BOOLEAN, "+"multiEntry BOOLEAN, "+"UNIQUE (type, name) ON CONFLICT ROLLBACK)");nextRequestCallback();});}
tx._queueOperation(function(sqlTx,nextRequestCallback){connection._loadObjectStores(sqlTx,function(){request.result=connection;if(request.onupgradeneeded){request.transaction=connection._versionChangeTransaction=tx;var e=new util.IDBVersionChangeEvent("onupgradeneeded",request,oldVersion,connection.version);request.onupgradeneeded(e);}
nextRequestCallback();},function(error){nextRequestCallback();});});tx.onabort=function(e){request.error=tx.error;connection._versionChangeTransaction=null;if(request.onerror)
request.onerror(util.event("abort",request));};tx.onerror=function(e){request.transaction=connection._versionChangeTransaction=null;util.fireErrorEvent(request,tx.error);};tx.oncomplete=function(e){request.transaction=connection._versionChangeTransaction=null;util.fireSuccessEvent(request);};}
function openVersionMatch(request,connection,sqldb){sqldb.transaction(function(sqlTx){connection._loadObjectStores(sqlTx);},function(error){util.fireErrorEvent(request,error);},function(){util.fireSuccessEvent(request,connection);});}
indexedDB.deleteDatabase=function(name){var database=getOriginDatabase(name);database.deletePending=true;var request=new util.IDBOpenDBRequest(null);util.async(function(){request.readyState=util.IDBRequest.DONE;var sqldb=util.openDatabase(name);if(sqldb.version==""){database.deletePending=false;util.fireSuccessEvent(request);}else{fireVersionChangeEvent(request,name,parseInt(sqldb.version),null);util.wait(function(){return database.connections.length==0;},function(){deleteDatabase(request,sqldb,database);});}});return request;};indexedDB.cmp=function(first,second){first=util.encodeKey(first);second=util.encodeKey(second);return first>second?1:(first==second?0:-1);};indexedDB._notifyConnectionClosed=function(connection){var database=getOriginDatabase(connection.name);var i=database.connections.indexOf(connection);if(i>=0)
database.connections.splice(i,1);};function getOriginDatabase(name){var db=origin[name];if(db==null){db={name:name,deletePending:false,connections:[]};origin[name]=db;}
return db;}
function fireVersionChangeEvent(request,name,oldVersion,newVersion){var database=getOriginDatabase(name);var anyOpenConnection=false;for(var i=0;i<database.connections.length;i++){var conn=database.connections[i];if(conn._closePending)
continue;anyOpenConnection=true;var event=new util.IDBVersionChangeEvent("versionchange",request,oldVersion,newVersion);if(conn.onversionchange)
conn.onversionchange(event);}
if(anyOpenConnection){var event=new util.IDBVersionChangeEvent("blocked",request,oldVersion,newVersion);if(request.onblocked)
request.onblocked(event);}}
function deleteDatabase(request,sqldb,database){sqldb.changeVersion(sqldb.version,"",function(sqlTx){sqlTx.executeSql("SELECT a.type, a.name, b.name 'table' FROM "+indexedDB.SCHEMA_TABLE+" a LEFT JOIN "+indexedDB.SCHEMA_TABLE+" b ON a.type = 'index' AND a.tableId = b.Id",null,function(sqlTx,results){var name;for(var i=0;i<results.rows.length;i++){var item=results.rows.item(i);name=item.type=='table'?item.name:util.indexTable(item.table,item.name);sqlTx.executeSql("DROP TABLE ["+name+"]");}
sqlTx.executeSql("DROP TABLE "+indexedDB.SCHEMA_TABLE);});},function(error){database.deletePending=false;util.fireErrorEvent(request,error);},function(){database.deletePending=false;util.fireSuccessEvent(request);});}
var IDBIndex=util.IDBIndex=window.IDBIndex=function(objectStore,name,keyPath,unique,multiEntry){this.objectStore=objectStore;this.name=name;this.keyPath=keyPath;this.unique=unique;this.multiEntry=multiEntry;this._ready=true;};IDBIndex.prototype.openCursor=function(range,direction){return performOpeningCursor(this,util.IDBCursorWithValue,range,direction);};IDBIndex.prototype.openKeyCursor=function(range,direction){return performOpeningCursor(this,util.IDBCursor,range,direction);};IDBIndex.prototype.get=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){var sql=["SELECT s.value FROM ["+util.indexTable(me)+"] AS i INNER JOIN"];sql.push("["+me.objectStore.name+"] AS s ON s.id = i.recordId");if(encodedKeyOrRange instanceof util.IDBKeyRange){sql.push("WHERE",encodedKeyOrRange._getSqlFilter("i.key"));}else if(encodedKeyOrRange!=null){sql.push("WHERE (i.key = X'"+encodedKeyOrRange+"')");}
sql.push("ORDER BY i.key, i.primaryKey LIMIT 1");sqlTx.executeSql(sql.join(" "),null,function(_,results){util.fireSuccessEvent(request,results.rows.length>0?w_JSON.parse(results.rows.item(0).value):undefined)},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};IDBIndex.prototype.getKey=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){var sql=["SELECT hex(primaryKey) 'primaryKey' FROM ["+util.indexTable(me)+"]"];if(encodedKeyOrRange instanceof util.IDBKeyRange){sql.push("WHERE",encodedKeyOrRange._getSqlFilter());}else if(encodedKeyOrRange!=null){sql.push("WHERE (key = X'"+encodedKeyOrRange+"')");}
sql.push("LIMIT 1");sqlTx.executeSql(sql.join(" "),null,function(_,results){util.fireSuccessEvent(request,results.rows.length>0?util.decodeKey(results.rows.item(0).primaryKey):undefined);},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};IDBIndex.prototype.count=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){var sql=["SELECT COUNT(recordId) AS 'count' FROM ["+util.indexTable(me)+"]"];if(encodedKeyOrRange instanceof util.IDBKeyRange){sql.push("WHERE",encodedKeyOrRange._getSqlFilter());}else if(encodedKeyOrRange!=null){sql.push("WHERE (key = X'"+encodedKeyOrRange+"')");}
sqlTx.executeSql(sql.join(" "),null,function(_,results){util.fireSuccessEvent(request,results.rows.item(0).count);},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};var w_JSON=window.JSON;function performOpeningCursor(me,cursorType,range,direction){var request=new util.IDBRequest(me);var cursor=new cursorType(me,direction,request);cursor._range=util.IDBKeyRange._ensureKeyRange(range);cursor.continue();return request;}
var IDBKeyRange=util.IDBKeyRange=window.IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen||false;this.upperOpen=upperOpen||false;};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,false,false)};IDBKeyRange.lowerBound=function(lower,open){return new IDBKeyRange(lower,undefined,open||false,true);};IDBKeyRange.upperBound=function(upper,open){return new IDBKeyRange(undefined,upper,true,open||false);};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,upper,lowerOpen||false,upperOpen||false);};IDBKeyRange._ensureKeyRange=function(arg){if(arg==null){return util.IDBKeyRange.bound();}
if((arg instanceof util.IDBKeyRange)){return arg;}
return util.IDBKeyRange.only(arg);};IDBKeyRange._clone=function(range){return util.IDBKeyRange.bound(range.lower,range.upper,range.lowerOpen,range.upperOpen);};IDBKeyRange.prototype._getSqlFilter=function(keyColumnName){if(keyColumnName==undefined)
keyColumnName="key";var sql=[],hasLower=this.lower!=null,hasUpper=this.upper!=null;if(this.lower==this.upper){sql.push("("+keyColumnName+" = X'"+util.encodeKey(this.lower)+"')");}else{if(hasLower){sql.push("(X'"+util.encodeKey(this.lower)+"' <"+(this.lowerOpen?"":"=")+" "+keyColumnName+")");}
if(hasUpper){sql.push("("+keyColumnName+" <"+(this.upperOpen?"":"=")+" X'"+util.encodeKey(this.upper)+"')");}}
return sql.join(" AND ");};var IDBObjectStore=util.IDBObjectStore=window.IDBObjectStore=function(name,keyPath,autoIncrement,tx){this.name=name;this.keyPath=keyPath;this.indexNames=new indexedDB.DOMStringList();this.transaction=tx;this.autoIncrement=autoIncrement==true;this._metaId=null;this._indexes={};};IDBObjectStore.prototype.put=function(value,key){return storeRecord(this,value,key,false);};IDBObjectStore.prototype.add=function(value,key){return storeRecord(this,value,key,true);};function storeRecord(me,value,key,noOverwrite){util.IDBTransaction._assertNotReadOnly(me.transaction);var validation=validateObjectStoreKey(me.keyPath,me.autoIncrement,value,key);var request=new util.IDBRequest(me);me.transaction._queueOperation(function(sqlTx,nextRequestCallback){var context={request:request,sqlTx:sqlTx,nextRequestCallback:nextRequestCallback,noOverwrite:noOverwrite,value:value,key:validation.key,encodedKey:validation.encodedKey};runStepsForStoringRecord(context);});return request;}
function validateObjectStoreKey(keyPath,autoIncrement,value,key){var key=key,encodedKey;if(keyPath!=null){if(key!=null)
throw util.error("DataError");key=util.extractKeyFromValue(keyPath,value);}
if(key==null){if(!autoIncrement)
throw util.error("DataError");}else{encodedKey=util.encodeKey(key);if(encodedKey===null)
throw util.error("DataError");}
return{key:key,encodedKey:encodedKey};}
function runStepsForStoringRecord(context){var request=context.request,key=context.key;var me=request.source;request.readyState=util.IDBRequest.DONE;if(me.autoIncrement&&(key==null||isPositiveFloat(key))){context.sqlTx.executeSql("SELECT currentNo FROM "+indexedDB.SCHEMA_TABLE+" WHERE type='table' AND name = ?",[me.name],function(sqlTx,results){if(results.rows.length!=1){}
var currentNo=results.rows.item(0).currentNo;if(key==null){context.key=key=currentNo;context.encodedKey=util.encodeKey(key);if(me.keyPath!=null)
assignKeyToValue(context.value,me.keyPath,key);}
if(key>=currentNo)
incrementCurrentNumber(sqlTx,me.name,Math.floor(key+1));context.sqlTx=sqlTx;me._insertOrReplaceRecord(context);},function(_,error){util.fireErrorEvent(request,error);context.nextRequestCallback();});}else{me._insertOrReplaceRecord(context);}}
function incrementCurrentNumber(sqlTx,tableName,currentNo){sqlTx.executeSql("UPDATE "+indexedDB.SCHEMA_TABLE+" SET currentNo = ? "+"WHERE type='table' AND name = ?",[currentNo,tableName]);}
function assignKeyToValue(value,keyPath,key){if(!(value instanceof Object)&&!(value instanceof Array))
throw util.error("DataError");var path=keyPath.split(".");var attr=null;for(var i=0;i<path.length-1;i++){attr=path[i];if(value[attr]==null)
value[attr]={};value=value[attr];}
value[path[path.length-1]]=key;}
function storeIndexes(context){var request=context.request;var me=context.objectStore;var indexes=[],strKeys=[];for(var indexName in me._indexes){var index=me._indexes[indexName];if(!index._ready)
continue;var strKey=getValidIndexKeyString(index,context.value);if(strKey==null)
continue;strKeys.push(strKey);indexes.push(index);}
if(indexes.length==0){util.fireSuccessEvent(request,context.key);context.nextRequestCallback();}else{var lastIndex=indexes.length-1;for(var i=0;i<indexes.length;i++){storeIndex(context,indexes[i],strKeys[i],i==lastIndex);}}}
function getValidIndexKeyString(index,value){var key=util.extractKeyFromValue(index.keyPath,value);if(key==null)
return null;if(key instanceof Array){if(key.length==0)
return null;}
var encodedKey=util.encodeKey(key);if(encodedKey===null)
return null;if(index.multiEntry&&(key instanceof Array)){var tmp=[];for(var i=0;i<key.length;i++){encodedKey=util.encodeKey(key[i]);if(encodedKey===null||tmp.indexOf(encodedKey)>=0)
continue;tmp.push(encodedKey);}
if(tmp.length==0)
return null;return tmp;}
return encodedKey;}
function storeIndex(context,index,encodedKey,isLast){var indexTable=util.indexTable(index.objectStore.name,index.name);var sql=["INSERT INTO",indexTable,"(recordId, key, primaryKey)"];var args=[];if(index.multiEntry&&(encodedKey instanceof Array)){var select=[];for(var i=0;i<encodedKey.length;i++){sql.push("SELECT ?, X'"+encodedKey[i]+"', X'"+context.encodedKey+"'");args.push(context.recordId);}
sql.push(select.join(" UNION ALL "))}else{sql.push("VALUES (?, X'"+encodedKey+"', X'"+context.encodedKey+"')");args.push(context.recordId);}
var request=context.request;context.sqlTx.executeSql(sql.join(" "),args,function(_,results){if(!isLast)
return;util.fireSuccessEvent(request,context.key);context.nextRequestCallback();},function(_,error){util.fireErrorEvent(request,error);context.nextRequestCallback();});}
IDBObjectStore.prototype.delete=function(key){util.IDBTransaction._assertNotReadOnly(this.transaction);key=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.transaction._queueOperation(function(sqlTx,nextRequestCallback){me._deleteRecord(sqlTx,key,function(){util.fireSuccessEvent(request);nextRequestCallback();},function(_,error){util.fireErrorEvent(request,error);nextRequestCallback();});});return request;};IDBObjectStore.prototype.get=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;me.transaction._queueOperation(function(sqlTx,nextRequestCallback){var where="",args=[];if(encodedKeyOrRange instanceof util.IDBKeyRange){where="WHERE "+encodedKeyOrRange._getSqlFilter();}else if(encodedKeyOrRange!=null){where="WHERE (key = X'"+encodedKeyOrRange+"')";}
sqlTx.executeSql("SELECT [value] FROM ["+me.name+"] "+where+" LIMIT 1",args,function(_,results){util.fireSuccessEvent(request,results.rows.length>0?w_JSON.parse(results.rows.item(0).value):undefined)},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};IDBObjectStore.prototype.clear=function(){util.IDBTransaction._assertNotReadOnly(this.transaction);var request=new util.IDBRequest(this);var me=this;this.transaction._queueOperation(function(sqlTx,nextRequestCallback){var errorCallback=function(_,error){util.fireErrorEvent(request,error);};for(var indexName in me._indexes){var tableName=util.indexTable(me._indexes[indexName]);sqlTx.executeSql("DELETE FROM ["+tableName+"]",null,null,errorCallback);}
sqlTx.executeSql("DELETE FROM ["+me.name+"]",null,function(_,results){util.fireSuccessEvent(request,undefined);},errorCallback);});return request;};IDBObjectStore.prototype.openCursor=function(range,direction){var request=new util.IDBRequest(this);var cursor=new util.IDBCursorWithValue(this,direction,request);cursor._range=util.IDBKeyRange._ensureKeyRange(range);cursor.continue();return request;};IDBObjectStore.prototype.createIndex=function(name,keyPath,optionalParameters){util.IDBTransaction._assertVersionChange(this.transaction);if(this.indexNames.indexOf(name)>=0){throw util.error("ConstraintError");}
var keyPath=util.validateKeyPath(keyPath);var params=optionalParameters||{};var unique=params.unique&&params.unique!=false||false;var multiEntry=params.multiEntry&&params.multiEntry!=false||false;if(keyPath instanceof Array&&multiEntry){throw util.error("NotSupportedError indexedDB.js");}
return createIndex(this,name,keyPath,unique,multiEntry);};IDBObjectStore.prototype.index=function(name){if(!this.transaction._active){throw util.error("InvalidStateError");}
var index=this._indexes[name];if(index==null){throw util.error("NotFoundError");}
return index;};IDBObjectStore.prototype.deleteIndex=function(indexName){util.IDBTransaction._assertVersionChange(this.transaction);if(this.indexNames.indexOf(indexName)==-1){throw util.error("ConstraintError");}
util.arrayRemove(this.indexNames,indexName);var index=this._indexes[indexName];delete this._indexes[indexName];var me=this;var errorCallback=function(_,sqlError){me.indexNames.push(indexName);me._indexes[indexName]=index;};this.transaction._queueOperation(function(sqlTx,nextRequestCallback){sqlTx.executeSql("DROP TABLE "+util.indexTable(me.name,indexName),null,null,errorCallback);sqlTx.executeSql("DELETE FROM "+indexedDB.SCHEMA_TABLE+" WHERE type = 'index' AND name = ?",[indexName],null,errorCallback);nextRequestCallback();});};IDBObjectStore.prototype.count=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.transaction._queueOperation(function(sqlTx,nextRequestCallback){var where="",args=[];if(encodedKeyOrRange instanceof util.IDBKeyRange){where="WHERE "+encodedKeyOrRange._getSqlFilter();}else if(encodedKeyOrRange!=null){where="WHERE (key = X'"+encodedKeyOrRange+"')";}
sqlTx.executeSql("SELECT COUNT(id) AS 'count' FROM ["+me.name+"] "+where,args,function(_,results){util.fireSuccessEvent(request,results.rows.item(0).count);},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};IDBObjectStore.prototype._deleteRecord=function(sqlTx,encodedKeyOrRange,onsuccess,onerror){var objectStore=this;var sql,where;if(encodedKeyOrRange instanceof util.IDBKeyRange){where="WHERE "+encodedKeyOrRange._getSqlFilter();}else{where="WHERE (key = X'"+encodedKeyOrRange+"')";}
for(var indexName in objectStore._indexes){var index=objectStore._indexes[indexName];sql=["DELETE FROM ["+util.indexTable(objectStore.name,index.name)+"]"];if(where){sql.push("WHERE recordId IN (SELECT id FROM ["+objectStore.name+"]",where+")");}
sqlTx.executeSql(sql.join(" "),null,null,onerror);}
sqlTx.executeSql("DELETE FROM ["+objectStore.name+"] "+where,null,onsuccess,onerror);};IDBObjectStore.prototype._insertOrReplaceRecord=function(context){var request=context.request;if(!context.noOverwrite){this._deleteRecord(context.sqlTx,context.encodedKey,null,function(_,error){util.fireErrorEvent(request,error);context.nextRequestCallback();});}
var me=this;var encodedValue=w_JSON.stringify(context.value);context.sqlTx.executeSql("INSERT INTO ["+me.name+"] (key, value) VALUES (X'"+context.encodedKey+"', ?)",[encodedValue],function(sqlTx,results){request.result=context.objectStore=me;context.sqlTx=sqlTx;context.recordId=results.insertId;storeIndexes(context);},function(_,error){util.fireErrorEvent(request,error);context.nextRequestCallback();});};var w_JSON=window.JSON;function isPositiveFloat(value){return typeof value=="number"&&value>0;}
function createIndex(me,name,keyPath,unique,multiEntry){var index=new util.IDBIndex(me,name,keyPath,unique,multiEntry);index._ready=false;me.indexNames.push(name);me._indexes[name]=index;var errorCallback=function(){util.arrayRemove(me.indexNames,name);delete me._indexes[name];};me.transaction._queueOperation(function(sqlTx,nextRequestCallback){var indexTable=util.indexTable(me.name,name);sqlTx.executeSql("CREATE TABLE "+indexTable+" (recordId INTEGER, key BLOB"+(unique?" UNIQUE":"")+", primaryKey BLOB)",null,null,errorCallback);sqlTx.executeSql("CREATE INDEX INDEX_"+indexTable+"_key ON ["+indexTable+"] (key)",null,null,errorCallback);sqlTx.executeSql("INSERT INTO "+indexedDB.SCHEMA_TABLE+" (name, type, keyPath, tableId, [unique], multiEntry) VALUES (?, 'index', ?, "+"(SELECT Id FROM "+indexedDB.SCHEMA_TABLE+" WHERE type = 'table' AND name = ?), ?, ?)",[name,w_JSON.stringify(keyPath),me.name,unique?1:0,multiEntry?1:0],null,errorCallback);sqlTx.executeSql("SELECT id, hex(key) 'key', value FROM ["+me.name+"]",null,function(sqlTx,results){if(results.rows.length==0)
return;var sql=["INSERT INTO ["+util.indexTable(me.name,name)+"]"];var select=[],args=[];for(var i=0;i<results.rows.length;i++){var item=results.rows.item(i);var encodedKey=getValidIndexKeyString(index,w_JSON.parse(item.value));if(encodedKey==null)
continue;if(index.multiEntry&&(encodedKey instanceof Array)){for(var j=0;j<encodedKey.length;j++){select.push("SELECT ?, X'"+encodedKey[j]+"', X'"+item.key+"'");args.push(item.id);}}else{select.push("SELECT ?, X'"+encodedKey+"', X'"+item.key+"'");args.push(item.id);}}
sql.push(select.join(" UNION ALL "));sqlTx.executeSql(sql.join(" "),args,null,function(_,error){throw util.error("AbortError");});});index._ready=true;nextRequestCallback();});return index;}
var IDBRequest=util.IDBRequest=window.IDBRequest=function(source){this.result=undefined;this.error=null;this.source=source;this.transaction=null;this.readyState=util.IDBRequest.LOADING;this.onsuccess=null;this.onerror=null;};IDBRequest.LOADING="pending";IDBRequest.DONE="done";var IDBOpenDBRequest=util.IDBOpenDBRequest=window.IDBOpenDBRequest=function(source){IDBRequest.apply(this,arguments);this.onblocked=null;this.onupgradeneeded=null;};IDBOpenDBRequest.prototype=new IDBRequest();IDBOpenDBRequest.prototype.constructor=IDBOpenDBRequest;var IDBTransaction=util.IDBTransaction=window.IDBTransaction=function(db,storeNames,mode){this.db=db;this.mode=mode;this.onabort=null;this.oncomplete=null;this.onerror=null;this._active=true;this._requests=[];var sqldb=this.db._webdb;db._activeTransactionCounter++;var txFn;if(mode===IDBTransaction.READ_ONLY)
txFn=sqldb.readTransaction;else if(mode===IDBTransaction.READ_WRITE)
txFn=sqldb.transaction;else if(mode===IDBTransaction.VERSION_CHANGE){txFn=function(x,y,z){sqldb.changeVersion(sqldb.version,db.version,x,y,z);};}
var me=this;txFn&&txFn.call(sqldb,function(sqlTx){performOperation(me,sqlTx,0);},function(sqlError){db.close();db._transactionCompleted();me.error=util.error("AbortError",null,sqlError);if(me.onabort)
me.onabort(util.event("abort",me));},function(){db._transactionCompleted();if(me.oncomplete)
me.oncomplete(util.event("success",me));});};function performOperation(me,sqlTx,operationIndex){if(!me._active)
return;if(operationIndex>=me._requests.length){me._active=false;me._requests=[];return;}
me._requests[operationIndex](sqlTx,function(){performOperation(me,sqlTx,operationIndex+1);});}
IDBTransaction.prototype.objectStore=function(name){validateActive(this);var objectStore=this.db._objectStores[name];if(objectStore){objectStore.transaction=this;return objectStore;}else{throw util.error("NotFoundError");}};IDBTransaction.prototype.abort=function(){if(!this._active)
throw util.error("InvalidStateError");this._queueOperation(function(sqlTx,nextRequestCallback){throw util.error("AbortError");});};IDBTransaction.prototype._queueOperation=function(sqlTxCallback){validateActive(this);this._requests.push(sqlTxCallback);};IDBTransaction._assertNotReadOnly=function(tx){if(tx.mode===util.IDBTransaction.READ_ONLY){throw util.error("ReadOnlyError","A mutation operation was attempted in a READ_ONLY transaction.");}};IDBTransaction._assertVersionChange=function(tx){if(!tx||tx.mode!==util.IDBTransaction.VERSION_CHANGE){throw util.error("InvalidStateError");}};IDBTransaction.READ_ONLY="readonly";IDBTransaction.READ_WRITE="readwrite";IDBTransaction.VERSION_CHANGE="versionchange";function validateActive(me){if(!me._active)
throw new util.error("TransactionInactiveError");}
var ARRAY_TERMINATOR={};var BYTE_TERMINATOR=0;var TYPE_NUMBER=1;var TYPE_DATE=2;var TYPE_STRING=3;var TYPE_ARRAY=4;var MAX_TYPE_BYTE_SIZE=12;util.encodeKey=function(key){var stack=[key],writer=new HexStringWriter(),type=0,dataType,obj;while((obj=stack.pop())!==undefined){if(type%4===0&&type+TYPE_ARRAY>MAX_TYPE_BYTE_SIZE){writer.write(type);type=0;}
dataType=typeof obj;if(obj instanceof Array){type+=TYPE_ARRAY;if(obj.length>0){stack.push(ARRAY_TERMINATOR);var i=obj.length;while(i--)
stack.push(obj[i]);continue;}else{writer.write(type);}}else if(dataType==="number"){type+=TYPE_NUMBER;writer.write(type);encodeNumber(writer,obj);}else if(obj instanceof Date){type+=TYPE_DATE;writer.write(type);encodeNumber(writer,obj.valueOf());}else if(dataType==="string"){type+=TYPE_STRING;writer.write(type);encodeString(writer,obj);}else if(obj===ARRAY_TERMINATOR){writer.write(BYTE_TERMINATOR);}else
return null;type=0;}
return writer.trim().toString();};util.decodeKey=function(encodedKey){var rootArray=[];var parentArray=rootArray;var type,arrayStack=[],depth,tmp;var reader=new HexStringReader(encodedKey);while(reader.read()!=null){if(reader.current===0){parentArray=arrayStack.pop();continue;}
if(reader.current===null){return rootArray[0];}
do{depth=reader.current/4|0;type=reader.current%4;for(var i=0;i<depth;i++){tmp=[];parentArray.push(tmp);arrayStack.push(parentArray);parentArray=tmp;}
if(type===0&&reader.current+TYPE_ARRAY>MAX_TYPE_BYTE_SIZE){reader.read();}else
break;}while(true);if(type===TYPE_NUMBER){parentArray.push(decodeNumber(reader));}else if(type===TYPE_DATE){parentArray.push(new Date(decodeNumber(reader)));}else if(type===TYPE_STRING){parentArray.push(decodeString(reader));}else if(type===0){parentArray=arrayStack.pop();}}
return rootArray[0];};var p16=0x10000;var p32=0x100000000;var p48=0x1000000000000;var p52=0x10000000000000;var pNeg1074=5e-324;var pNeg1022=2.2250738585072014e-308;function ieee754(number){var s=0,e=0,m=0;if(number!==0){if(isFinite(number)){if(number<0){s=1;number=-number;}
var p=0;if(number>=pNeg1022){var n=number;while(n<1){p--;n*=2;}
while(n>=2){p++;n/=2;}
e=p+1023;}
m=e?Math.floor((number/Math.pow(2,p)-1)*p52):Math.floor(number/pNeg1074);}else{e=0x7FF;if(isNaN(number)){m=2251799813685248;}else{if(number===-Infinity)
s=1;}}}
return{sign:s,exponent:e,mantissa:m};}
function encodeNumber(writer,number){var number=ieee754(number);if(number.sign){number.mantissa=p52-1-number.mantissa;number.exponent=0x7FF-number.exponent;}
var word,m=number.mantissa;writer.write((number.sign?0:0x80)|(number.exponent>>4));writer.write((number.exponent&0xF)<<4|(0|m/p48));m%=p48;word=0|m/p32;writer.write(word>>8,word&0xFF);m%=p32;word=0|m/p16;writer.write(word>>8,word&0xFF);word=m%p16;writer.write(word>>8,word&0xFF);}
function decodeNumber(reader){var b=reader.read()|0;var sign=b>>7?false:true;var s=sign?-1:1;var e=(b&0x7F)<<4;b=reader.read()|0;e+=b>>4;if(sign)
e=0x7FF-e;var tmp=[sign?(0xF-(b&0xF)):b&0xF];var i=6;while(i--)
tmp.push(sign?(0xFF-(reader.read()|0)):reader.read()|0);var m=0;i=7;while(i--)
m=m/256+tmp[i];m/=16;if(m===0&&e===0)
return 0;return(m+1)*Math.pow(2,e-1023)*s;}
var secondLayer=0x3FFF+0x7F;function encodeString(writer,string){for(var i=0;i<string.length;i++){var code=string.charCodeAt(i);if(code<=0x7E){writer.write(code+1);}else if(code<=secondLayer){code-=0x7F;writer.write(0x80|code>>8,code&0xFF);}else{writer.write(0xC0|code>>10,code>>2|0xFF,(code|3)<<6);}}
writer.write(BYTE_TERMINATOR);}
function decodeString(reader){var buffer=[],layer=0,unicode=0,count=0,$byte,tmp;while(true){$byte=reader.read();if($byte===0||$byte==null)
break;if(layer===0){tmp=$byte>>6;if(tmp<2){buffer.push(String.fromCharCode($byte-1));}else{layer=tmp;unicode=$byte<<10;count++;}}else if(layer===2){buffer.push(String.fromCharCode(unicode+$byte+0x7F));layer=unicode=count=0;}else{if(count===2){unicode+=$byte<<2;count++;}else{buffer.push(String.fromCharCode(unicode|$byte>>6));layer=unicode=count=0;}}}
return buffer.join("");}
var HexStringReader=function(string){this.current=null;var string=string;var lastIndex=string.length-1;var index=-1;this.read=function(){return this.current=index<lastIndex?parseInt(string[++index]+string[++index],16):null;}};var HexStringWriter=function(){var buffer=[],c;this.write=function($byte){for(var i=0;i<arguments.length;i++){c=arguments[i].toString(16);buffer.push(c.length===2?c:c="0"+c);}};this.toString=function(){return buffer.length?buffer.join(""):null;};this.trim=function(){var length=buffer.length;while(buffer[--length]==="00");buffer.length=++length;return this;}};var DEFAULT_DB_SIZE=5*1024*1024;util.openDatabase=function(name){return new Database(window.openDatabase(indexedDB.DB_PREFIX+name,"","IndexedDB "+name,DEFAULT_DB_SIZE));};var Database_prototype=function(db){var db=db;this.version=db&&db.version;this.transaction=function(callback,errorCallback,successCallback){db.transaction(function(tx){if(callback)
callback(new Transaction(tx));},function(error){if(errorCallback)
errorCallback(wrapSqlError(error));},function(){if(successCallback)
successCallback();});};this.readTransaction=function(callback,errorCallback,successCallback){db.readTransaction(function(tx){if(callback)
callback(new Transaction(tx));},function(error){if(errorCallback)
errorCallback(wrapSqlError(error));},function(){if(successCallback)
successCallback();});};this.changeVersion=function(oldVersion,newVersion,callback,errorCallback,successCallback){db.changeVersion(oldVersion,newVersion,function(tx){if(callback)
callback(new Transaction(tx));},function(error){if(errorCallback)
errorCallback(wrapSqlError(error));},function(){if(successCallback)
successCallback();});};};var Database=function(db){Database_prototype.call(this,db);};Database.prototype=new Database_prototype();Database.prototype.constructor=Database;var Transaction_prototype=function(tx){var tx=tx;this.executeSql=function(sql,args,callback,errorCallback){tx.executeSql(sql,args,function(tx,resultSet){if(callback)
callback(new Transaction(tx),resultSet);},function(tx,error){if('undefined'!==typeof console)
console.error("[SQL Error]: ",error);if(errorCallback)
errorCallback(new Transaction(tx),wrapSqlError(error));});}};var Transaction=function(tx){Transaction_prototype.call(this,tx);};Transaction.prototype=new Transaction_prototype();Transaction.prototype.constructor=Transaction;function wrapSqlError(error){if(error==null||error.message==null)
return util.error("UnknownError",undefined,error);var msg=error.message.toLowerCase();if(msg.indexOf("constraint failed")>=0||msg.indexOf("is not unique")){return util.error("ConstraintError");}}}());(function(){var indexedDB=global.indexedDB||global.webkitIndexedDB||global.mozIndexedDB||global.OIndexedDB||global.msIndexedDB||{polyfill:true};if('undefined'===typeof global.indexedDB){global.indexedDB=indexedDB;}
if(!indexedDB.polyfill)
return;if('undefined'!==typeof console)
console.warn('This browser most likely does not support IndexedDB API. Initializing custom IndexedDB'+' implementation using Web SQL Database API.');indexedDB.SCHEMA_TABLE="__IndexedDBSchemaInfo__";indexedDB.DB_PREFIX="__IndexedDB__";indexedDB.DOMStringList=function(){};indexedDB.DOMStringList.prototype=[];indexedDB.DOMStringList.constructor=indexedDB.DOMStringList;indexedDB.DOMStringList.prototype.contains=function(str){return this.indexOf(str)>=0;};var util=indexedDB.util=new(function(){this.async=function(fn,async){if(async==null||async)
w_setTimeout(fn,0);else
fn();};this.error=function(name,message,innerError){return{name:name,message:message,inner:innerError}};this.event=function(type,target){return{type:type,target:target,currentTarget:target,preventDefault:function(){},stopPropagation:function(){}};};this.fireErrorEvent=function(request,error){request.error=error;if(request.onerror==null)
return;request.onerror(this.event("error",request));};this.fireSuccessEvent=function(request,result){if(arguments.length===2)
request.result=result;if(request.onsuccess==null)
return;request.onsuccess(this.event("success",request));};this.validateKeyPath=function(keyPath){if(keyPath==="")
return"";if(keyPath==null)
return null;var r=/^([^\d\W]\w*\.)+$/i;if(keyPath instanceof Array){var i=keyPath.length;if(i==0)
throw this.error("SyntaxError");while(i--){if(!r.test(keyPath[i]+"."))
throw this.error("SyntaxError");}
return keyPath;}
if(!r.test(keyPath+"."))
throw this.error("SyntaxError");return keyPath;};this.arrayRemove=function(array,item){var i=array.indexOf(item);if(i>-1)
array.splice(i,1);};this.indexTable=function(objectStoreName,name){if(arguments.length==1&&(objectStoreName instanceof this.IDBIndex)){name=objectStoreName.name;objectStoreName=objectStoreName.objectStore.name;}
return indexedDB.DB_PREFIX+"Index__"+objectStoreName+"__"+name;};this.extractKeyFromValue=function(keyPath,value){var key;if(keyPath instanceof Array){key=[];for(var i=0;i<keyPath.length;i++){key.push(this.extractKeyFromValue(keyPath[i],value));}}else{if(keyPath==="")
return value;key=value;var paths=keyPath.split(".");for(var i=0;i<paths.length;i++){if(key==null)
return null;key=key[paths[i]];}}
return key;};this.validateKeyOrRange=function(key){if(key==null)
return null;if(!(key instanceof this.IDBKeyRange)){key=this.encodeKey(key);if(key===null)
throw this.error("DataError");}
return key;};this.wait=function(conditionFunc,bodyFunc,async){var me=this;this.async(function(){if(conditionFunc())
bodyFunc();else{w_setTimeout(function(){me.wait(conditionFunc,bodyFunc);},10);}},async);};});var IDBVersionChangeEvent=window.IDBVersionChangeEvent=indexedDB.util.IDBVersionChangeEvent=function(type,target,oldVersion,newVersion){this.type=type;this.target=this.currentTarget=target;this.oldVersion=oldVersion;this.newVersion=newVersion;};var IDBDatabaseException=window.IDBDatabaseException=indexedDB.util.IDBDatabaseException={ABORT_ERR:8,CONSTRAINT_ERR:4,DATA_ERR:5,NON_TRANSIENT_ERR:2,NOT_ALLOWED_ERR:6,NOT_FOUND_ERR:3,QUOTA_ERR:11,READ_ONLY_ERR:9,TIMEOUT_ERR:10,TRANSACTION_INACTIVE_ERR:7,UNKNOWN_ERR:1,VERSION_ERR:12};var w_setTimeout=window.setTimeout;var IDBCursor=util.IDBCursor=window.IDBCursor=function(source,direction,request){this.source=source;this.direction=direction||IDBCursor.NEXT;this.key=null;this.primaryKey=null;this._request=request;this._range=null;this._gotValue=true;this._effectiveKeyEncoded=null;};IDBCursor.prototype.update=function(value){var objectStore=getObjectStore(this);IDBTransaction._assertNotReadOnly(objectStore.transaction);if(!(this instanceof util.IDBCursorWithValue)||!this._gotValue)
throw util.error("InvalidStateError");if(objectStore.keyPath!=null){var key=util.extractKeyFromValue(objectStore.keyPath,value);if(key!=this.primaryKey)
throw util.error("DataError");}
var request=new util.IDBRequest(this);var me=this;objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){objectStore._insertOrReplaceRecord({request:request,sqlTx:sqlTx,nextRequestCallback:nextRequestCallback,noOverwrite:false,value:value,encodedKey:me._effectiveKeyEncoded});});return request;};IDBCursor.prototype.advance=function(count){count=parseInt(count);if(isNaN(count)||count<=0)
throw util.error("TypeError");advanceOrContinue(this,count,null);};IDBCursor.prototype.continue=function(key){advanceOrContinue(this,1,key);};IDBCursor.prototype.delete=function(){var objectStore=getObjectStore(this);IDBTransaction._assertNotReadOnly(objectStore.transaction);if(!(this instanceof util.IDBCursorWithValue)||!this._gotValue)
throw util.error("InvalidStateError");var request=new util.IDBRequest(this);var me=this;objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){objectStore._deleteRecord(sqlTx,me._effectiveKeyEncoded,function(){util.fireSuccessEvent(request);nextRequestCallback();},function(_,error){util.fireErrorEvent(request,error);nextRequestCallback();});});return request;};function advanceOrContinue(me,count,key){if(!me._gotValue)
throw util.error("InvalidStateError");me._gotValue=false;var filter=util.IDBKeyRange._clone(me._range);filter.count=count;var isSourceIndex=me.source instanceof util.IDBIndex;var position=me.key;var noDuplicate=[IDBCursor.PREV_NO_DUPLICATE,IDBCursor.NEXT_NO_DUPLICATE].indexOf(me.direction)>=0;if(key!=null){if(isDesc(me)){if((isSourceIndex&&key>position)||key>=position)
throw util.error("DataError");filter.upper=key;filter.upperOpen=false;}else{if((isSourceIndex&&key<position)||key<=position)
throw util.error("DataError");filter.lower=key;filter.lowerOpen=false;}}else if(position!=null){var open=!isSourceIndex||noDuplicate;if(isDesc(me)){filter.upper=position;filter.upperOpen=open;}else{filter.lower=position;filter.lowerOpen=open;}}
if(isSourceIndex)
iterateIndexCursor(me,filter);else
iterateCursor(me,filter);}
function iterateCursor(me,filter){var tx=me.source.transaction;me._request.readyState=util.IDBRequest.LOADING;tx._queueOperation(function(sqlTx,nextRequestCallback){var sql=["SELECT hex(key) 'key', value FROM ["+me.source.name+"]"];var where=[];var args=[];if(filter.lower!=null){where.push("(key >"+(filter.lowerOpen?"":"=")+" X'"+util.encodeKey(filter.lower)+"')");}
if(filter.upper!=null){where.push("(key <"+(filter.upperOpen?"":"=")+" X'"+util.encodeKey(filter.upper)+"')");}
if(where.length>0){sql.push("WHERE",where.join(" AND "))}
sql.push("ORDER BY key"+(isDesc(me)?" DESC":""));sql.push("LIMIT",filter.count);sqlTx.executeSql(sql.join(" "),args,function(tx,results){var request=me._request;request.readyState=util.IDBRequest.DONE;if(results.rows.length<filter.count){me.key=me.primaryKey=me._effectiveKeyEncoded=undefined;if(typeof me.value!=="undefined")
me.value=undefined;request.result=null;}else{var found=results.rows.item(filter.count-1);me._effectiveKeyEncoded=found.key;me.key=me.primaryKey=util.decodeKey(found.key);if(typeof me.value!=="undefined")
me.value=w_JSON.parse(found.value);me._gotValue=true;request.result=me;}
util.fireSuccessEvent(request);nextRequestCallback();},function(tx,error){util.fireErrorEvent(me._request,error);nextRequestCallback();});});}
function iterateIndexCursor(me,filter){var tx=me.source.objectStore.transaction;me._request.readyState=util.IDBRequest.LOADING;tx._queueOperation(function(sqlTx,nextRequestCallback){var withValue=me instanceof IDBCursorWithValue;var desc=isDesc(me);var objectStoreName=me.source.objectStore.name;var tableName=util.indexTable(objectStoreName,me.source.name);var sql=["SELECT hex(i.key) 'key', hex(i.primaryKey) 'primaryKey'"+(withValue?", t.value":""),"FROM ["+tableName+"] as i"];if(withValue){sql.push("LEFT JOIN ["+objectStoreName+"] as t ON t.Id = i.recordId");}
var where=[],args=[],encoded;if(filter.lower!=null){encoded=util.encodeKey(filter.lower);if(filter.lowerOpen){where.push("(i.key > X'"+encoded+"')");}else{if(me._effectiveKeyEncoded==null||desc){where.push("(i.key >= X'"+encoded+"')");}else{where.push("((i.key > X'"+encoded+"') OR (i.key = X'"+encoded+"' AND i.primaryKey > X'"+me._effectiveKeyEncoded+"'))");}}}
if(filter.upper!=null){encoded=util.encodeKey(filter.upper);if(filter.upperOpen){where.push("(i.key < X'"+encoded+"')");}else{if(me._effectiveKeyEncoded==null||!desc){where.push("(i.key <= X'"+encoded+"')");}else{where.push("((i.key < X'"+encoded+"') OR (i.key = X'"+encoded+"' AND i.primaryKey < X'"+me._effectiveKeyEncoded+"'))");}}}
if(where.length>0){sql.push("WHERE",where.join(" AND "))}
var sDesc=desc?" DESC":"";sql.push("ORDER BY i.key"+sDesc+", i.primaryKey"+sDesc);sql.push("LIMIT",filter.count);sqlTx.executeSql(sql.join(" "),args,function(sqlTx,results){var request=me._request;request.readyState=util.IDBRequest.DONE;if(results.rows.length<filter.count){me.key=me.primaryKey=me._effectiveKeyEncoded=undefined;if(typeof me.value!=="undefined")
me.value=undefined;request.result=null;}else{var found=results.rows.item(filter.count-1);me.key=util.decodeKey(found.key);me._effectiveKeyEncoded=found.primaryKey;me.primaryKey=util.decodeKey(found.primaryKey);if(typeof me.value!=="undefined")
me.value=w_JSON.parse(found.value);me._gotValue=true;request.result=me;}
util.fireSuccessEvent(request);nextRequestCallback();},function(_,error){util.fireErrorEvent(me._request,error);nextRequestCallback();});});}
var w_JSON=window.JSON;function isDesc(cursor){return[IDBCursor.PREV,IDBCursor.PREV_NO_DUPLICATE].indexOf(cursor.direction)>=0;}
function getObjectStore(cursor){if(cursor.source instanceof util.IDBObjectStore){return cursor.source;}else if(cursor.source instanceof util.IDBIndex){return cursor.source.objectStore;}
return null;}
IDBCursor.NEXT="next";IDBCursor.NEXT_NO_DUPLICATE="nextunique";IDBCursor.PREV="prev";IDBCursor.PREV_NO_DUPLICATE="prevunique";var IDBCursorWithValue=function(source,direction,request){IDBCursor.apply(this,arguments);this.value=null;};IDBCursorWithValue.prototype=new IDBCursor();IDBCursorWithValue.prototype.constructor=IDBCursorWithValue;util.IDBCursorWithValue=window.IDBCursorWithValue=IDBCursorWithValue;var IDBDatabase=util.IDBDatabase=window.IDBDatabase=function(name,webdb){this.name=name;this.version=null;this.objectStoreNames=new indexedDB.DOMStringList();this.onabort=null;this.onerror=null;this.onversionchange=null;this._webdb=webdb;this._objectStores=null;this._closePending=false;this._activeTransactionCounter=0;this._closed=false;};IDBDatabase.prototype.createObjectStore=function(name,optionalParameters){IDBTransaction._assertVersionChange(this._versionChangeTransaction);if(this.objectStoreNames.indexOf(name)>=0){throw util.error("ConstraintError");}
var params=optionalParameters||{};var keyPath=util.validateKeyPath(params.keyPath);var autoIncrement=params.autoIncrement&&params.autoIncrement!=false||false;if(autoIncrement&&(keyPath===""||(keyPath instanceof Array))){throw util.error("InvalidAccessError");}
return createObjectStore(this,name,keyPath,autoIncrement);};IDBDatabase.prototype.deleteObjectStore=function(name){var tx=this._versionChangeTransaction;IDBTransaction._assertVersionChange(tx);if(this.objectStoreNames.indexOf(name)==-1){throw util.error("NotFoundError");}
util.arrayRemove(this.objectStoreNames,name);var objectStore=this._objectStores[name];delete this._objectStores[name];var me=this;var errorCallback=function(){me.objectStoreNames.push(name);me._objectStores[name]=objectStore;};tx._queueOperation(function(sqlTx,nextRequestCallback){sqlTx.executeSql("DROP TABLE ["+name+"]",null,null,errorCallback);sqlTx.executeSql("DELETE FROM "+indexedDB.SCHEMA_TABLE+" WHERE type = 'table' AND name = ?",[name],null,errorCallback);nextRequestCallback();});};IDBDatabase.prototype.transaction=function(storeNames,mode){if(storeNames instanceof Array||storeNames==null){if(storeNames.length==0)
throw util.error("InvalidAccessError");}else{storeNames=[storeNames.toString()];}
for(var i=0;i<storeNames.length;i++){if(!this.objectStoreNames.contains(storeNames[i]))
throw util.error("NotFoundError");}
if(this._closePending||this._closed)
throw util.error("InvalidStateError");return new util.IDBTransaction(this,storeNames,mode||util.IDBTransaction.READ_ONLY);};IDBDatabase.prototype.close=function(){this._closePending=true;needDBClose(this);};IDBDatabase.prototype._loadObjectStores=function(sqlTx,successCallback,errorCallback){var me=this;sqlTx.executeSql("SELECT * FROM "+indexedDB.SCHEMA_TABLE+" ORDER BY type DESC",null,function(sqlTx,resultSet){me._objectStores={};var item,objectStore;for(var i=0;i<resultSet.rows.length;i++){item=resultSet.rows.item(i);if(item.type=="table"){me.objectStoreNames.push(item.name);objectStore=new util.IDBObjectStore(item.name,w_JSON.parse(item.keyPath),item.autoInc);objectStore._metaId=item.id;me._objectStores[item.name]=objectStore;}else if(item.type=="index"){for(var name in me._objectStores){objectStore=me._objectStores[name];if(objectStore._metaId==item.tableId)
break;}
objectStore.indexNames.push(item.name);objectStore._indexes[item.name]=new util.IDBIndex(objectStore,item.name,item.keyPath,item.unique,item.multiEntry)}}
if(successCallback)
successCallback();},function(_,error){if(errorCallback)
errorCallback(error);});};IDBDatabase.prototype._transactionCompleted=function(){this._activeTransactionCounter--;needDBClose(this);};var w_JSON=window.JSON;function createObjectStore(me,name,keyPath,autoIncrement){var objectStore=new util.IDBObjectStore(name,keyPath,autoIncrement,me._versionChangeTransaction);me.objectStoreNames.push(name);me._objectStores[name]=objectStore;var errorCallback=function(){util.arrayRemove(me.objectStoreNames,name);delete me._objectStores[name];};me._versionChangeTransaction._queueOperation(function(sqlTx,nextRequestCallback){sqlTx.executeSql("CREATE TABLE ["+name+"] (id INTEGER PRIMARY KEY AUTOINCREMENT, "+"key BLOB UNIQUE, value BLOB)",null,null,errorCallback);sqlTx.executeSql("CREATE INDEX INDEX_"+name+"_key ON ["+name+"] (key)",null,null,errorCallback);sqlTx.executeSql("INSERT INTO "+indexedDB.SCHEMA_TABLE+" (type, name, keyPath, autoInc) VALUES ('table', ?, ?, ?)",[name,w_JSON.stringify(keyPath),autoIncrement?1:0],function(sqlTx,results){objectStore._metaId=results.insertId;},errorCallback);nextRequestCallback();});return objectStore;}
function needDBClose(me){if(me._closePending&&me._activeTransactionCounter==0){me._closePending=false;me._closed=true;indexedDB._notifyConnectionClosed(me);}}
var origin={};indexedDB.open=function(name,version){if(arguments.length==2&&version==undefined)
throw util.error("TypeError");if(version!==undefined){version=parseInt(version.valueOf());if(isNaN(version)||version<=0)
throw util.error("TypeError","The method parameter is missing or invalid.");}
var request=new util.IDBOpenDBRequest(null);util.async(function(){request.readyState=util.IDBRequest.DONE;runStepsForOpeningDB(name,version,request);});return request;};function runStepsForOpeningDB(name,version,request){var sqldb=util.openDatabase(name);if(sqldb.version!==""&&isNaN(parseInt(sqldb.version))){util.fireErrorEvent(request,util.error("VersionError"));return;}
var connection=new util.IDBDatabase(name,sqldb);var oldVersion=sqldb.version==""?0:parseInt(sqldb.version);connection.version=(version===undefined)?(oldVersion===0?1:oldVersion):version;var database=getOriginDatabase(name);util.wait(function(){if(database.deletePending)
return false;for(var i=0;i<database.connections.length;i++){if(database.connections[i]._versionChangeTransaction!=null)
return false;}
return true;},function(){if(oldVersion<connection.version){runStepsForVersionChangeTransaction(request,connection,oldVersion);}else if(oldVersion==connection.version){openVersionMatch(request,connection,sqldb);}else{util.fireErrorEvent(request,util.error("VersionError"));}});}
function runStepsForVersionChangeTransaction(request,connection,oldVersion){fireVersionChangeEvent(request,connection.name,oldVersion,connection.version);util.wait(function(){return getOriginDatabase(name).connections.length==0;},function(){startVersionChangeTransaction(request,connection,oldVersion);});}
function startVersionChangeTransaction(request,connection,oldVersion){var database=getOriginDatabase(connection.name);database.connections.push(connection);var tx=new util.IDBTransaction(connection,[],util.IDBTransaction.VERSION_CHANGE);if(oldVersion==0){tx._queueOperation(function(sqlTx,nextRequestCallback){sqlTx.executeSql("CREATE TABLE ["+indexedDB.SCHEMA_TABLE+"] ("+"id INTEGER PRIMARY KEY AUTOINCREMENT, "+"type TEXT NOT NULL, "+"name TEXT NOT NULL, "+"keyPath TEXT, "+"currentNo INTEGER NOT NULL DEFAULT 1, "+"autoInc BOOLEAN, "+"tableId INTEGER, "+"[unique] BOOLEAN, "+"multiEntry BOOLEAN, "+"UNIQUE (type, name) ON CONFLICT ROLLBACK)");nextRequestCallback();});}
tx._queueOperation(function(sqlTx,nextRequestCallback){connection._loadObjectStores(sqlTx,function(){request.result=connection;if(request.onupgradeneeded){request.transaction=connection._versionChangeTransaction=tx;var e=new util.IDBVersionChangeEvent("onupgradeneeded",request,oldVersion,connection.version);request.onupgradeneeded(e);}
nextRequestCallback();},function(error){nextRequestCallback();});});tx.onabort=function(e){request.error=tx.error;connection._versionChangeTransaction=null;if(request.onerror)
request.onerror(util.event("abort",request));};tx.onerror=function(e){request.transaction=connection._versionChangeTransaction=null;util.fireErrorEvent(request,tx.error);};tx.oncomplete=function(e){request.transaction=connection._versionChangeTransaction=null;util.fireSuccessEvent(request);};}
function openVersionMatch(request,connection,sqldb){sqldb.transaction(function(sqlTx){connection._loadObjectStores(sqlTx);},function(error){util.fireErrorEvent(request,error);},function(){util.fireSuccessEvent(request,connection);});}
indexedDB.deleteDatabase=function(name){var database=getOriginDatabase(name);database.deletePending=true;var request=new util.IDBOpenDBRequest(null);util.async(function(){request.readyState=util.IDBRequest.DONE;var sqldb=util.openDatabase(name);if(sqldb.version==""){database.deletePending=false;util.fireSuccessEvent(request);}else{fireVersionChangeEvent(request,name,parseInt(sqldb.version),null);util.wait(function(){return database.connections.length==0;},function(){deleteDatabase(request,sqldb,database);});}});return request;};indexedDB.cmp=function(first,second){first=util.encodeKey(first);second=util.encodeKey(second);return first>second?1:(first==second?0:-1);};indexedDB._notifyConnectionClosed=function(connection){var database=getOriginDatabase(connection.name);var i=database.connections.indexOf(connection);if(i>=0)
database.connections.splice(i,1);};function getOriginDatabase(name){var db=origin[name];if(db==null){db={name:name,deletePending:false,connections:[]};origin[name]=db;}
return db;}
function fireVersionChangeEvent(request,name,oldVersion,newVersion){var database=getOriginDatabase(name);var anyOpenConnection=false;for(var i=0;i<database.connections.length;i++){var conn=database.connections[i];if(conn._closePending)
continue;anyOpenConnection=true;var event=new util.IDBVersionChangeEvent("versionchange",request,oldVersion,newVersion);if(conn.onversionchange)
conn.onversionchange(event);}
if(anyOpenConnection){var event=new util.IDBVersionChangeEvent("blocked",request,oldVersion,newVersion);if(request.onblocked)
request.onblocked(event);}}
function deleteDatabase(request,sqldb,database){sqldb.changeVersion(sqldb.version,"",function(sqlTx){sqlTx.executeSql("SELECT a.type, a.name, b.name 'table' FROM "+indexedDB.SCHEMA_TABLE+" a LEFT JOIN "+indexedDB.SCHEMA_TABLE+" b ON a.type = 'index' AND a.tableId = b.Id",null,function(sqlTx,results){var name;for(var i=0;i<results.rows.length;i++){var item=results.rows.item(i);name=item.type=='table'?item.name:util.indexTable(item.table,item.name);sqlTx.executeSql("DROP TABLE ["+name+"]");}
sqlTx.executeSql("DROP TABLE "+indexedDB.SCHEMA_TABLE);});},function(error){database.deletePending=false;util.fireErrorEvent(request,error);},function(){database.deletePending=false;util.fireSuccessEvent(request);});}
var IDBIndex=util.IDBIndex=window.IDBIndex=function(objectStore,name,keyPath,unique,multiEntry){this.objectStore=objectStore;this.name=name;this.keyPath=keyPath;this.unique=unique;this.multiEntry=multiEntry;this._ready=true;};IDBIndex.prototype.openCursor=function(range,direction){return performOpeningCursor(this,util.IDBCursorWithValue,range,direction);};IDBIndex.prototype.openKeyCursor=function(range,direction){return performOpeningCursor(this,util.IDBCursor,range,direction);};IDBIndex.prototype.get=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){var sql=["SELECT s.value FROM ["+util.indexTable(me)+"] AS i INNER JOIN"];sql.push("["+me.objectStore.name+"] AS s ON s.id = i.recordId");if(encodedKeyOrRange instanceof util.IDBKeyRange){sql.push("WHERE",encodedKeyOrRange._getSqlFilter("i.key"));}else if(encodedKeyOrRange!=null){sql.push("WHERE (i.key = X'"+encodedKeyOrRange+"')");}
sql.push("ORDER BY i.key, i.primaryKey LIMIT 1");sqlTx.executeSql(sql.join(" "),null,function(_,results){util.fireSuccessEvent(request,results.rows.length>0?w_JSON.parse(results.rows.item(0).value):undefined)},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};IDBIndex.prototype.getKey=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){var sql=["SELECT hex(primaryKey) 'primaryKey' FROM ["+util.indexTable(me)+"]"];if(encodedKeyOrRange instanceof util.IDBKeyRange){sql.push("WHERE",encodedKeyOrRange._getSqlFilter());}else if(encodedKeyOrRange!=null){sql.push("WHERE (key = X'"+encodedKeyOrRange+"')");}
sql.push("LIMIT 1");sqlTx.executeSql(sql.join(" "),null,function(_,results){util.fireSuccessEvent(request,results.rows.length>0?util.decodeKey(results.rows.item(0).primaryKey):undefined);},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};IDBIndex.prototype.count=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.objectStore.transaction._queueOperation(function(sqlTx,nextRequestCallback){var sql=["SELECT COUNT(recordId) AS 'count' FROM ["+util.indexTable(me)+"]"];if(encodedKeyOrRange instanceof util.IDBKeyRange){sql.push("WHERE",encodedKeyOrRange._getSqlFilter());}else if(encodedKeyOrRange!=null){sql.push("WHERE (key = X'"+encodedKeyOrRange+"')");}
sqlTx.executeSql(sql.join(" "),null,function(_,results){util.fireSuccessEvent(request,results.rows.item(0).count);},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};var w_JSON=window.JSON;function performOpeningCursor(me,cursorType,range,direction){var request=new util.IDBRequest(me);var cursor=new cursorType(me,direction,request);cursor._range=util.IDBKeyRange._ensureKeyRange(range);cursor.continue();return request;}
var IDBKeyRange=util.IDBKeyRange=window.IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen||false;this.upperOpen=upperOpen||false;};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,false,false)};IDBKeyRange.lowerBound=function(lower,open){return new IDBKeyRange(lower,undefined,open||false,true);};IDBKeyRange.upperBound=function(upper,open){return new IDBKeyRange(undefined,upper,true,open||false);};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,upper,lowerOpen||false,upperOpen||false);};IDBKeyRange._ensureKeyRange=function(arg){if(arg==null){return util.IDBKeyRange.bound();}
if((arg instanceof util.IDBKeyRange)){return arg;}
return util.IDBKeyRange.only(arg);};IDBKeyRange._clone=function(range){return util.IDBKeyRange.bound(range.lower,range.upper,range.lowerOpen,range.upperOpen);};IDBKeyRange.prototype._getSqlFilter=function(keyColumnName){if(keyColumnName==undefined)
keyColumnName="key";var sql=[],hasLower=this.lower!=null,hasUpper=this.upper!=null;if(this.lower==this.upper){sql.push("("+keyColumnName+" = X'"+util.encodeKey(this.lower)+"')");}else{if(hasLower){sql.push("(X'"+util.encodeKey(this.lower)+"' <"+(this.lowerOpen?"":"=")+" "+keyColumnName+")");}
if(hasUpper){sql.push("("+keyColumnName+" <"+(this.upperOpen?"":"=")+" X'"+util.encodeKey(this.upper)+"')");}}
return sql.join(" AND ");};var IDBObjectStore=util.IDBObjectStore=window.IDBObjectStore=function(name,keyPath,autoIncrement,tx){this.name=name;this.keyPath=keyPath;this.indexNames=new indexedDB.DOMStringList();this.transaction=tx;this.autoIncrement=autoIncrement==true;this._metaId=null;this._indexes={};};IDBObjectStore.prototype.put=function(value,key){return storeRecord(this,value,key,false);};IDBObjectStore.prototype.add=function(value,key){return storeRecord(this,value,key,true);};function storeRecord(me,value,key,noOverwrite){util.IDBTransaction._assertNotReadOnly(me.transaction);var validation=validateObjectStoreKey(me.keyPath,me.autoIncrement,value,key);var request=new util.IDBRequest(me);me.transaction._queueOperation(function(sqlTx,nextRequestCallback){var context={request:request,sqlTx:sqlTx,nextRequestCallback:nextRequestCallback,noOverwrite:noOverwrite,value:value,key:validation.key,encodedKey:validation.encodedKey};runStepsForStoringRecord(context);});return request;}
function validateObjectStoreKey(keyPath,autoIncrement,value,key){var key=key,encodedKey;if(keyPath!=null){if(key!=null)
throw util.error("DataError");key=util.extractKeyFromValue(keyPath,value);}
if(key==null){if(!autoIncrement)
throw util.error("DataError");}else{encodedKey=util.encodeKey(key);if(encodedKey===null)
throw util.error("DataError");}
return{key:key,encodedKey:encodedKey};}
function runStepsForStoringRecord(context){var request=context.request,key=context.key;var me=request.source;request.readyState=util.IDBRequest.DONE;if(me.autoIncrement&&(key==null||isPositiveFloat(key))){context.sqlTx.executeSql("SELECT currentNo FROM "+indexedDB.SCHEMA_TABLE+" WHERE type='table' AND name = ?",[me.name],function(sqlTx,results){if(results.rows.length!=1){}
var currentNo=results.rows.item(0).currentNo;if(key==null){context.key=key=currentNo;context.encodedKey=util.encodeKey(key);if(me.keyPath!=null)
assignKeyToValue(context.value,me.keyPath,key);}
if(key>=currentNo)
incrementCurrentNumber(sqlTx,me.name,Math.floor(key+1));context.sqlTx=sqlTx;me._insertOrReplaceRecord(context);},function(_,error){util.fireErrorEvent(request,error);context.nextRequestCallback();});}else{me._insertOrReplaceRecord(context);}}
function incrementCurrentNumber(sqlTx,tableName,currentNo){sqlTx.executeSql("UPDATE "+indexedDB.SCHEMA_TABLE+" SET currentNo = ? "+"WHERE type='table' AND name = ?",[currentNo,tableName]);}
function assignKeyToValue(value,keyPath,key){if(!(value instanceof Object)&&!(value instanceof Array))
throw util.error("DataError");var path=keyPath.split(".");var attr=null;for(var i=0;i<path.length-1;i++){attr=path[i];if(value[attr]==null)
value[attr]={};value=value[attr];}
value[path[path.length-1]]=key;}
function storeIndexes(context){var request=context.request;var me=context.objectStore;var indexes=[],strKeys=[];for(var indexName in me._indexes){var index=me._indexes[indexName];if(!index._ready)
continue;var strKey=getValidIndexKeyString(index,context.value);if(strKey==null)
continue;strKeys.push(strKey);indexes.push(index);}
if(indexes.length==0){util.fireSuccessEvent(request,context.key);context.nextRequestCallback();}else{var lastIndex=indexes.length-1;for(var i=0;i<indexes.length;i++){storeIndex(context,indexes[i],strKeys[i],i==lastIndex);}}}
function getValidIndexKeyString(index,value){var key=util.extractKeyFromValue(index.keyPath,value);if(key==null)
return null;if(key instanceof Array){if(key.length==0)
return null;}
var encodedKey=util.encodeKey(key);if(encodedKey===null)
return null;if(index.multiEntry&&(key instanceof Array)){var tmp=[];for(var i=0;i<key.length;i++){encodedKey=util.encodeKey(key[i]);if(encodedKey===null||tmp.indexOf(encodedKey)>=0)
continue;tmp.push(encodedKey);}
if(tmp.length==0)
return null;return tmp;}
return encodedKey;}
function storeIndex(context,index,encodedKey,isLast){var indexTable=util.indexTable(index.objectStore.name,index.name);var sql=["INSERT INTO",indexTable,"(recordId, key, primaryKey)"];var args=[];if(index.multiEntry&&(encodedKey instanceof Array)){var select=[];for(var i=0;i<encodedKey.length;i++){sql.push("SELECT ?, X'"+encodedKey[i]+"', X'"+context.encodedKey+"'");args.push(context.recordId);}
sql.push(select.join(" UNION ALL "))}else{sql.push("VALUES (?, X'"+encodedKey+"', X'"+context.encodedKey+"')");args.push(context.recordId);}
var request=context.request;context.sqlTx.executeSql(sql.join(" "),args,function(_,results){if(!isLast)
return;util.fireSuccessEvent(request,context.key);context.nextRequestCallback();},function(_,error){util.fireErrorEvent(request,error);context.nextRequestCallback();});}
IDBObjectStore.prototype.delete=function(key){util.IDBTransaction._assertNotReadOnly(this.transaction);key=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.transaction._queueOperation(function(sqlTx,nextRequestCallback){me._deleteRecord(sqlTx,key,function(){util.fireSuccessEvent(request);nextRequestCallback();},function(_,error){util.fireErrorEvent(request,error);nextRequestCallback();});});return request;};IDBObjectStore.prototype.get=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;me.transaction._queueOperation(function(sqlTx,nextRequestCallback){var where="",args=[];if(encodedKeyOrRange instanceof util.IDBKeyRange){where="WHERE "+encodedKeyOrRange._getSqlFilter();}else if(encodedKeyOrRange!=null){where="WHERE (key = X'"+encodedKeyOrRange+"')";}
sqlTx.executeSql("SELECT [value] FROM ["+me.name+"] "+where+" LIMIT 1",args,function(_,results){util.fireSuccessEvent(request,results.rows.length>0?w_JSON.parse(results.rows.item(0).value):undefined)},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};IDBObjectStore.prototype.clear=function(){util.IDBTransaction._assertNotReadOnly(this.transaction);var request=new util.IDBRequest(this);var me=this;this.transaction._queueOperation(function(sqlTx,nextRequestCallback){var errorCallback=function(_,error){util.fireErrorEvent(request,error);};for(var indexName in me._indexes){var tableName=util.indexTable(me._indexes[indexName]);sqlTx.executeSql("DELETE FROM ["+tableName+"]",null,null,errorCallback);}
sqlTx.executeSql("DELETE FROM ["+me.name+"]",null,function(_,results){util.fireSuccessEvent(request,undefined);},errorCallback);});return request;};IDBObjectStore.prototype.openCursor=function(range,direction){var request=new util.IDBRequest(this);var cursor=new util.IDBCursorWithValue(this,direction,request);cursor._range=util.IDBKeyRange._ensureKeyRange(range);cursor.continue();return request;};IDBObjectStore.prototype.createIndex=function(name,keyPath,optionalParameters){util.IDBTransaction._assertVersionChange(this.transaction);if(this.indexNames.indexOf(name)>=0){throw util.error("ConstraintError");}
var keyPath=util.validateKeyPath(keyPath);var params=optionalParameters||{};var unique=params.unique&&params.unique!=false||false;var multiEntry=params.multiEntry&&params.multiEntry!=false||false;if(keyPath instanceof Array&&multiEntry){throw util.error("NotSupportedError indexedDB.js");}
return createIndex(this,name,keyPath,unique,multiEntry);};IDBObjectStore.prototype.index=function(name){if(!this.transaction._active){throw util.error("InvalidStateError");}
var index=this._indexes[name];if(index==null){throw util.error("NotFoundError");}
return index;};IDBObjectStore.prototype.deleteIndex=function(indexName){util.IDBTransaction._assertVersionChange(this.transaction);if(this.indexNames.indexOf(indexName)==-1){throw util.error("ConstraintError");}
util.arrayRemove(this.indexNames,indexName);var index=this._indexes[indexName];delete this._indexes[indexName];var me=this;var errorCallback=function(_,sqlError){me.indexNames.push(indexName);me._indexes[indexName]=index;};this.transaction._queueOperation(function(sqlTx,nextRequestCallback){sqlTx.executeSql("DROP TABLE "+util.indexTable(me.name,indexName),null,null,errorCallback);sqlTx.executeSql("DELETE FROM "+indexedDB.SCHEMA_TABLE+" WHERE type = 'index' AND name = ?",[indexName],null,errorCallback);nextRequestCallback();});};IDBObjectStore.prototype.count=function(key){var encodedKeyOrRange=util.validateKeyOrRange(key);var request=new util.IDBRequest(this);var me=this;this.transaction._queueOperation(function(sqlTx,nextRequestCallback){var where="",args=[];if(encodedKeyOrRange instanceof util.IDBKeyRange){where="WHERE "+encodedKeyOrRange._getSqlFilter();}else if(encodedKeyOrRange!=null){where="WHERE (key = X'"+encodedKeyOrRange+"')";}
sqlTx.executeSql("SELECT COUNT(id) AS 'count' FROM ["+me.name+"] "+where,args,function(_,results){util.fireSuccessEvent(request,results.rows.item(0).count);},function(_,error){util.fireErrorEvent(request,error);});nextRequestCallback();});return request;};IDBObjectStore.prototype._deleteRecord=function(sqlTx,encodedKeyOrRange,onsuccess,onerror){var objectStore=this;var sql,where;if(encodedKeyOrRange instanceof util.IDBKeyRange){where="WHERE "+encodedKeyOrRange._getSqlFilter();}else{where="WHERE (key = X'"+encodedKeyOrRange+"')";}
for(var indexName in objectStore._indexes){var index=objectStore._indexes[indexName];sql=["DELETE FROM ["+util.indexTable(objectStore.name,index.name)+"]"];if(where){sql.push("WHERE recordId IN (SELECT id FROM ["+objectStore.name+"]",where+")");}
sqlTx.executeSql(sql.join(" "),null,null,onerror);}
sqlTx.executeSql("DELETE FROM ["+objectStore.name+"] "+where,null,onsuccess,onerror);};IDBObjectStore.prototype._insertOrReplaceRecord=function(context){var request=context.request;if(!context.noOverwrite){this._deleteRecord(context.sqlTx,context.encodedKey,null,function(_,error){util.fireErrorEvent(request,error);context.nextRequestCallback();});}
var me=this;var encodedValue=w_JSON.stringify(context.value);context.sqlTx.executeSql("INSERT INTO ["+me.name+"] (key, value) VALUES (X'"+context.encodedKey+"', ?)",[encodedValue],function(sqlTx,results){request.result=context.objectStore=me;context.sqlTx=sqlTx;context.recordId=results.insertId;storeIndexes(context);},function(_,error){util.fireErrorEvent(request,error);context.nextRequestCallback();});};var w_JSON=window.JSON;function isPositiveFloat(value){return typeof value=="number"&&value>0;}
function createIndex(me,name,keyPath,unique,multiEntry){var index=new util.IDBIndex(me,name,keyPath,unique,multiEntry);index._ready=false;me.indexNames.push(name);me._indexes[name]=index;var errorCallback=function(){util.arrayRemove(me.indexNames,name);delete me._indexes[name];};me.transaction._queueOperation(function(sqlTx,nextRequestCallback){var indexTable=util.indexTable(me.name,name);sqlTx.executeSql("CREATE TABLE "+indexTable+" (recordId INTEGER, key BLOB"+(unique?" UNIQUE":"")+", primaryKey BLOB)",null,null,errorCallback);sqlTx.executeSql("CREATE INDEX INDEX_"+indexTable+"_key ON ["+indexTable+"] (key)",null,null,errorCallback);sqlTx.executeSql("INSERT INTO "+indexedDB.SCHEMA_TABLE+" (name, type, keyPath, tableId, [unique], multiEntry) VALUES (?, 'index', ?, "+"(SELECT Id FROM "+indexedDB.SCHEMA_TABLE+" WHERE type = 'table' AND name = ?), ?, ?)",[name,w_JSON.stringify(keyPath),me.name,unique?1:0,multiEntry?1:0],null,errorCallback);sqlTx.executeSql("SELECT id, hex(key) 'key', value FROM ["+me.name+"]",null,function(sqlTx,results){if(results.rows.length==0)
return;var sql=["INSERT INTO ["+util.indexTable(me.name,name)+"]"];var select=[],args=[];for(var i=0;i<results.rows.length;i++){var item=results.rows.item(i);var encodedKey=getValidIndexKeyString(index,w_JSON.parse(item.value));if(encodedKey==null)
continue;if(index.multiEntry&&(encodedKey instanceof Array)){for(var j=0;j<encodedKey.length;j++){select.push("SELECT ?, X'"+encodedKey[j]+"', X'"+item.key+"'");args.push(item.id);}}else{select.push("SELECT ?, X'"+encodedKey+"', X'"+item.key+"'");args.push(item.id);}}
sql.push(select.join(" UNION ALL "));sqlTx.executeSql(sql.join(" "),args,null,function(_,error){throw util.error("AbortError");});});index._ready=true;nextRequestCallback();});return index;}
var IDBRequest=util.IDBRequest=window.IDBRequest=function(source){this.result=undefined;this.error=null;this.source=source;this.transaction=null;this.readyState=util.IDBRequest.LOADING;this.onsuccess=null;this.onerror=null;};IDBRequest.LOADING="pending";IDBRequest.DONE="done";var IDBOpenDBRequest=util.IDBOpenDBRequest=window.IDBOpenDBRequest=function(source){IDBRequest.apply(this,arguments);this.onblocked=null;this.onupgradeneeded=null;};IDBOpenDBRequest.prototype=new IDBRequest();IDBOpenDBRequest.prototype.constructor=IDBOpenDBRequest;var IDBTransaction=util.IDBTransaction=window.IDBTransaction=function(db,storeNames,mode){this.db=db;this.mode=mode;this.onabort=null;this.oncomplete=null;this.onerror=null;this._active=true;this._requests=[];var sqldb=this.db._webdb;db._activeTransactionCounter++;var txFn;if(mode===IDBTransaction.READ_ONLY)
txFn=sqldb.readTransaction;else if(mode===IDBTransaction.READ_WRITE)
txFn=sqldb.transaction;else if(mode===IDBTransaction.VERSION_CHANGE){txFn=function(x,y,z){sqldb.changeVersion(sqldb.version,db.version,x,y,z);};}
var me=this;txFn&&txFn.call(sqldb,function(sqlTx){performOperation(me,sqlTx,0);},function(sqlError){db.close();db._transactionCompleted();me.error=util.error("AbortError",null,sqlError);if(me.onabort)
me.onabort(util.event("abort",me));},function(){db._transactionCompleted();if(me.oncomplete)
me.oncomplete(util.event("success",me));});};function performOperation(me,sqlTx,operationIndex){if(!me._active)
return;if(operationIndex>=me._requests.length){me._active=false;me._requests=[];return;}
me._requests[operationIndex](sqlTx,function(){performOperation(me,sqlTx,operationIndex+1);});}
IDBTransaction.prototype.objectStore=function(name){validateActive(this);var objectStore=this.db._objectStores[name];if(objectStore){objectStore.transaction=this;return objectStore;}else{throw util.error("NotFoundError");}};IDBTransaction.prototype.abort=function(){if(!this._active)
throw util.error("InvalidStateError");this._queueOperation(function(sqlTx,nextRequestCallback){throw util.error("AbortError");});};IDBTransaction.prototype._queueOperation=function(sqlTxCallback){validateActive(this);this._requests.push(sqlTxCallback);};IDBTransaction._assertNotReadOnly=function(tx){if(tx.mode===util.IDBTransaction.READ_ONLY){throw util.error("ReadOnlyError","A mutation operation was attempted in a READ_ONLY transaction.");}};IDBTransaction._assertVersionChange=function(tx){if(!tx||tx.mode!==util.IDBTransaction.VERSION_CHANGE){throw util.error("InvalidStateError");}};IDBTransaction.READ_ONLY="readonly";IDBTransaction.READ_WRITE="readwrite";IDBTransaction.VERSION_CHANGE="versionchange";function validateActive(me){if(!me._active)
throw new util.error("TransactionInactiveError");}
var ARRAY_TERMINATOR={};var BYTE_TERMINATOR=0;var TYPE_NUMBER=1;var TYPE_DATE=2;var TYPE_STRING=3;var TYPE_ARRAY=4;var MAX_TYPE_BYTE_SIZE=12;util.encodeKey=function(key){var stack=[key],writer=new HexStringWriter(),type=0,dataType,obj;while((obj=stack.pop())!==undefined){if(type%4===0&&type+TYPE_ARRAY>MAX_TYPE_BYTE_SIZE){writer.write(type);type=0;}
dataType=typeof obj;if(obj instanceof Array){type+=TYPE_ARRAY;if(obj.length>0){stack.push(ARRAY_TERMINATOR);var i=obj.length;while(i--)
stack.push(obj[i]);continue;}else{writer.write(type);}}else if(dataType==="number"){type+=TYPE_NUMBER;writer.write(type);encodeNumber(writer,obj);}else if(obj instanceof Date){type+=TYPE_DATE;writer.write(type);encodeNumber(writer,obj.valueOf());}else if(dataType==="string"){type+=TYPE_STRING;writer.write(type);encodeString(writer,obj);}else if(obj===ARRAY_TERMINATOR){writer.write(BYTE_TERMINATOR);}else
return null;type=0;}
return writer.trim().toString();};util.decodeKey=function(encodedKey){var rootArray=[];var parentArray=rootArray;var type,arrayStack=[],depth,tmp;var reader=new HexStringReader(encodedKey);while(reader.read()!=null){if(reader.current===0){parentArray=arrayStack.pop();continue;}
if(reader.current===null){return rootArray[0];}
do{depth=reader.current/4|0;type=reader.current%4;for(var i=0;i<depth;i++){tmp=[];parentArray.push(tmp);arrayStack.push(parentArray);parentArray=tmp;}
if(type===0&&reader.current+TYPE_ARRAY>MAX_TYPE_BYTE_SIZE){reader.read();}else
break;}while(true);if(type===TYPE_NUMBER){parentArray.push(decodeNumber(reader));}else if(type===TYPE_DATE){parentArray.push(new Date(decodeNumber(reader)));}else if(type===TYPE_STRING){parentArray.push(decodeString(reader));}else if(type===0){parentArray=arrayStack.pop();}}
return rootArray[0];};var p16=0x10000;var p32=0x100000000;var p48=0x1000000000000;var p52=0x10000000000000;var pNeg1074=5e-324;var pNeg1022=2.2250738585072014e-308;function ieee754(number){var s=0,e=0,m=0;if(number!==0){if(isFinite(number)){if(number<0){s=1;number=-number;}
var p=0;if(number>=pNeg1022){var n=number;while(n<1){p--;n*=2;}
while(n>=2){p++;n/=2;}
e=p+1023;}
m=e?Math.floor((number/Math.pow(2,p)-1)*p52):Math.floor(number/pNeg1074);}else{e=0x7FF;if(isNaN(number)){m=2251799813685248;}else{if(number===-Infinity)
s=1;}}}
return{sign:s,exponent:e,mantissa:m};}
function encodeNumber(writer,number){var number=ieee754(number);if(number.sign){number.mantissa=p52-1-number.mantissa;number.exponent=0x7FF-number.exponent;}
var word,m=number.mantissa;writer.write((number.sign?0:0x80)|(number.exponent>>4));writer.write((number.exponent&0xF)<<4|(0|m/p48));m%=p48;word=0|m/p32;writer.write(word>>8,word&0xFF);m%=p32;word=0|m/p16;writer.write(word>>8,word&0xFF);word=m%p16;writer.write(word>>8,word&0xFF);}
function decodeNumber(reader){var b=reader.read()|0;var sign=b>>7?false:true;var s=sign?-1:1;var e=(b&0x7F)<<4;b=reader.read()|0;e+=b>>4;if(sign)
e=0x7FF-e;var tmp=[sign?(0xF-(b&0xF)):b&0xF];var i=6;while(i--)
tmp.push(sign?(0xFF-(reader.read()|0)):reader.read()|0);var m=0;i=7;while(i--)
m=m/256+tmp[i];m/=16;if(m===0&&e===0)
return 0;return(m+1)*Math.pow(2,e-1023)*s;}
var secondLayer=0x3FFF+0x7F;function encodeString(writer,string){for(var i=0;i<string.length;i++){var code=string.charCodeAt(i);if(code<=0x7E){writer.write(code+1);}else if(code<=secondLayer){code-=0x7F;writer.write(0x80|code>>8,code&0xFF);}else{writer.write(0xC0|code>>10,code>>2|0xFF,(code|3)<<6);}}
writer.write(BYTE_TERMINATOR);}
function decodeString(reader){var buffer=[],layer=0,unicode=0,count=0,$byte,tmp;while(true){$byte=reader.read();if($byte===0||$byte==null)
break;if(layer===0){tmp=$byte>>6;if(tmp<2){buffer.push(String.fromCharCode($byte-1));}else{layer=tmp;unicode=$byte<<10;count++;}}else if(layer===2){buffer.push(String.fromCharCode(unicode+$byte+0x7F));layer=unicode=count=0;}else{if(count===2){unicode+=$byte<<2;count++;}else{buffer.push(String.fromCharCode(unicode|$byte>>6));layer=unicode=count=0;}}}
return buffer.join("");}
var HexStringReader=function(string){this.current=null;var string=string;var lastIndex=string.length-1;var index=-1;this.read=function(){return this.current=index<lastIndex?parseInt(string[++index]+string[++index],16):null;}};var HexStringWriter=function(){var buffer=[],c;this.write=function($byte){for(var i=0;i<arguments.length;i++){c=arguments[i].toString(16);buffer.push(c.length===2?c:c="0"+c);}};this.toString=function(){return buffer.length?buffer.join(""):null;};this.trim=function(){var length=buffer.length;while(buffer[--length]==="00");buffer.length=++length;return this;}};var DEFAULT_DB_SIZE=5*1024*1024;util.openDatabase=function(name){return new Database(window.openDatabase(indexedDB.DB_PREFIX+name,"","IndexedDB "+name,DEFAULT_DB_SIZE));};var Database_prototype=function(db){var db=db;this.version=db&&db.version;this.transaction=function(callback,errorCallback,successCallback){db.transaction(function(tx){if(callback)
callback(new Transaction(tx));},function(error){if(errorCallback)
errorCallback(wrapSqlError(error));},function(){if(successCallback)
successCallback();});};this.readTransaction=function(callback,errorCallback,successCallback){db.readTransaction(function(tx){if(callback)
callback(new Transaction(tx));},function(error){if(errorCallback)
errorCallback(wrapSqlError(error));},function(){if(successCallback)
successCallback();});};this.changeVersion=function(oldVersion,newVersion,callback,errorCallback,successCallback){db.changeVersion(oldVersion,newVersion,function(tx){if(callback)
callback(new Transaction(tx));},function(error){if(errorCallback)
errorCallback(wrapSqlError(error));},function(){if(successCallback)
successCallback();});};};var Database=function(db){Database_prototype.call(this,db);};Database.prototype=new Database_prototype();Database.prototype.constructor=Database;var Transaction_prototype=function(tx){var tx=tx;this.executeSql=function(sql,args,callback,errorCallback){tx.executeSql(sql,args,function(tx,resultSet){if(callback)
callback(new Transaction(tx),resultSet);},function(tx,error){if('undefined'!==typeof console)
console.error("[SQL Error]: ",error);if(errorCallback)
errorCallback(new Transaction(tx),wrapSqlError(error));});}};var Transaction=function(tx){Transaction_prototype.call(this,tx);};Transaction.prototype=new Transaction_prototype();Transaction.prototype.constructor=Transaction;function wrapSqlError(error){if(error==null||error.message==null)
return util.error("UnknownError",undefined,error);var msg=error.message.toLowerCase();if(msg.indexOf("constraint failed")>=0||msg.indexOf("is not unique")){return util.error("ConstraintError");}}}());
/*!# @license * * Copyright 2013 - Eric Bidelman * * Licensed under the Apache License, Version 2.0 (the "License");* you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. * @fileoverview * A polyfill implementation of the HTML5 Filesystem API which sits on top of * IndexedDB as storage layer. Files and folders are stored as FileEntry and * FolderEntry objects in a single object store. IDBKeyRanges are used to query * into a folder. A single object store is sufficient because we can utilize the * properties of ASCII. Namely, ASCII / is followed by ASCII 0. Thus, * "/one/two/" comes before "/one/two/ANYTHING" comes before "/one/two/0". * * @author Eric Bidelman (ebidel@gmail.com) * @version: 0.0.5 */
/*!# @license * Copyright (c) Version of this minified: http://cdn.frdl.webfan.de/cdn/frdl/flow/components/webfan/webfat/js/idb.filesystem.js?minify=no 'use strict';*/
(function(window){if(window.requestFileSystem||window.webkitRequestFileSystem){return;}
var indexedDB=window.indexedDB||window.mozIndexedDB||window.msIndexedDB;if(!indexedDB){return;}
var support=new function(){var dbName="blob-support";indexedDB.deleteDatabase(dbName).onsuccess=function(){var request=indexedDB.open(dbName,1.0);request.onerror=function(){support.blob=false;};request.onsuccess=function(){var db=request.result;try{var blob=new Blob(["test"],{type:"text/plain"});var transaction=db.transaction("store","readwrite");transaction.objectStore("store").put(blob,"key");support.blob=true;}catch(err){support.blob=false;}finally{db.close();indexedDB.deleteDatabase(dbName);}};request.onupgradeneeded=function(){request.result.createObjectStore("store");};};};var Base64ToBlob=function(dataURL){var BASE64_MARKER=';base64,';if(dataURL.indexOf(BASE64_MARKER)==-1){var parts=dataURL.split(',');var contentType=parts[0].split(':')[1];var raw=decodeURIComponent(parts[1]);return new Blob([raw],{type:contentType});}
var parts=dataURL.split(BASE64_MARKER);var contentType=parts[0].split(':')[1];var raw=window.atob(parts[1]);var rawLength=raw.length;var uInt8Array=new Uint8Array(rawLength);for(var i=0;i<rawLength;++i){uInt8Array[i]=raw.charCodeAt(i);}
return new Blob([uInt8Array],{type:contentType});};var BlobToBase64=function(blob,onload){var reader=new FileReader();reader.readAsDataURL(blob);reader.onloadend=function(){onload(reader.result);};};if(!window.PERSISTENT){window.TEMPORARY=0;window.PERSISTENT=1;}
if(window.FileError===undefined){window.FileError=window.Error;}
if(!FileError.INVALID_MODIFICATION_ERR){FileError.INVALID_MODIFICATION_ERR=9;FileError.NOT_FOUND_ERR=1;}
function MyFileError(obj){var code_=obj.code;var name_=obj.name;Object.defineProperty(this,'code',{set:function(code){code_=code;},get:function(){return code_;}});Object.defineProperty(this,'name',{set:function(name){name_=name;},get:function(){return name_;}});}
MyFileError.prototype=FileError.prototype;MyFileError.prototype.toString=Error.prototype.toString;var INVALID_MODIFICATION_ERR=new MyFileError({code:FileError.INVALID_MODIFICATION_ERR,name:'INVALID_MODIFICATION_ERR'});var NOT_IMPLEMENTED_ERR=new MyFileError({code:1000,name:'Not implemented'});var NOT_FOUND_ERR=new MyFileError({code:FileError.NOT_FOUND_ERR,name:'Not found'});var fs_=null;var storageType_='temporary';var idb_={};idb_.db=null;var FILE_STORE_='entries';var DIR_SEPARATOR='/';var DIR_OPEN_BOUND=String.fromCharCode(DIR_SEPARATOR.charCodeAt(0)+1);function resolveToFullPath_(cwdFullPath,path){var fullPath=path;try{var relativePath=path[0]!==DIR_SEPARATOR;}catch(err){if('undefined'!==typeof console)
console.warn(err);var relativePath=false}
if(relativePath){fullPath=cwdFullPath+DIR_SEPARATOR+path;}
if(!fullPath)
fullPath='/';var parts=fullPath.split(DIR_SEPARATOR);var finalParts=[];for(var i=0;i<parts.length;++i){var part=parts[i];if(part==='..'){if(!finalParts.length){throw Error('Invalid path');}
finalParts.pop();}else if(part==='.'){}else if(part!==''){finalParts.push(part);}}
fullPath=DIR_SEPARATOR+finalParts.join(DIR_SEPARATOR);return fullPath;}
function MyFile(opts){var blob_=null;this.size=opts.size||0;this.name=opts.name||'';this.type=opts.type||'';this.lastModifiedDate=opts.lastModifiedDate||null;Object.defineProperty(this,'blob_',{enumerable:true,get:function(){return blob_;},set:function(val){blob_=val;this.size=blob_.size;this.name=blob_.name;this.type=blob_.type;this.lastModifiedDate=blob_.lastModifiedDate;}.bind(this)});}
MyFile.prototype.constructor=MyFile;function FileWriter(fileEntry){if(!fileEntry){throw Error('Expected fileEntry argument to write.');}
var position_=0;var blob_=fileEntry.file_?fileEntry.file_.blob_:null;Object.defineProperty(this,'position',{get:function(){return position_;}});Object.defineProperty(this,'length',{get:function(){return blob_?blob_.size:0;}});this.seek=function(offset){position_=offset;if(position_>this.length){position_=this.length;}
if(position_<0){position_+=this.length;}
if(position_<0){position_=0;}};this.truncate=function(size){if(blob_){if(size<this.length){blob_=blob_.slice(0,size);}else{blob_=new Blob([blob_,new Uint8Array(size-this.length)],{type:blob_.type});}}else{blob_=new Blob([]);}
position_=0;this.write(blob_);};this.write=function(data){if(!data){throw Error('Expected blob argument to write.');}
if(this.onwritestart){this.onwritestart();}
if(blob_){var head=blob_.slice(0,position_);var tail=blob_.slice(position_+data.size);var padding=position_-head.size;if(padding<0){padding=0;}
blob_=new Blob([head,new Uint8Array(padding),data,tail],{type:blob_.type});}else{blob_=new Blob([data],{type:data.type});}
var writeFile=function(blob){fileEntry.file_.blob_=blob;fileEntry.file_.lastModifiedDate=data.lastModifiedDate||new Date();idb_.put(fileEntry,function(entry){if(!support.blob){fileEntry.file_.blob_=blob_;fileEntry.file_.lastModifiedDate=data.lastModifiedDate||null;}
position_+=data.size;if(this.onwriteend){this.onwriteend();}}.bind(this),this.onerror);}.bind(this);if(support.blob){writeFile(blob_);}else{BlobToBase64(blob_,writeFile);}};}
function DirectoryReader(dirEntry){var dirEntry_=dirEntry;var used_=false;this.readEntries=function(successCallback,opt_errorCallback){if(!successCallback){throw Error('Expected successCallback argument.');}
if(!used_){idb_.getAllEntries(dirEntry_.fullPath,function(entries){used_=true;successCallback(entries);},opt_errorCallback);}else{successCallback([]);}};};function Metadata(modificationTime,size){this.modificationTime_=modificationTime||null;this.size_=size||0;}
Metadata.prototype={get modificationTime(){return this.modificationTime_;},get size(){return this.size_;}};var Entry=function(){};Entry.prototype={name:null,fullPath:null,filesystem:null,copyTo:function(){throw NOT_IMPLEMENTED_ERR;},getMetadata:function(successCallback,opt_errorCallback){if(!successCallback){throw Error('Expected successCallback argument.');}
try{if(this.isFile){successCallback(new Metadata(this.file_.lastModifiedDate,this.file_.size));}else{opt_errorCallback(new MyFileError({code:1001,name:'getMetadata() not implemented for DirectoryEntry'}));}}catch(e){opt_errorCallback&&opt_errorCallback(e);}},getParent:function(){throw NOT_IMPLEMENTED_ERR;},moveTo:function(){throw NOT_IMPLEMENTED_ERR;},remove:function(successCallback,opt_errorCallback){if(!successCallback){throw Error('Expected successCallback argument.');}
idb_['delete'](this.fullPath,function(){successCallback();},opt_errorCallback);if(frdl&&frdl.fs5){frdl.fs5.emit('watchers '+this.fullPath,{eventType:'rename',eventTypeExtra:'remove',filename:this.fullPath});}},toURL:function(){var origin=location.protocol+'//'+location.host;return'filesystem:'+origin+DIR_SEPARATOR+storageType_.toLowerCase()+this.fullPath;},};function FileEntry(opt_fileEntry){this.file_=null;Object.defineProperty(this,'isFile',{enumerable:true,get:function(){return true;}});Object.defineProperty(this,'isDirectory',{enumerable:true,get:function(){return false;}});if(opt_fileEntry){this.file_=opt_fileEntry.file_;this.name=opt_fileEntry.name;this.fullPath=opt_fileEntry.fullPath;this.filesystem=opt_fileEntry.filesystem;if(typeof(this.file_.blob_)==="string"){this.file_.blob_=Base64ToBlob(this.file_.blob_);}}}
FileEntry.prototype=new Entry();FileEntry.prototype.constructor=FileEntry;FileEntry.prototype.createWriter=function(callback){callback(new FileWriter(this));};FileEntry.prototype.file=function(successCallback,opt_errorCallback){if(!successCallback){throw Error('Expected successCallback argument.');}
if(this.file_==null){if(opt_errorCallback){opt_errorCallback(NOT_FOUND_ERR);}else{throw NOT_FOUND_ERR;}
return;}
var file=this.file_.blob_==null?this.file_:this.file_.blob_;file.lastModifiedDate=this.file_.lastModifiedDate;successCallback(file);};function DirectoryEntry(opt_folderEntry){Object.defineProperty(this,'isFile',{enumerable:true,get:function(){return false;}});Object.defineProperty(this,'isDirectory',{enumerable:true,get:function(){return true;}});if(opt_folderEntry){this.name=opt_folderEntry.name;this.fullPath=opt_folderEntry.fullPath;this.filesystem=opt_folderEntry.filesystem;}}
DirectoryEntry.prototype=new Entry();DirectoryEntry.prototype.constructor=DirectoryEntry;DirectoryEntry.prototype.createReader=function(){return new DirectoryReader(this);};DirectoryEntry.prototype.getDirectory=function(path,options,successCallback,opt_errorCallback){path=resolveToFullPath_(this.fullPath,path);idb_.get(path,function(folderEntry){if(!options){options={};}
if(options.create===true&&options.exclusive===true&&folderEntry){if(opt_errorCallback){opt_errorCallback(INVALID_MODIFICATION_ERR);return;}}else if(options.create===true&&!folderEntry){var dirEntry=new DirectoryEntry();dirEntry.name=path.split(DIR_SEPARATOR).pop();dirEntry.fullPath=path;dirEntry.filesystem=fs_;idb_.put(dirEntry,successCallback,opt_errorCallback);if(frdl&&frdl.fs5){if(!!console)
console.warn('@ToDo frdl.fs events...');frdl.fs5.emit('watchers '+dirEntry.fullPath,{eventType:'rename',eventTypeExtra:'mkdir',filename:dirEntry.fullPath});}}else if(options.create===true&&folderEntry){if(folderEntry.isDirectory){successCallback(new DirectoryEntry(folderEntry));}else{if(opt_errorCallback){opt_errorCallback(INVALID_MODIFICATION_ERR);return;}}}else if((!options.create||options.create===false)&&!folderEntry){if(path==DIR_SEPARATOR){folderEntry=new DirectoryEntry();folderEntry.name='';folderEntry.fullPath=DIR_SEPARATOR;folderEntry.filesystem=fs_;successCallback(folderEntry);return;}
if(opt_errorCallback){opt_errorCallback(NOT_FOUND_ERR);return;}}else if((!options.create||options.create===false)&&folderEntry&&folderEntry.isFile){if(opt_errorCallback){opt_errorCallback(INVALID_MODIFICATION_ERR);return;}}else{successCallback(new DirectoryEntry(folderEntry));}},opt_errorCallback);};DirectoryEntry.prototype.getFile=function(path,options,successCallback,opt_errorCallback){path=resolveToFullPath_(this.fullPath,path);idb_.get(path,function(fileEntry){if(!options){options={};}
if(options.create===true&&options.exclusive===true&&fileEntry){if(opt_errorCallback){opt_errorCallback(INVALID_MODIFICATION_ERR);return;}}else if(options.create===true&&!fileEntry){var fileEntry=new FileEntry();fileEntry.name=path.split(DIR_SEPARATOR).pop();fileEntry.fullPath=path;fileEntry.filesystem=fs_;fileEntry.file_=new MyFile({size:0,name:fileEntry.name,lastModifiedDate:new Date()});idb_.put(fileEntry,successCallback,opt_errorCallback);if(frdl&&frdl.fs5){frdl.fs5.emit('watchers '+fileEntry.fullPath,{eventType:'rename',eventTypeExtra:'create',filename:fileEntry.fullPath});}}else if(options.create===true&&fileEntry){if(fileEntry.isFile){successCallback(new FileEntry(fileEntry));}else{if(opt_errorCallback){opt_errorCallback(INVALID_MODIFICATION_ERR);return;}}}else if((!options.create||options.create===false)&&!fileEntry){if(opt_errorCallback){opt_errorCallback(NOT_FOUND_ERR);return;}}else if((!options.create||options.create===false)&&fileEntry&&fileEntry.isDirectory){if(opt_errorCallback){opt_errorCallback(INVALID_MODIFICATION_ERR);return;}}else{successCallback(new FileEntry(fileEntry));}},opt_errorCallback);};DirectoryEntry.prototype.removeRecursively=function(successCallback,opt_errorCallback){if(!successCallback){throw Error('Expected successCallback argument.');}
this.remove(successCallback,opt_errorCallback);};function DOMFileSystem(type,size){storageType_=type==window.TEMPORARY?'Temporary':'Persistent';this.name=(location.protocol+location.host).replace(/:/g,'_')+':'+storageType_;this.root=new DirectoryEntry();this.root.fullPath=DIR_SEPARATOR;this.root.filesystem=this;this.root.name='';}
function requestFileSystem(type,size,successCallback,opt_errorCallback){if(type!=window.TEMPORARY&&type!=window.PERSISTENT){if(opt_errorCallback){opt_errorCallback(INVALID_MODIFICATION_ERR);return;}}
fs_=new DOMFileSystem(type,size);idb_.open(fs_.name,function(e){successCallback(fs_);},opt_errorCallback);}
function resolveLocalFileSystemURL(url,successCb,opt_errorCb){var successCallback=function(r){successCb(r);};var opt_errorCallback=function(e){opt_errorCb(e);};var origin=location.protocol+'//'+location.host;var base='filesystem:'+origin+DIR_SEPARATOR+storageType_.toLowerCase();url=url.replace(base,'');if(url.substr(-1)==='/'){url=url.slice(0,-1);}
if(url){idb_.get(url,function(entry){if(entry){if(entry.isFile){return successCallback(new FileEntry(entry));}else if(entry.isDirectory){return successCallback(new DirectoryEntry(entry));}}else{opt_errorCallback&&opt_errorCallback(NOT_FOUND_ERR);}},opt_errorCallback);}else{successCallback(fs_.root);}}
idb_.open=function(dbName,successCallback,opt_errorCallback){var self=this||window;var request=indexedDB.open(dbName.replace(':','_'));request.onerror=opt_errorCallback||onError;request.onupgradeneeded=function(e){self.db=e.target.result;self.db.onerror=onError;if(!self.db.objectStoreNames.contains(FILE_STORE_)){var store=self.db.createObjectStore(FILE_STORE_);}};request.onsuccess=function(e){self.db=e.target.result;self.db.onerror=onError;successCallback(e);};request.onblocked=opt_errorCallback||onError;};idb_.close=function(){this.db.close();this.db=null;};idb_.drop=function(successCallback,opt_errorCallback){if(!this.db){return;}
var dbName=this.db.name;var request=indexedDB.deleteDatabase(dbName);request.onsuccess=function(e){successCallback(e);};request.onerror=opt_errorCallback||onError;idb_.close();};idb_.get=function(fullPath,successCallback,opt_errorCallback){if(!this.db){return;}
var tx=this.db.transaction([FILE_STORE_],'readonly');var range=IDBKeyRange.bound(fullPath,fullPath+DIR_OPEN_BOUND,false,true);var request=tx.objectStore(FILE_STORE_).get(range);tx.onabort=opt_errorCallback||onError;tx.oncomplete=function(e){successCallback(request.result);};};idb_.getAllEntries=function(fullPath,successCallback,opt_errorCallback){if(!this.db){return;}
var results=[];var range=null;if(fullPath!=DIR_SEPARATOR){range=IDBKeyRange.bound(fullPath+DIR_SEPARATOR,fullPath+DIR_OPEN_BOUND,false,true);}
var tx=this.db.transaction([FILE_STORE_],'readonly');tx.onabort=opt_errorCallback||onError;tx.oncomplete=function(e){results=results.filter(function(val){var valPartsLen=val.fullPath.split(DIR_SEPARATOR).length;var fullPathPartsLen=fullPath.split(DIR_SEPARATOR).length;if(fullPath==DIR_SEPARATOR&&valPartsLen<fullPathPartsLen+1){return val;}else if(fullPath!=DIR_SEPARATOR&&valPartsLen==fullPathPartsLen+1){return val;}});successCallback(results);};var request=tx.objectStore(FILE_STORE_).openCursor(range);request.onsuccess=function(e){var cursor=e.target.result;if(cursor){var val=cursor.value;results.push(val.isFile?new FileEntry(val):new DirectoryEntry(val));cursor['continue']();}};};idb_['delete']=function(fullPath,successCallback,opt_errorCallback){if(!this.db){return;}
var tx=this.db.transaction([FILE_STORE_],'readwrite');tx.oncomplete=successCallback;tx.onabort=opt_errorCallback||onError;var range=IDBKeyRange.bound(fullPath,fullPath+DIR_OPEN_BOUND,false,true);var request=tx.objectStore(FILE_STORE_)['delete'](range);if(frdl&&frdl.fs5){frdl.fs5.emit('watchers '+fullPath,{eventType:'rename',eventTypeExtra:'delete',filename:fullPath});}};idb_.put=function(entry,successCallback,opt_errorCallback){if(!this.db){return;}
var tx=this.db.transaction([FILE_STORE_],'readwrite');tx.onabort=opt_errorCallback||onError;tx.oncomplete=function(e){successCallback(entry);};var request=tx.objectStore(FILE_STORE_).put(entry,entry.fullPath);if(frdl&&frdl.fs5){frdl.fs5.emit('watchers '+entry.fullPath,{eventType:'change',eventTypeExtra:'put',filename:entry.fullPath});}};function onError(e){switch(e.target.errorCode){case 12:break;default:}}
window.addEventListener('beforeunload',function(e){idb_.db&&idb_.db.close();},false);window.requestFileSystem=requestFileSystem;window.resolveLocalFileSystemURL=resolveLocalFileSystemURL;if(window===window&&window.RUNNING_TESTS){window['Entry']=Entry;window['FileEntry']=FileEntry;window['DirectoryEntry']=DirectoryEntry;window['resolveToFullPath_']=resolveToFullPath_;window['Metadata']=Metadata;window['Base64ToBlob']=Base64ToBlob;}})(new Function("return self || this;")());let self=new Function("return self || this;")();self.URL=self.URL||self.webkitURL;self.requestFileSystem=self.requestFileSystem||self.webkitRequestFileSystem;self.resolveLocalFileSystemURL=self.resolveLocalFileSystemURL||self.webkitResolveLocalFileSystemURL;navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage;navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage;self.BlobBuilder=self.BlobBuilder||self.MozBlobBuilder||self.WebKitBlobBuilder;if(self.FileError===undefined){self.FileError=Error;}
var Util={toArray:function(list){return Array.prototype.slice.call(list||[],0);},strToDataURL:function(str,contentType,opt_isBinary){var isBinary=opt_isBinary!=undefined?opt_isBinary:true;if(isBinary){return'data:'+contentType+';base64,'+self.btoa(str);}else{return'data:'+contentType+','+str;}},strToObjectURL:function(binStr,opt_contentType){var ui8a=new Uint8Array(binStr.length);for(var i=0;i<ui8a.length;++i){ui8a[i]=binStr.charCodeAt(i);}
var blob=new Blob([ui8a],opt_contentType?{type:opt_contentType}:{});return self.URL.createObjectURL(blob);},fileToObjectURL:function(blob){return self.URL.createObjectURL(blob);},fileToArrayBuffer:function(blob,callback,opt_errorCallback){var reader=new FileReader();reader.onload=function(e){callback(e.target.result);};reader.onerror=function(e){if(opt_errorCallback){opt_errorCallback(e);}};reader.readAsArrayBuffer(blob);},dataURLToBlob:function(dataURL){var BASE64_MARKER=';base64,';if(dataURL.indexOf(BASE64_MARKER)==-1){var parts=dataURL.split(',');var contentType=parts[0].split(':')[1];var raw=decodeURIComponent(parts[1]);return new Blob([raw],{type:contentType});}
var parts=dataURL.split(BASE64_MARKER);var contentType=parts[0].split(':')[1];var raw=window.atob(parts[1]);var rawLength=raw.length;var uInt8Array=new Uint8Array(rawLength);for(var i=0;i<rawLength;++i){uInt8Array[i]=raw.charCodeAt(i);}
return new Blob([uInt8Array],{type:contentType});},arrayBufferToBlob:function(buffer,opt_contentType){var uInt8Array=new Uint8Array(buffer);return new Blob([uInt8Array],opt_contentType?{type:opt_contentType}:{});},arrayBufferToBinaryString:function(buffer,callback,opt_errorCallback){var reader=new FileReader();reader.onload=function(e){callback(e.target.result);};reader.onerror=function(e){if(opt_errorCallback){opt_errorCallback(e);}};var uInt8Array=new Uint8Array(buffer);reader.readAsBinaryString(new Blob([uInt8Array]));},arrayToBinaryString:function(bytes){if(typeof bytes!=typeof[]){return null;}
var i=bytes.length;var bstr=new Array(i);while(i--){bstr[i]=String.fromCharCode(bytes[i]);}
return bstr.join('');},getFileExtension:function(filename){var idx=filename.lastIndexOf('.');return idx!=-1?filename.substring(idx):'';}};var MyFileError=function(obj){this.prototype=FileError.prototype;this.code=obj.code;this.name=obj.name;};FileError.BROWSER_NOT_SUPPORTED=1000;FileError.prototype.__defineGetter__('name',function(){var keys=Object.keys(FileError);for(var i=0,key;key=keys[i];++i){if(FileError[key]==this.code){return key;}}
return'Unknown Error';});var Filer=new function(){var FS_INIT_ERROR_MSG='Filesystem has not been initialized.';var NOT_IMPLEMENTED_MSG='Not implemented.';var NOT_A_DIRECTORY='Path was not a directory.';var INCORRECT_ARGS='These method arguments are not supported.';var FS_URL_SCHEME='filesystem:';var DEFAULT_FS_SIZE=1024*1024;var fs_=null;var cwd_=null;var isOpen_=false;var isFsURL_=function(path){if('undefined'===typeof path)return false;return path.indexOf(FS_URL_SCHEME)===0;};var pathToFsURL_=function(path){if(!isFsURL_(path)){if(path[0]=='/'){path=fs_.root.toURL()+path.substring(1);}else if(path.indexOf('./')==0||path.indexOf('../')==0){if(path=='../'&&cwd_!=fs_.root){path=cwd_.toURL()+'/'+path;}else{path=cwd_.toURL()+path;}}else{path=cwd_.toURL()+'/'+path;}}
return path;};var getEntry_=function(callback,var_args){var ARGS=Array.prototype.slice.call(arguments);var srcStr=ARGS[1];var destStr=ARGS[2];var onError=function(e){if(e.code==FileError.NOT_FOUND_ERR){if(destStr){var f=new Error('"'+srcStr+'" or "'+destStr+'" does not exist.');}else{var f=new Error('"'+srcStr+'" does not exist.');}}else{var f='Problem getting Entry for one or more paths.';}
console.log(f);console.log(e);};var src=pathToFsURL_(srcStr);if(arguments.length==3){var dest=pathToFsURL_(destStr);self.resolveLocalFileSystemURL(src,function(srcEntry){self.resolveLocalFileSystemURL(dest,function(destEntry){callback(srcEntry,destEntry);},onError);},onError);}else{self.resolveLocalFileSystemURL(src,callback,onError);}};var copyOrMove_=function(src,dest,opt_newName,opt_successCallback,opt_errorHandler,opt_deleteOrig){if(!fs_){throw new Error(FS_INIT_ERROR_MSG);}
if(typeof src!=typeof dest){throw new Error(INCORRECT_ARGS);}
var newName=opt_newName||null;var deleteOrig=opt_deleteOrig!=undefined?opt_deleteOrig:false;if((src.isFile||dest.isDirectory)&&dest.isDirectory){if(deleteOrig){src.moveTo(dest,newName,opt_successCallback,opt_errorHandler);}else{src.copyTo(dest,newName,opt_successCallback,opt_errorHandler);}}else{getEntry_(function(srcEntry,destDir){if(!destDir.isDirectory){var e=new Error('Oops! "'+destDir.name+' is not a directory!');if(opt_errorHandler){opt_errorHandler(e);}else{throw e;}
return;}
if(deleteOrig){srcEntry.moveTo(destDir,newName,opt_successCallback,opt_errorHandler);}else{srcEntry.copyTo(destDir,newName,opt_successCallback,opt_errorHandler);}},src,dest);}}
function Filer(fs){fs_=fs||null;if(fs_){cwd_=fs_.root;isOpen_=true;}}
Filer.DEFAULT_FS_SIZE=DEFAULT_FS_SIZE;Filer.version='0.4.3';Filer.prototype={get fs(){return fs_;},get isOpen(){return isOpen_;},get cwd(){return cwd_;}}
Filer.prototype.pathToFilesystemURL=function(path){return pathToFsURL_(path);}
Filer.prototype.init=function(opt_initObj,opt_successCallback,opt_errorHandler){if(!self.requestFileSystem){throw new MyFileError({code:FileError.BROWSER_NOT_SUPPORTED,name:'BROWSER_NOT_SUPPORTED'});}
var initObj=opt_initObj?opt_initObj:{};var size=initObj.size||DEFAULT_FS_SIZE;this.type=self.TEMPORARY;if('persistent'in initObj&&initObj.persistent){this.type=self.PERSISTENT;}
var init=function(fs){this.size=size;fs_=fs;cwd_=fs_.root;isOpen_=true;opt_successCallback&&opt_successCallback(fs);};if(this.type==self.PERSISTENT&&!!navigator.persistentStorage){navigator.persistentStorage.requestQuota(size,function(grantedBytes){self.requestFileSystem(this.type,grantedBytes,init.bind(this),opt_errorHandler);}.bind(this),opt_errorHandler);}else{self.requestFileSystem(this.type,size,init.bind(this),opt_errorHandler);}};Filer.prototype.ls=function(dirEntryOrPath,successCallback,opt_errorHandler){if(!fs_){throw new Error(FS_INIT_ERROR_MSG);}
var callback=function(dirEntry){cwd_=dirEntry;var entries_=[];var reader=cwd_.createReader();var readEntries=function(){reader.readEntries(function(results){if(!results.length){entries_.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0;});successCallback(entries_);}else{entries_=entries_.concat(Util.toArray(results));readEntries();}},opt_errorHandler);};readEntries();};if(dirEntryOrPath.isDirectory){callback(dirEntryOrPath);}else if(isFsURL_(dirEntryOrPath)){getEntry_(callback,dirEntryOrPath);}else{cwd_.getDirectory(dirEntryOrPath,{},callback,opt_errorHandler);}};Filer.prototype.mkdir=function(path,opt_exclusive,opt_successCallback,opt_errorHandler){if(!fs_){throw new Error(FS_INIT_ERROR_MSG+' '+path);}
var exclusive=opt_exclusive!=null?opt_exclusive:false;var folderParts=path.split('/');var createDir=function(rootDir,folders){if(folders[0]=='.'||folders[0]==''){folders=folders.slice(1);}
rootDir.getDirectory(folders[0],{create:true,exclusive:exclusive},function(dirEntry){if(dirEntry.isDirectory){if(folders.length&&folderParts.length!=1){createDir(dirEntry,folders.slice(1));}else{if(opt_successCallback)opt_successCallback(dirEntry);}}else{var e=new Error(path+' is not a directory');if(opt_errorHandler){opt_errorHandler(e.message||e);}else{throw e;}}},function(e){if(e.code==FileError.INVALID_MODIFICATION_ERR){e.message="'"+path+"' already exists";if(opt_errorHandler){opt_errorHandler(e.message||e);}else{throw e;}}});};createDir(cwd_,folderParts);};Filer.prototype.open=function(entryOrPath,successCallback,opt_errorHandler){if(!fs_){throw new Error(FS_INIT_ERROR_MSG+' '+entryOrPath);}
if(entryOrPath.isFile){entryOrPath.file(successCallback,opt_errorHandler);}else{getEntry_(function(fileEntry){try{fileEntry.file(successCallback,opt_errorHandler);}catch(e){throw e;}},pathToFsURL_(entryOrPath));}};Filer.prototype.create=function(path,opt_exclusive,successCallback,opt_errorHandler){if(!fs_){throw new Error(FS_INIT_ERROR_MSG+' '+path);}
var exclusive=opt_exclusive!=null?opt_exclusive:true;cwd_.getFile(path,{create:true,exclusive:exclusive},successCallback,function(e){if(e.code==FileError.INVALID_MODIFICATION_ERR){e.message="'"+path+"' already exists";}
if(opt_errorHandler){opt_errorHandler(e);}else{throw e;}});};Filer.prototype.mv=function(src,dest,opt_newName,opt_successCallback,opt_errorHandler){copyOrMove_.bind(this,src,dest,opt_newName,opt_successCallback,opt_errorHandler,true)();};Filer.prototype.rm=function(entryOrPath,successCallback,opt_errorHandler){if(!fs_){throw new Error(FS_INIT_ERROR_MSG);}
var removeIt=function(entry){if(entry.isFile){entry.remove(successCallback,opt_errorHandler);}else if(entry.isDirectory){entry.removeRecursively(successCallback,opt_errorHandler);}};if(entryOrPath.isFile||entryOrPath.isDirectory){removeIt(entryOrPath);}else{getEntry_(removeIt,entryOrPath);}};Filer.prototype.cd=function(dirEntryOrPath,opt_successCallback,opt_errorHandler){if(!fs_){throw new Error(FS_INIT_ERROR_MSG+' '+dirEntryOrPath);}
if(dirEntryOrPath.isDirectory){cwd_=dirEntryOrPath;opt_successCallback&&opt_successCallback(cwd_);}else{var dirEntryOrPath=pathToFsURL_(dirEntryOrPath);getEntry_(function(dirEntry){if(dirEntry.isDirectory){cwd_=dirEntry;opt_successCallback&&opt_successCallback(cwd_);}else{var e=new Error(NOT_A_DIRECTORY);if(opt_errorHandler){opt_errorHandler(e);}else{throw e;}}},dirEntryOrPath);}};Filer.prototype.cp=function(src,dest,opt_newName,opt_successCallback,opt_errorHandler){copyOrMove_.bind(this,src,dest,opt_newName,opt_successCallback,opt_errorHandler)();};Filer.prototype.write=function(entryOrPath,dataObj,opt_successCallback,opt_errorHandler){if(!fs_){throw new Error(FS_INIT_ERROR_MSG+' '+entryOrPath);}
var writeFile_=function(fileEntry){fileEntry.createWriter(function(fileWriter){fileWriter.onerror=opt_errorHandler;if(dataObj.append){fileWriter.onwriteend=function(e){if(opt_successCallback)opt_successCallback(fileEntry,this);};fileWriter.seek(fileWriter.length);}else{var truncated=false;fileWriter.onwriteend=function(e){if(!truncated){truncated=true;this.truncate(this.position);return;}
if(opt_successCallback)opt_successCallback(fileEntry,this);};}
if(dataObj.data.__proto__==ArrayBuffer.prototype){dataObj.data=new Uint8Array(dataObj.data);}
var blob=new Blob([dataObj.data],dataObj.type?{type:dataObj.type}:{});fileWriter.write(blob);},opt_errorHandler);};if(entryOrPath.isFile){writeFile_(entryOrPath);}else if(isFsURL_(entryOrPath)){getEntry_(writeFile_,entryOrPath);}else{cwd_.getFile(entryOrPath,{create:true,exclusive:false},writeFile_,opt_errorHandler);}};Filer.prototype.df=function(successCallback,opt_errorHandler){var queryCallback=function(byteUsed,byteCap){successCallback(byteUsed,byteCap-byteUsed,byteCap);}
if(!(navigator.temporaryStorage.queryUsageAndQuota&&navigator.persistentStorage.queryUsageAndQuota)){throw new Error(NOT_IMPLEMENTED_MSG);}
if(self.TEMPORARY==this.type){navigator.temporaryStorage.queryUsageAndQuota(queryCallback,opt_errorHandler);}else if(self.PERSISTENT==this.type){navigator.persistentStorage.queryUsageAndQuota(queryCallback,opt_errorHandler);}};return Filer;};return Filer;});
/*! $30 fs */
define('fs',['webfan/bootcache!path','webfan/bootcache!filer','webfan/bootcache!EventEmitter','extend','clone','co'],function(path,Filer,EventEmitter,extend,clone,co){function clearLsIfError(){localStorage.removeItem(global.require.toUrl('filer')+'.js');localStorage.removeItem(global.require.toUrl('filer')+'.js'+'#meta');localStorage.removeItem(global.require.toUrl('fs')+'.js');localStorage.removeItem(global.require.toUrl('fs')+'.js'+'#meta');}
global.requestFileSystem=global.requestFileSystem||global.webkitRequestFileSystem;global.URL=global.URL||global.webkitURL;try{global.TEMPORARY=0;global.PERSISTENT=1;}catch(err){}
var _quotaRequested=false;var filesystem=false,Fs=false;var cwd=false;var fs;fs=extend({filer:new Filer(),polyfill:{type:(null!==document.querySelector('link[rel="manifest"]'))?'persistent':'temporary',ready:false,filer:null,localStorage:null,getFiler:function(){return fs.filer;},check:function(forceInit){if(null===fs.filer||'object'!==typeof fs.filer){try{fs.filer=new Filer();fs.polyfill.filer=true;}catch(err){fs.polyfill.filer=false;fs.filer=false;console.log('Error: ',err);setTimeout(function(){clearLsIfError();},1);}}else{fs.polyfill.filer=('object'===typeof fs.filer)?true:false;}
fs.polyfill.localStorage=('undefined'!==typeof localStorage&&'undefined'!==typeof localStorage.getItem&&'undefined'!==typeof localStorage.setItem)?true:false;if((!!fs.polyfill.filer&&!_quotaRequested)||!!forceInit){var type=(null!==document.querySelector('link[rel="manifest"]'))?global.PERSISTENT:global.TEMPORARY;var size=Filer.DEFAULT_FS_SIZE*3;fs.polyfill.init(type,size,function(Filesystem){filesystem=Fs=Filesystem;_quotaRequested=size;cwd=Filesystem.root.toURL();fs.polyfill.ready=true;},function(err){fs.polyfill.ready=true;console.warn(err);});}
return(!!fs.polyfill.filer||!!fs.polyfill.localStorage);},init:function(type,requestedBytes,initFn,errHandler){_quotaRequested=true;var onInitFs=initFn,errorHandler=errHandler;if('undefined'===typeof requestedBytes){var requestedBytes=Filer.DEFAULT_FS_SIZE;}
fs.filer.init({persistent:(type===global.PERSISTENT),size:requestedBytes},function(fs){window.requestFileSystem(type,requestedBytes,onInitFs,errorHandler);},errorHandler);return fs;}}},new EventEmitter);fs.unlink=function(){var path=arguments[0];var callback=(2===arguments.length)?arguments[1]:undefined;var _ls=function(){localStorage.removeItem(path);if('function'===typeof callback)
callback();};fs.polyfill.check();if(!!fs.polyfill.filer){fs.polyfill.getFiler().rm(path,function(){if('function'===typeof callback)
callback();},function(err){if('function'===typeof callback)
callback(err);});}else if(!!fs.polyfill.localStorage){_ls();}};fs.rmdir=function(){var path=arguments[0];var callback=(2===arguments.length)?arguments[1]:undefined;var _ls=function(){var k,tok=path;for(k in localStorage){if(tok===k.substr(0,tok.length)){localStorage.removeItem(k);}}
if('function'===typeof callback)
callback();};fs.polyfill.check();if(!!fs.polyfill.filer){fs.polyfill.getFiler().rm(path,function(){if('function'===typeof callback)
callback();},function(err){console.log('err',err);console.log('path',path);if('function'===typeof callback)
callback(err);});}else if(!!fs.polyfill.localStorage){_ls();}};fs.readFile=function(){fs.polyfill.check();var file=arguments[0];var options=(3===arguments.length)?arguments[1]:false;var callback=(3===arguments.length)?arguments[2]:arguments[1];var _ls=function(){var i=localStorage.getItem(file);if(null===i){callback(file.toString()+' does not exist in local storage');}else{callback(false,i);}};if(!!fs.polyfill.filer){try{fs.polyfill.getFiler().open(fs.polyfill.getFiler().pathToFilesystemURL(file),function(file){var reader=new FileReader();reader.onload=function(ev){callback(false,ev.target.result.toString());};reader.readAsBinaryString(file);},function(e){callback(e);});}catch(err){console.warn(err);callback(err);}}else if(!!fs.polyfill.localStorage){_ls();}};fs.readFileSync=function(){fs.polyfill.check();var file=arguments[0];var options=(2===arguments.length)?arguments[1]:false;var _ls=function(){var i=localStorage.getItem(file);if(null===i){return false;}else{return i;}};if(!!fs.polyfill.filer){if('filesystem:'!==file.substr(0,'filesystem:'.length)){if(!!cwd&&fs.polyfill.getFiler()&&'function'===fs.polyfill.getFiler().pathToFilesystemURL){file=fs.polyfill.getFiler().pathToFilesystemURL(file);}else{file='filesystem:'+location.protocol+'//'+new frdl.Url().getHost()+'/'+fs.polyfill.type+'/'+file;}}
if(false===!!options)options=true;if(!!options||(!!options&&!!options.promise)){return co(function*(){return yield new Promise(function(resolve,reject){fs.readFile(file,function(err,data){if(err){reject(err);return;}
resolve(data);});});});}}else if(!!fs.polyfill.localStorage){return _ls();}};fs.writeFile=function(){fs.polyfill.check();var file=arguments[0];var data=arguments[1];var options=(4===arguments.length)?arguments[2]:false;var callback=(4===arguments.length)?arguments[3]:arguments[2];var _ls=function(){localStorage.setItem(file,data);callback(false,data);};if(!!fs.polyfill.filer){fs.polyfill.getFiler().create(file,false,function(entry){fs.polyfill.getFiler().write(entry,{data:data},function(fileEntry,fileWriter){callback(false,{fileEntry:fileEntry,fileWriter:fileWriter});},function(e){callback('Cannot write '+file+' '+e);});},function(e){callback('Cannot create '+file+' '+e);});}else if(!!fs.polyfill.localStorage){_ls();}};fs.mkdir=function(){fs.polyfill.check();var path=arguments[0];var mode=(3===arguments.length)?arguments[1]:false;var callback=(3===arguments.length)?arguments[2]:arguments[1];if(!!fs.polyfill.filer){fs.polyfill.getFiler().mkdir(path,false,function(){callback(false,arguments[0]);},function(e){callback('Cannot create directory '+path);});}};fs.readdir=function(){fs.polyfill.check();var path=arguments[0];var options=(3===arguments.length)?arguments[1]:false;var callback=(3===arguments.length)?arguments[2]:arguments[1];if(!!fs.polyfill.filer){fs.polyfill.getFiler().ls(path,function(entries){callback(false,entries);},function(){callback('Cannot read directory '+path);});}else if(!!fs.polyfill.localStorage){var k,entries=[];for(k in localStorage){if(k.length<path.length||k.substr(0,path.length)!==path){continue;}
entries.push(k);}
callback(false,entries);}};fs.polyfill.check(true);return fs;});
/*! $31 webfan/vm */
/*! webfan (C) Till Wehowski, Webfan.de - All rights reserved. */
/*!*usage:
*   vm = require('webfan/vm-frdl');
**/
/*! thank you to: https://github.com/dfkaye/vm-shim !*/
/*!* node.js :
Class: vm.Script

    new vm.Script(code, options)
    script.runInContext(contextifiedSandbox[, options])
    script.runInNewContext([sandbox][, options])
    script.runInThisContext([options])

vm.createContext([sandbox])
vm.isContext(sandbox)
vm.runInContext(code, contextifiedSandbox[, options])
vm.runInDebugContext(code)
vm.runInNewContext(code[, sandbox][, options])
vm.runInThisContext(code[, options])
*/
define('webfan/vm',function(){'use strict';function extend(from,to){if(from===null||typeof from!=='object')
return from;if(from.constructor!==Object&&from.constructor!==Array)
return from;if(from.constructor===Date||from.constructor===RegExp||from.constructor===Function||from.constructor===String||from.constructor===Number||from.constructor===Boolean)
return new from.constructor(from);to=to||new from.constructor();var name;for(name in from){to[name]=typeof to[name]==='undefined'?extend(from[name],null):to[name];}
return to;}
function clone(obj){var clone=extend(obj);return clone;}
if(typeof global==='undefined'&&window){if(!window.eval&&window.execScript){window.execScript('null');}}
let vm={};function strpos(haystack,needle,offset){var i=(haystack+'').indexOf(needle,(offset||0));return i===-1?false:i;}
function runInContext(src,context,options){context=makeContext(context);var code="'use strict';",key;for(key in context){if(context.hasOwnProperty(key)){try{if((new RegExp("^[A-Za-z0-9_\$]+$")).test(key)){code+='var '+key+' = context[\''+key+'\'];\n';}else{code+='this["'+key+'"] = context[\''+key+'\'];\n';}}catch(f){console.error(f);}}}
typeof src==='string'||(src='('+src.toString()+'())');code+=src+';\n';for(key in context){if(context.hasOwnProperty(key)){if((new RegExp("^[A-Za-z0-9_\$]+$")).test(key)){code+='context[\''+key+'\'] = '+key+';\n';}else{code+='context[\''+key+'\'] = this["'+key+'"];\n';}}}
return sandboxRun(function(){return(function(code,context){var fn=Function('context',code);fn.apply(context,[context]);return context;}(code,context));});}
function runInNewContext(src,context,options){context=context||{};function F(){};if(!options||false===!!options.skipGlobal){F.prototype=(typeof Window!=='undefined'&&Window.prototype)||global;context.global=new F;}
context.global.vm=context.vm=context.vm;return runInContext.apply(context.global,[src,context,options]);}
function runInThisContext(src,options){var code=src;return sandboxRun(function(){if('function'===typeof code){return(function(code){return code();}(code));}else{return(function(code){var fn=Function('context',code);return fn();}(code));}});}
function sandboxRun(fn){'use strict';var keys={},k;for(k in global){keys[k]=k;}
var result=fn();for(k in global){if(!(k in keys)){delete global[k];}}
return result;}
function makeContext(sandbox){sandbox=sandboxRun(function(){return clone(sandbox);});return sandbox;}
function isContext(sandbox){return(sandbox===makeContext(sandbox))?true:false;}
function createScript(code,options){return new Script(code,options);};function ScriptVM(code,options){this.options=extend({filename:(('undefined'!==typeof __dirname)?__dirname:'://')+'#@vm:'+new Date().toString()},options||{});if(this.options.compile&&'function'===typeof this.options.compile){this.code=this.options.compile.apply(this,[code,this.options]);}else{this.code=code;}
this.runInContext=function(contextifiedSandbox,options){var opts=extend(this.options,(options||{}));return runInContext.call(contextifiedSandbox,this.code,contextifiedSandbox,opts);};this.runInNewContext=function(sandbox,options){var context=vm.createContext(sandbox);var opts=extend(this.options,(options||{}));return runInContext.call(this,this.code,context,opts);};this.runInThisContext=function(options){var opts=extend(this.options,(options||{}));return runInThisContext.call(null,this.code,opts);};return this;}
function Script(code,options){if(!(this instanceof Script)){return new Script(code,options);}
var THAT=this;var Transpiled=new ScriptVM(code,options);frdl.each(Object.keys(Transpiled),function(i,f){if('function'===typeof Transpiled[f]){THAT[f]=function(){if(!(this instanceof Script)){throw new TypeError('invalid call to '+f);}
return Transpiled[f].apply(Transpiled,arguments);};}else{THAT[f]=Transpiled[f];}});return THAT;}
Script.prototype.createScript=Script.createScript=createScript;vm.createScript=function(code,options){return this.Script.createScript.apply(null,[code,options]);};vm.runInDebugContext=function(code){throw'runInDebugContext is not implemented yet!';};vm.runInContext=function(code,contextifiedSandbox,options){var script=new Script(code,options);return script.runInContext(contextifiedSandbox,options);};vm.runInNewContext=function(code,sandbox,options){var script=new Script(code,options);return script.runInNewContext(sandbox,options);};vm.runInThisContext=function(code,options){var script=new Script(code,options);return script.runInThisContext(options);};vm.isContext=function(sandbox){return isContext(sandbox);};vm.createContext=function(sandbox){if(sandbox===undefined){sandbox={};}else if(true===vm.isContext(sandbox)){return sandbox;}
return makeContext(sandbox);};vm.Script=Script;return vm;});
/*! $32 vm */
define('vm',['feature!vm'],function(vm){return vm;});
/*! $33 clone */
define('clone',['extend'],function(extend){'use strict';return clone;function clone(obj){var clone=extend(obj);return clone;}});
/*! $34 extend */
define('extend',function(){'use strict';return extend;function extend(from,to){if(from===null||typeof from!=='object')
return from;if(from.constructor!==Object&&from.constructor!==Array)
return from;if(from.constructor===Date||from.constructor===RegExp||from.constructor===Function||from.constructor===String||from.constructor===Number||from.constructor===Boolean)
return new from.constructor(from);to=to||new from.constructor();var name;for(name in from){to[name]=typeof to[name]==='undefined'?extend(from[name],null):to[name];}
return to;}});
/*! $35 base64_detect */
/*! http://locutus.io/php */
define('base64_detect',function(){'use strict';return base64_detect;function base64_detect(str){var base64Detect=new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$");if(base64Detect.test(str)){return true;}else{return false;}}});
/*! $36 base64_encode */
/*! http://locutus.io/php */
define('base64_encode',function(){'use strict';return base64_encode;function base64_encode(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc="",tmp_arr=[];if(!data){return data;}
do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4);}while(i<data.length);enc=tmp_arr.join('');var r=data.length%3;return(r?enc.slice(0,r-3):enc)+'==='.slice(r||3);}});
/*! $37 base64_decode */
/*! http://locutus.io/php */
define('base64_decode',function(){'use strict';return base64_decode;function base64_decode(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,dec="",tmp_arr=[];if(!data){return data;}
data+='';do{h1=b64.indexOf(data.charAt(i++));h2=b64.indexOf(data.charAt(i++));h3=b64.indexOf(data.charAt(i++));h4=b64.indexOf(data.charAt(i++));bits=h1<<18|h2<<12|h3<<6|h4;o1=bits>>16&0xff;o2=bits>>8&0xff;o3=bits&0xff;if(h3==64){tmp_arr[ac++]=String.fromCharCode(o1);}else if(h4==64){tmp_arr[ac++]=String.fromCharCode(o1,o2);}else{tmp_arr[ac++]=String.fromCharCode(o1,o2,o3);}}while(i<data.length);dec=tmp_arr.join('');return dec;}});
/*! $38 str_replace */
/*! http://locutus.io/php */
define('str_replace',function(){'use strict';return str_replace;function str_replace(search,replace,subject){if('string'!==typeof subject)
return'';try{return subject.split(search).join(replace);}catch(err){console.warn(err);return'';}}});
/*! $39 explode */
define('explode',function(){'use strict';return explode;function explode(delimiter,string,limit){if(arguments.length<2||typeof delimiter==='undefined'||typeof string==='undefined')
return null;if(delimiter===''||delimiter===false||delimiter===null)
return false;if(typeof delimiter==='function'||typeof delimiter==='object'||typeof string==='function'||typeof string==='object'){return[0];}
if(delimiter===true)
delimiter='1';delimiter+='';string+='';var s=string.split(delimiter);if(typeof limit==='undefined')
return s;if(limit===0)
limit=1;if(limit>0){if(limit>=s.length)
return s;return s.slice(0,limit-1).concat([s.slice(limit-1).join(delimiter)]);}
if(-limit>=s.length)
return[];s.splice(s.length+limit);return s;}});
/*! $40 navigator/json-rpc-worker */
define('webfan/navigator/json-rpc-worker',['Webfan','frdl'],function(Webfan,frdl){
/*!
    The MIT License (MIT)
    Copyright (c) 2014 Oliver Moran
    Permission is hereby granted, free of charge, to any person obtaining a copy of
    this software and associated documentation files (the "Software"), to deal in
    the Software without restriction, including without limitation the rights to
    use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
    of the Software, and to permit persons to whom the Software is furnished to do
    so, subject to the following conditions:
    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.
    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
    SOFTWARE.

    - edited by frdl.de
*/
var rpcWorker=function(o){this.stack=[];this.timeout=3*60*60*1000;this.idleTimeout=false;this.options={username:false,password:false,dh1:false,api_url:location.protocol+'//'+location.host+Webfan.hps.rpc.server.url};if('undefined'!==typeof o){this.options=frdl.extend(this.options,o);}
var THAT=this;this.boot=function(){if(this.w){if(!!this.idleTimeout)clearTimeout(this.idleTimeout);return this;}
this.w=new frdl.InlineWorker(function(){var id=(new Date()).getTime(),callbacks={};function safeAdd(x,y){var lsw=(x&0xffff)+(y&0xffff);var msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&0xffff);}
function bitRotateLeft(num,cnt){return(num<<cnt)|(num>>>(32-cnt));}
function md5cmn(q,a,b,x,s,t){return safeAdd(bitRotateLeft(safeAdd(safeAdd(a,q),safeAdd(x,t)),s),b);}
function md5ff(a,b,c,d,x,s,t){return md5cmn((b&c)|(~b&d),a,b,x,s,t);}
function md5gg(a,b,c,d,x,s,t){return md5cmn((b&d)|(c&~d),a,b,x,s,t);}
function md5hh(a,b,c,d,x,s,t){return md5cmn(b^c^d,a,b,x,s,t);}
function md5ii(a,b,c,d,x,s,t){return md5cmn(c^(b|~d),a,b,x,s,t);}
function binlMD5(x,len){x[len>>5]|=0x80<<(len%32);x[((len+64)>>>9<<4)+14]=len;var i;var olda;var oldb;var oldc;var oldd;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=md5ff(a,b,c,d,x[i],7,-680876936);d=md5ff(d,a,b,c,x[i+1],12,-389564586);c=md5ff(c,d,a,b,x[i+2],17,606105819);b=md5ff(b,c,d,a,x[i+3],22,-1044525330);a=md5ff(a,b,c,d,x[i+4],7,-176418897);d=md5ff(d,a,b,c,x[i+5],12,1200080426);c=md5ff(c,d,a,b,x[i+6],17,-1473231341);b=md5ff(b,c,d,a,x[i+7],22,-45705983);a=md5ff(a,b,c,d,x[i+8],7,1770035416);d=md5ff(d,a,b,c,x[i+9],12,-1958414417);c=md5ff(c,d,a,b,x[i+10],17,-42063);b=md5ff(b,c,d,a,x[i+11],22,-1990404162);a=md5ff(a,b,c,d,x[i+12],7,1804603682);d=md5ff(d,a,b,c,x[i+13],12,-40341101);c=md5ff(c,d,a,b,x[i+14],17,-1502002290);b=md5ff(b,c,d,a,x[i+15],22,1236535329);a=md5gg(a,b,c,d,x[i+1],5,-165796510);d=md5gg(d,a,b,c,x[i+6],9,-1069501632);c=md5gg(c,d,a,b,x[i+11],14,643717713);b=md5gg(b,c,d,a,x[i],20,-373897302);a=md5gg(a,b,c,d,x[i+5],5,-701558691);d=md5gg(d,a,b,c,x[i+10],9,38016083);c=md5gg(c,d,a,b,x[i+15],14,-660478335);b=md5gg(b,c,d,a,x[i+4],20,-405537848);a=md5gg(a,b,c,d,x[i+9],5,568446438);d=md5gg(d,a,b,c,x[i+14],9,-1019803690);c=md5gg(c,d,a,b,x[i+3],14,-187363961);b=md5gg(b,c,d,a,x[i+8],20,1163531501);a=md5gg(a,b,c,d,x[i+13],5,-1444681467);d=md5gg(d,a,b,c,x[i+2],9,-51403784);c=md5gg(c,d,a,b,x[i+7],14,1735328473);b=md5gg(b,c,d,a,x[i+12],20,-1926607734);a=md5hh(a,b,c,d,x[i+5],4,-378558);d=md5hh(d,a,b,c,x[i+8],11,-2022574463);c=md5hh(c,d,a,b,x[i+11],16,1839030562);b=md5hh(b,c,d,a,x[i+14],23,-35309556);a=md5hh(a,b,c,d,x[i+1],4,-1530992060);d=md5hh(d,a,b,c,x[i+4],11,1272893353);c=md5hh(c,d,a,b,x[i+7],16,-155497632);;b=md5hh(b,c,d,a,x[i+10],23,-1094730640);a=md5hh(a,b,c,d,x[i+13],4,681279174);d=md5hh(d,a,b,c,x[i],11,-358537222);c=md5hh(c,d,a,b,x[i+3],16,-722521979);b=md5hh(b,c,d,a,x[i+6],23,76029189);a=md5hh(a,b,c,d,x[i+9],4,-640364487);d=md5hh(d,a,b,c,x[i+12],11,-421815835);c=md5hh(c,d,a,b,x[i+15],16,530742520);b=md5hh(b,c,d,a,x[i+2],23,-995338651);a=md5ii(a,b,c,d,x[i],6,-198630844);d=md5ii(d,a,b,c,x[i+7],10,1126891415);c=md5ii(c,d,a,b,x[i+14],15,-1416354905);b=md5ii(b,c,d,a,x[i+5],21,-57434055);a=md5ii(a,b,c,d,x[i+12],6,1700485571);d=md5ii(d,a,b,c,x[i+3],10,-1894986606);c=md5ii(c,d,a,b,x[i+10],15,-1051523);b=md5ii(b,c,d,a,x[i+1],21,-2054922799);a=md5ii(a,b,c,d,x[i+8],6,1873313359);d=md5ii(d,a,b,c,x[i+15],10,-30611744);c=md5ii(c,d,a,b,x[i+6],15,-1560198380);b=md5ii(b,c,d,a,x[i+13],21,1309151649);a=md5ii(a,b,c,d,x[i+4],6,-145523070);d=md5ii(d,a,b,c,x[i+11],10,-1120210379);c=md5ii(c,d,a,b,x[i+2],15,718787259);b=md5ii(b,c,d,a,x[i+9],21,-343485551);a=safeAdd(a,olda);b=safeAdd(b,oldb);c=safeAdd(c,oldc);d=safeAdd(d,oldd);}
return[a,b,c,d];}
function binl2rstr(input){var i;var output='';var length32=input.length*32;for(i=0;i<length32;i+=8){output+=String.fromCharCode((input[i>>5]>>>(i%32))&0xff);}
return output}
function rstr2binl(input){var i;var output=[];output[(input.length>>2)-1]=undefined;for(i=0;i<output.length;i+=1){output[i]=0;}
var length8=input.length*8;for(i=0;i<length8;i+=8){output[i>>5]|=(input.charCodeAt(i/8)&0xff)<<(i%32);}
return output;}
function rstrMD5(s){return binl2rstr(binlMD5(rstr2binl(s),s.length*8));}
function rstrHMACMD5(key,data){var i;var bkey=rstr2binl(key);var ipad=[];var opad=[];var hash;ipad[15]=opad[15]=undefined;if(bkey.length>16){bkey=binlMD5(bkey,key.length*8);}
for(i=0;i<16;i+=1){ipad[i]=bkey[i]^0x36363636;opad[i]=bkey[i]^0x5c5c5c5c;}
hash=binlMD5(ipad.concat(rstr2binl(data)),512+data.length*8);return binl2rstr(binlMD5(opad.concat(hash),512+128));}
function rstr2hex(input){var hexTab='0123456789abcdef';var output='';var x;var i;for(i=0;i<input.length;i+=1){x=input.charCodeAt(i);output+=hexTab.charAt((x>>>4)&0x0f)+hexTab.charAt(x&0x0f);}
return output;}
function str2rstrUTF8(input){return unescape(encodeURIComponent(input));}
function rawMD5(s){return rstrMD5(str2rstrUTF8(s));}
function hexMD5(s){return rstr2hex(rawMD5(s));}
function rawHMACMD5(k,d){return rstrHMACMD5(str2rstrUTF8(k),str2rstrUTF8(d));}
function hexHMACMD5(k,d){return rstr2hex(rawHMACMD5(k,d));}
function md5(string,key,raw){if(!key){if(!raw){return hexMD5(string);}
return rawMD5(string);}
if(!raw){return hexHMACMD5(key,string);}
return rawHMACMD5(key,string);}
function HeaderParamsParser(headerValue){this.headerValue=headerValue||[];if(this.headerValue){this.headerParams=('string'===typeof this.headerValue)?this.headerValue.split(","):headerValue;}}
HeaderParamsParser.prototype.getParam=function(paramName){var paramVal=null;if('undefined'!==typeof this.headerParams&&'undefined'!==typeof this.headerParams.length){return this.headerParams;}
this.headerParams.forEach(function(value){if(value.indexOf(paramName)>0){paramVal=value.split(paramName+"=")[1];paramVal=paramVal.substring(1,paramVal.length-1);}});return paramVal;};var JSON_RPC={uri:'${process.env.FRDLWEB.ENDPOINT_BROWSER.ENDPOINT_HPS_RPC_WHITE}',setServer:function(s){this.server=s;return this;},setUri:function(u){this.uri=u;return this;}};var DIGEST_AUTH=function(settings){this.settings=settings||{method:'POST',username:false,password:false,cnonce:false,dh1:false};};DIGEST_AUTH.prototype={MAX_ATTEMPTS:2,notifyDelay:16,AUTHORIZATION_HEADER:"Authorization",WWW_AUTHENTICATE_HEADER:'WWW-Authenticate',NC:"00000001",setCredentials:function(username,password){this.settings.username=username;this.settings.password=password;},send:function(RPC){this.RPC=RPC;this.attempts=0;return this.call();},call:function(_url,authorizationHeader,_XHR){var THAT=this,url=_url||JSON_RPC.uri,withCallback=true,qop=1,nonce=1;url=url.replace(new RegExp("blob://"),THAT.settings.protocol+'//');var promise=new Promise(function(resolve,reject){if(THAT.RPC instanceof JSON_RPC.Notification){var withCallback=false;}else if(THAT.RPC instanceof JSON_RPC.Request){var withCallback=true;}else if(THAT.RPC instanceof JSON_RPC.Batch){var withCallback=true;}else{}
var xhr=_XHR||((XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"));THAT.RPC.digAuth=function(u,hr){var paramParser=new HeaderParamsParser(hr.getResponseHeader(THAT.WWW_AUTHENTICATE_HEADER));nonce=paramParser.getParam("nonce");var realm=paramParser.getParam("realm");qop=paramParser.getParam("qop");var response=THAT.calculateResponse(u,nonce,realm,qop);var digest=THAT.getDigest(realm,THAT.settings.username,THAT.settings.password,nonce,THAT.NC,THAT.settings.cnonce,qop,u,THAT.settings.method);var authorizationHeaderValue=THAT.generateAuthorizationHeader(paramParser.headerValue,response,u,qop,nonce);console.log(response+'<br />'+digest+'<br />'+response===digest);THAT.attempts++;xhr.setRequestHeader(THAT.AUTHORIZATION_HEADER,authorizationHeaderValue);resolve(THAT.call(u,authorizationHeaderValue,hr));};if('POST'!==THAT.settings.method){console.log('Notice: Request-Method %s given, POST expected');}
try{xhr.open(THAT.settings.method,url,false);}catch(e){console.log('Error: cannot sync: %s <url:%s>',e,url);xhr.open(THAT.settings.method,url,true);}
xhr.timeout=0;xhr.withCredentials=true;xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");var digest=THAT.getDigest('json-rpc',THAT.settings.username,THAT.settings.password,nonce,1,THAT.settings.cnonce,qop,url,THAT.settings.method);var authHeader=THAT.generateAuthorizationHeader('digest',digest,url,qop,nonce);xhr.setRequestHeader(THAT.AUTHORIZATION_HEADER,authHeader);xhr.setRequestHeader('X-Authorization',authHeader);xhr.setRequestHeader('X-Webfan-Rpc-Auth-User',THAT.settings.username);xhr.setRequestHeader('X-Webfan-Rpc-Auth-Token',digest);xhr.setRequestHeader('X-Webfan-Rpc-Auth-Cnonce',THAT.settings.cnonce);xhr.onerror=function(response){if(THAT.attempts===THAT.MAX_ATTEMPTS){reject(xhr.status+' '+xhr.statusText);xhr.abort();return;}
THAT.RPC.digAuth(url,xhr);};if(typeof authorizationHeader!=='undefined'){xhr.setRequestHeader(THAT.AUTHORIZATION_HEADER,authorizationHeader);}else if(!!THAT.settings.username||!!THAT.settings.password){xhr.onreadystatechange=function(){if(0==xhr.status&&xhr.HEADERS_RECEIVED){console.log('set auth headers...');var paramParser=new HeaderParamsParser(xhr.getResponseHeader(THAT.WWW_AUTHENTICATE_HEADER));nonce=paramParser.getParam("nonce");var realm=paramParser.getParam("realm");qop=paramParser.getParam("qop");var response=THAT.calculateResponse(url,nonce,realm,qop);var digest=THAT.getDigest(realm,THAT.settings.username,THAT.settings.password,nonce,THAT.NC,THAT.settings.cnonce,qop,url,THAT.settings.method);console.log(response+'<br />'+digest+'<br />'+response===digest);var authorizationHeaderValue=THAT.generateAuthorizationHeader(paramParser.headerValue,response,url,qop,nonce);if(0==xhr.status){xhr.setRequestHeader(THAT.AUTHORIZATION_HEADER,authorizationHeaderValue);resolve(THAT.call(u,authorizationHeaderValue,xhr));}else{resolve(THAT.call(u,authorizationHeaderValue,xhr));}}};}
if(!!withCallback){xhr.onload=function(){if(xhr.status!==200){reject('HTTP Error: '+xhr.status);return;}
console.log('%s',xhr.responseText);var result=('string'===typeof xhr.responseText)?JSON.parse(xhr.responseText):xhr.responseText;if(result.error){reject(result);}else{resolve(result);}};}
if(!!THAT.settings.username||!!THAT.settings.password){xhr.send(THAT.RPC);}else{xhr.send(THAT.RPC);}});return promise;},getDigest:function(realm,username,pass,nonce,nc,cnonce,qop,uri,method){if(('string'===typeof username&&''!==username)&&('string'===typeof pass&&''!==pass)){var A1=md5(username+':'+realm+':'+pass);}else if('string'===typeof this.settings.dh1){var A1=this.settings.dh1;}
var A2=md5(method+':'+uri);return md5(A1+':'+nonce+':'+nc+':'+cnonce+':'+qop+':'+A2);},calculateResponse:function(uri,nonce,realm,qop){var a2=this.settings.method+":"+uri;var a2Md5=hex_md5(a2);var a1Md5=hex_md5(this.settings.username+":"+realm+":"+this.settings.password);var digest=a1Md5+":"+nonce+":"+this.NC+":"+this.settings.cnonce+":"+qop+":"+a2Md5;return hex_md5(digest);},generateAuthorizationHeader:function(wwwAuthenticationHeader,response,uri,qop,nonce){return wwwAuthenticationHeader+', username="'+this.settings.username+'", uri="'+
uri+'", response="'+response+'", nc='+
this.NC+', cnonce="'+this.settings.cnonce+'", nonce="'+nonce+'", qop="'+qop+'"';}};JSON_RPC.Request=function(method,params){this.jsonrpc="2.0";this.method=method;if(typeof params!=="undefined"){this.params=params;}
this.id=this.id||++id;};Object.defineProperty(JSON_RPC.Request.prototype,"result",{get:function(){return this._result;},set:function(result){delete this.method;delete this.params;delete this.error;this._result=result;}});Object.defineProperty(JSON_RPC.Request.prototype,"error",{get:function(){return this._error;},set:function(error){delete this.method;delete this.params;delete this.result;this._error=error;}});JSON_RPC.Request.prototype.toString=function(){var rpc={jsonrpc:this.jsonrpc,id:this.id};if(this.method!==undefined)rpc.method=this.method;if(this.params!==undefined)rpc.params=this.params;if(this.result!==undefined)rpc.result=this.result;if(this.error!==undefined)rpc.error=this.error;return JSON.stringify(rpc);};JSON_RPC.Notification=function(method,params){this.jsonrpc="2.0";this.method=method;if(typeof params!=="undefined"){this.params=params;}};JSON_RPC.Notification.prototype.toString=function(){var rpc={jsonrpc:this.jsonrpc,method:this.method,params:this.params};return JSON.stringify(rpc);};JSON_RPC.Batch=function(batch){this.batch=[];var THAT=this;batch.forEach(function(b){if('notification'===b.type){THAT.batch.push({jsonrpc:"2.0",method:b.method,params:b.params});}else{THAT.batch.push({jsonrpc:"2.0",method:b.method,params:b.params,id:b.id||++id});}});};JSON_RPC.Batch.prototype.toString=function(){return JSON.stringify(this.batch);};JSON_RPC.Error=function(code,message,data){this.code=code;if(typeof message=="string")this.message=message;if(data!==undefined)this.data=data;};JSON_RPC.PARSE_ERROR=new JSON_RPC.Error(-32700,"An error occurred on the server while parsing the JSON text.");JSON_RPC.INVALID_REQUEST=new JSON_RPC.Error(-32600,"The JSON sent is not a valid Request object.");JSON_RPC.METHOD_NOT_FOUND=new JSON_RPC.Error(-32601,"The method does not exist / is not available.");JSON_RPC.INVALID_PARAMS=new JSON_RPC.Error(-32602,"Invalid method parameter(s).");JSON_RPC.INTERNAL_ERROR=new JSON_RPC.Error(-32603,"Internal JSON-RPC error.");JSON_RPC.parse=function(rpc){if(rpc.constructor===Array){return new JSON_RPC.Batch(rpc);}
var rpc;try{if('string'===typeof rpc)rpc=JSON.parse(rpc);}catch(err){var obj=new JSON_RPC.Request();obj.result=JSON_RPC.PARSE_ERROR;obj.id=null;return obj;}
if(rpc.jsonrpc!=="2.0"){var obj=new JSON_RPC.Request();obj.result=JSON_RPC.INVALID_REQUEST;obj.id=null;return obj;}
var obj=(rpc.id===undefined)?new JSON_RPC.Notification(rpc.method,rpc.params):new JSON_RPC.Request(rpc.method,rpc.params);if(rpc.id!==undefined)obj.id=rpc.id;if(rpc.result!==undefined)obj.result=rpc.result;if(rpc.error!==undefined){obj.error=new JSON_RPC.Error(rpc.error.code,rpc.error.message,rpc.error.data);}
return obj;};JSON_RPC.Notification.prototype.call=function(callback,username,password,http_method,protocol,cnonce,dh1){var authRequest=new DIGEST_AUTH({username:username||false,password:password||false,method:http_method||'POST',protocol:protocol||location.protocol,cnonce:cnonce,dh1:dh1});var promise=authRequest.send(this);return promise.then(function(result){callback(null,result);}).catch(function(reason){callback(reason);});};JSON_RPC.Request.prototype.call=function(callback,username,password,http_method,protocol,cnonce,dh1){var authRequest=new DIGEST_AUTH({username:username||false,password:password||false,method:http_method||'POST',protocol:protocol||location.protocol,cnonce:cnonce,dh1:dh1});var promise=authRequest.send(this);return promise.then(function(result){callback(null,result);}).catch(function(reason){callback(reason);});};JSON_RPC.Batch.prototype.call=function(callback,username,password,http_method,protocol,cnonce,dh1){var authRequest=new DIGEST_AUTH({username:username||false,password:password||false,method:http_method||'POST',protocol:protocol||location.protocol,cnonce:cnonce,dh1:dh1});var promise=authRequest.send(this);return promise.then(function(result){callback(null,result);}).catch(function(reason){callback(reason);});};self.addEventListener('message',function(data){var processID=data.data.processID.toString();if('config'===data.data.type){if('undefined'!==typeof data.data.url){JSON_RPC.setUri(data.data.url);}
self.postMessage([null,{processID:processID}]);}else if('batch'===data.data.type){var Batch=new JSON_RPC.Batch(data.data.batch);Batch.call(function(err,result){if(result)result.processID=processID;if(err)err.processID=processID;self.postMessage([(err)?JSON.stringify(err):null,result]);},data.data.username,data.data.password,data.data.http_method,data.data.protocol,data.data.cnonce,data.data.dh1);}else{if('notification'===data.data.type){var Notification=new JSON_RPC.Notification(data.data.method,data.data.params);Notification.call(function(err,result){if(result)result.processID=processID;if(err)err.processID=processID;self.postMessage([(err)?JSON.stringify(err):null,result]);},data.data.username,data.data.password,data.data.http_method,data.data.protocol,data.data.cnonce,data.data.dh1);}else{var Request=new JSON_RPC.Request(data.data.method,data.data.params);Request.call(function(err,result){if(result)result.processID=processID;if(err)err.processID=processID;self.postMessage([(err)?JSON.stringify(err):null,result]);},data.data.username,data.data.password,data.data.http_method,data.data.protocol,data.data.cnonce,data.data.dh1);}}});});return this;};this.setIdle=function(){var THAT=this;if(!!this.idleTimeout)clearTimeout(this.idleTimeout);this.idleTimeout=setTimeout(function(){THAT.w.terminate();},this.timeout);};this.add=function(rpc){if(!!this.idleTimeout)clearTimeout(this.idleTimeout);this.stack.push(rpc);};this.batch=function(_batch,callback,username,password,http_method,protocol){var THAT=this;_batch.forEach(function(b){THAT.add(b);});var p=new Promise(function(resolve,reject){THAT.boot();var processID=frdl.guid;var handler;handler=function(data){if(data.data[1]){if(data.data[1].processID!==processID)return;delete data.data[1].processID;}
if(data.data[0]){if(data.data[0].processID!==processID)return;delete data.data[0].processID;}
THAT.setIdle();if(data.data[0]){reject(data.data[0]);}else{resolve(data.data[1]);}};THAT.w.addEventListener('message',handler);THAT.w.postMessage({processID:processID,type:'batch',batch:THAT.stack,username:username||THAT.options.username,password:password||THAT.options.password,http_method:http_method||THAT.options.http_method,protocol:protocol||THAT.options.protocol,cnonce:frdl.guid,dh1:THAT.options.dh1});THAT.stack=[];});if('function'===typeof callback){p.then(function(result){callback(null,result);}).catch(function(reason){callback(reason);});}
return p;};this.notification=function(method,params,callback,username,password,http_method,protocol){var THAT=this;var p=new Promise(function(resolve,reject){THAT.boot();var processID=frdl.guid;var handler;handler=function(data){if(data.data[1]){if(data.data[1].processID!==processID)return;delete data.data[1].processID;}
if(data.data[0]){if(data.data[0].processID!==processID)return;delete data.data[0].processID;}
THAT.setIdle();if(data.data[0]){reject(data.data[0]);}else{resolve(data.data[1]);}};THAT.w.addEventListener('message',handler);THAT.w.postMessage({processID:processID,type:'notification',method:method,params:params,username:username||THAT.options.username,password:password||THAT.options.password,password:password||THAT.options.password,http_method:http_method||THAT.options.http_method,protocol:protocol||THAT.options.protocol,cnonce:frdl.guid,dh1:THAT.options.dh1});});if('function'===typeof callback){p.then(function(result){callback(null,result);}).catch(function(reason){callback(reason);});}
return p;};this.call=function(method,params,callback,username,password,http_method,protocol){var THAT=this;var p=new Promise(function(resolve,reject){THAT.boot();var processID=frdl.guid;var handler;handler=function(data){if(data.data[1]){if(data.data[1].processID!==processID)return;delete data.data[1].processID;}
if(data.data[0]){if(data.data[0].processID!==processID)return;delete data.data[0].processID;}
THAT.setIdle();if(data.data[0]){reject(data.data[0]);}else{resolve(data.data[1]);}};THAT.w.addEventListener('message',handler);THAT.w.postMessage({processID:processID,type:'call',method:method,params:params,username:username||THAT.options.username,password:password||THAT.options.password,http_method:http_method||THAT.options.http_method,protocol:protocol||THAT.options.protocol,cnonce:frdl.guid,dh1:THAT.options.dh1});});if('function'===typeof callback){p.then(function(result){callback(null,result);}).catch(function(reason){callback(reason);});}
return p;};this.config=function(c){var THAT=this;if('undefined'!==typeof c.username){THAT.options.username=c.username;}
if('undefined'!==typeof c.password){THAT.options.password=c.password;}
if('undefined'!==typeof c.http_method){THAT.options.http_method=c.http_method;}
if('undefined'!==typeof c.protocol){THAT.options.protocol=c.protocol;}
if('undefined'!==typeof c.url){THAT.options.url=c.url;}
if('undefined'!==typeof c.dh1){THAT.options.dh1=c.dh1;}
var p=THAT._readyReset(function(resolve,reject){THAT.boot();var processID=frdl.guid;var handler;handler=function(data){if(data.data[1]){if(data.data[1].processID!==processID)return;delete data.data[1].processID;}
if(data.data[0]){if(data.data[0].processID!==processID)return;delete data.data[0].processID;}
THAT.setIdle();if(data.data[0]){reject(data.data[0]);}else{resolve(data.data[1]);}};THAT.w.addEventListener('message',handler);c.processID=processID;c.type='config';THAT.w.postMessage(c);});return p;};this._readyReset=function(p){if(p instanceof Promise){this.ready=p;}else{this.ready=new Promise(function(resolve,reject){resolve(true);});}
return this.ready;};};return rpcWorker;});
/*! $41 Webfan.hps.rpc */
define('Webfan.hps.rpc',['webfan/navigator/json-rpc-worker','Webfan','frdl'],function(ClientClass,Webfan,frdl){Webfan.module('hps.rpc',function(plug,req){plug.extend({url:(((Webfan.defined('hps.scriptengine.server.ssl')&&1==Webfan.hps.scriptengine.server.ssl)?'https:':location.protocol)
+'//'
+((Webfan.defined('hps.scriptengine.server.host'))?Webfan.hps.scriptengine.server.host:location.host)
+((!Webfan.defined('hps.rpc.server.url'))?'/software-center/modules-api/rpc/0.0.1/':Webfan.hps.rpc.server.url))});});Webfan.module('hps.rpc',function(plug,req){plug.extend({client:new ClientClass({uri:Webfan.module('hps.rpc').url,url:Webfan.module('hps.rpc').url,username:frdl.WebfanReadCookie('json_rpc_user_name'),password:false,http_method:'POST',protocol:location.protocol,dh1:frdl.WebfanReadCookie('json_rpc_user_dh1'),api_url:Webfan.module('hps.rpc').url}),config:function(c){return this.client.config(c);},call:function(){var args=Array.prototype.slice.call(arguments);if(0===args.length){return this.client;}
var callback=('function'===typeof args[args.length-1])?args.pop():false;if(!callback){if(args.length>=2&&'string'===typeof args[0]){var method=args.shift();var params=args.shift();this.client.notification(method,params);}else if(args[0].constructor===Array){args.shift().forEach(function(b){req('hps.rpc').client.add(b);});return req('hps.rpc').call;}else{this.client.add(args.shift());return req('hps.rpc').call;}}else{if(args.length>=2&&'string'===typeof args[0]){var method=args.shift();var params=args.shift();return this.client.call(method,params,callback);}else{if(args[0].constructor!==Array){args[0]=[args[0]];}
return this.client.batch(args[0],callback);}}
throw'Invalid function arguments';}});});return{loaded:true};});
/*! $42 JsonRpcClient */
define('JsonRpcClient',['Webfan.hps.rpc','Webfan','frdl'],function(rpc,Webfan,frdl){'use strict';function JsonRpcClient(url,username,password,dh1,method,protocol){this.url=url||Webfan.module('hps.rpc').url;this.username=username||frdl.WebfanReadCookie('json_rpc_user_name')||false;this.password=password||false;this.dh1=dh1||frdl.WebfanReadCookie('json_rpc_user_dh1')||false;this.protocol=protocol||location.protocol;this.method=method||'POST';this._silent=false;this._sync=true;Webfan.hps.rpc.config({url:this.url,http_method:this.method,protocol:this.protocol,username:this.username,password:this.password,dh1:this.dh1,uri:this.url});}
JsonRpcClient.prototype.syncPwd=function(){if(false===this._sync)return new Promise(function(y,n){y(true);});if(this.username!==frdl.WebfanReadCookie('json_rpc_user_name')){this.username=frdl.WebfanReadCookie('json_rpc_user_name');}
if(this.dh1!==frdl.WebfanReadCookie('json_rpc_user_dh1')){this.dh1=frdl.WebfanReadCookie('json_rpc_user_dh1');this.password=false;}
Webfan.hps.rpc.config({url:this.url,http_method:this.method,protocol:this.protocol,username:this.username,password:this.password,dh1:this.dh1,uri:this.url});return new Promise(function(y,n){y(true);});};JsonRpcClient.prototype.silent=function(s){this._silent=s;return this;};JsonRpcClient.prototype.sync=function(s){this._sync=s;return this;};JsonRpcClient.prototype.notify=function(m,p){this.syncPwd().then(function(){Webfan.hps.rpc.call(m,p);});};JsonRpcClient.prototype.call=function(m,p,successCallback,errorCallback){var p1=false;try{!this._silent&&frdl.UI.progress().start();p1=!this._silent;}catch(e){p1=false;}
var errorCallback=errorCallback||function(m){frdl.alert.error(m.error.message||m);if(!!p1)frdl.UI.progress().complete();};var successCallback=successCallback||function(result){frdl.alert.success(result.result||result);if(!!p1)frdl.UI.progress().complete();};this.syncPwd().then(function(){Webfan.hps.rpc.call(m,p,function(err,result){if(err){errorCallback(err);if(!!p1)frdl.UI.progress().complete();}else{successCallback(result);if(!!p1)frdl.UI.progress().complete();}});});};JsonRpcClient.prototype.batch=function(b,successCallback,errorCallback){var p1=false;try{!this._silent&&frdl.UI.progress().start();p1=!this._silent;}catch(e){p1=false;}
var errorCallback=errorCallback||function(m){frdl.alert.error((m.error&&m.error.message)||m);if(!!p1)frdl.UI.progress().complete();};var successCallback=successCallback||function(result){frdl.alert.success(result);if(!!p1)frdl.UI.progress().complete();};this.syncPwd().then(function(){Webfan.hps.rpc.call(b,function(err,result){if(err){errorCallback(err);if(!!p1)frdl.UI.progress().complete();}else{successCallback(result);if(!!p1)frdl.UI.progress().complete();}});});};return JsonRpcClient;});
/*! $43 Webfan.hps.Router */
define('Webfan.hps.Router',['frdl'],function(frdl){Webfan.module('hps.Router',function(plug,req){'use strict';function getRoutes(){return Webfan.hps.Router.routes;}
function generate(n,p){if('undefined'===typeof getRoutes()[n]){return"javascript:frdl.alert.error('Route "+n+" is not defined!');";}
if(!getRoutes()[n].valid){return"javascript:frdl.alert.error('Route "+n+" is not valid!');";}
if('undefined'===typeof p){var p={};}
return frdl.ns.org.startpad.string.format(getRoutes()[n].url,p);}
function info(n){if('undefined'===typeof getRoutes()[n]||true!==getRoutes()[n].valid){return false;}
return getRoutes()[n];}
plug.extend({getRoutes:getRoutes,info:info,generate:generate});});return Webfan.hps.Router;});
/*! $44 webfan/webfanURLParser */
define('webfan/webfanURLParser',function(){function webfanURLParser(u){var file="",scheme="",url="",host="",path="",query="",hash="",params,user='',pass='',port='';if(!u||u===''){u=window.location.href;}
if('string'!==typeof u)
u='';url=u;if(u.indexOf("#")>0){hash=u.substr(u.indexOf("#")+1);u=u.substr(0,u.indexOf("#"));}
if(u.indexOf("?")>0){path=u.substr(0,u.indexOf("?"));query=u.substr(u.indexOf("?")+1);params=query.split('&');}else{path=u;}
this.getPort=function(){var portexp=/\/\/[\w.-]*:([0-9]*)/;var match=portexp.exec(url);return(match!==null&&match.length>0)?match[1]:'';};this.getLocation=function(){return window.location.href;};this.getUrl=function(){return url;};this.getPath=function(){var pathexp=/\/\/[\w.-]*(?:\/([^?]*))/;var match=pathexp.exec(path);if(match!=null&&match.length>1)
return match[1];return"";};this.getFile=function(){var f=this.getPath().split("/");var f2=f[f.length-1].split("?");file=f2[0];return file;};this.getFileExtension=function(){return this.getfile().split('.').reverse()[0];};this.getDirectory=function(){if(true===arguments[0]){return this.getScheme()+'://'+this.getHost()+'/'+this.getPath().substr(0,(this.getPath().length-this.getFile().length));}
return this.getPath().substr(0,(this.getPath().length-this.getFile().length));};this.getScheme=function(){var schemeexp=/([\w.-]*):\/\//;var match=schemeexp.exec(url);scheme=(match!==null&&typeof match[1]!=='undefined')?match[1]:'';if(match!==null&&match.length>0)
scheme=match[1];return scheme;};this.getHost=function(){var hostexp=/\/\/([\w.-]*)/;var match=hostexp.exec(url);try{host=(match!==null&&typeof match[1]!=='undefined')?match[1]:'';}catch(err){host="";}
return host;};this.getHash=function(){return hash;};this.getParams=function(){return query.split('&');};this.getQuery=function(){return query;};this.getParam=function(name){if(params){for(var i=0;i<params.length;i++){var pair=params[i].split('=');if(decodeURIComponent(pair[0])===name)
return decodeURIComponent(pair[1]);}}
return null;};this.hasParam=function(name){if(params){for(var i=0;i<params.length;i++){var pair=params[i].split('=');if(decodeURIComponent(pair[0])==name)
return true;}}
return false;};this.removeParam=function(name){query="";if(params){var newparams=new Array();for(var i=0;i<params.length;i++){var pair=params[i].split('=');if(decodeURIComponent(pair[0])!=name)
newparams.push(params[i]);}
params=newparams;for(var i=0;i<params.length;i++){if(query.length>0)
query+="&";query+=params[i];}}
if(query.length>0)
query="?"+query;url=this.unparse();return url;};this.setHash=function(value){hash=value;var p=path,q=query;if(q.length>0)
q="?"+q;if(value.length>0)
q=q+"#"+value;url=this.unparse();return url;};this.setParam=function(name,value){if(!params){params=new Array();}
params.push(name+'='+value);query="";for(var i=0;i<params.length;i++){if(query.length>0)
query+="&";query+=params[i];}
if(query.length>0)
query="?"+query;url=this.unparse();return url;};this.setScheme=function(s){scheme=s;url=this.unparse();return url;};this.setHost=function(s){host=s;url=this.unparse();return url;};this.setPort=function(s){port=s;url=this.unparse();return url;};this.setPath=function(){path=path;url=this.unparse();return url;};this.setFile=function(file){path=this.getPath().substr(0,path.length-this.getFile().length)+file;url=this.unparse();return url;};this.setQuery=function(str){query=str;params=query.split('&');url=this.unparse();return url;};this.setUser=function(u){user=u;};this.setPass=function(p){pass=p;};this.urlMakeNew=function(){url=this.unparse();return url;};this.unparse=function(obj){if('undefined'!==typeof obj&&'undefined'!==typeof obj.file){this.setFile(obj.file);}
var o={scheme:this.getScheme(),host:this.getHost(),user:user,pass:pass,port:this.getPort(),path:this.getPath(),query:this.getQuery(),hash:this.getHash(),params:this.getParams()};var n=Object.create(o,('undefined'!==typeof obj)?obj:{});var _url="";if(n.scheme!=="")
_url+=n.scheme+'://';var __host=((n.user||n.pass)&&''!==n.user)?n.user+':'+n.pass+'@'+n.host:n.host;_url+=__host+((''!==n.port&&parseInt(n.port.toString())===parseInt(n.port))?':'+n.port:'')+((''!==n.path||''!==n.query)?'/':'')+n.path+((''!==n.query&&'?'!==n.query.substr(0,1))?'?':'')+n.query+((''!==n.hash)?'#'+n.hash:'');return _url;};}
webfanURLParser.prototype.resolve=function(base,to){var _this=this;var Url=new _this(base);var __dirname=Url.getScheme()+'://'+Url.getHost()+'/'+Url.getDirectory();return __dirname+new _this(to).getPath();};return webfanURLParser;});
/*! $45 webfan/NamespacePlugin */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! @ frdl.Frdlweb.js.Compiler.defaultPlugin : frdlcjs */
define('webfan/NamespacePlugin',['feature!vm','webfan/bootcache!webfan/es6-compiler','webfan/bootcache!lit','EventEmitter'],function(vm,traceur,Lit,EventEmitter){(function(scope){'use strict';function numeric(s){if(!s){return 0;}
var a=s.split('.');return 10000*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2]);}
if('function'!==typeof scope.each){scope.each=frdl.each;}
var ns;var globalNamespace=ns;var VERSION='4.0.1';var _fnCount=-1;var NODE_PARENT=Symbol.frdl.Node.$$$parent.valueOf();var _$Scopes=new Map();var _$injectedLazyBindings=new WeakMap();var _$GenericCommonFunctions=new Map();var _$ClassesServices=new Map();var PluginModule=(function Plugin(){var _opt=new WeakMap();class PluginModule{constructor(o){_opt.set(this,o);this[NODE_PARENT]=()=>{return _opt.get(this).parent;};}
get id(){return _opt.get(this).path;}
get parent(){return this[NODE_PARENT]();}
get Angular(){return false===frdl.a.defined(_opt.get(this).path)?false:frdl.a.module(_opt.get(this).path);}
get root(){if('undefined'!==typeof this.parent&&this.parent instanceof PluginModule&&this!==this.parent){return this.parent.root;}
return this;}}
PluginModule.prototype.noop=()=>{if(0<frdl.debug.mode())console.log('test noop()');};return PluginModule;}());function Use(p){if(false===p instanceof Array){p=[p];}
var _ns=globalNamespace,k;var Plugin=false;var shadowPluginTree=new PluginModule({parent:NaN,path:NaN});scope.each(p,function(i,path){if('undefined'!==typeof frdl.Url&&'undefined'!==typeof frdl.Url.name&&frdl.Url.name==='webfanURLParser'){var checkUrl=new frdl.Url(path);if(''!==checkUrl.getHost()){var hp=frdl.explode('.',checkUrl.getHost());hp=hp.reverse();hp=hp.join('.');path=frdl.str_replace(checkUrl.getHost(),hp,path);}}
path=frdl.str_replace('https:\/\/','',path);path=frdl.str_replace('http:\/\/','',path);path=path.replace(new RegExp("([.]+:\/\/)",'g'),'');path=frdl.str_replace('\/','.',path);path=frdl.str_replace(':','',path);path=path.replace(new RegExp("-",'g'),'_');var parts=path.split('.');var prepath='';_ns=globalNamespace;for(var i=0;i<parts.length;i++){if(i>0)prepath+='.';prepath+=parts[i];if(_ns[parts[i]]===undefined){_ns[parts[i]]=new PluginModule({parent:_ns,path:prepath});}
_ns=_ns[parts[i]];}
if(false===Plugin){Plugin=_ns;}else{Plugin=frdl.extend(_ns,Plugin);}});return Plugin;}
if(globalNamespace){if(numeric(VERSION)<=numeric(globalNamespace['VERSION'])){return;}
PluginModule=globalNamespace.constructor;}else{ns=globalNamespace=new PluginModule({parent:ns,path:''});}
globalNamespace['VERSION']=VERSION;var proto=PluginModule.prototype;proto['plugin']=function(path,closure,context){var stage=new EventEmitter;var Plugin=Use(path);var args=Array.prototype.slice.call(arguments);if(1===args.length)return Plugin;var Context=context||closure||Plugin;var Scopes=_$injectedLazyBindings.get(this);if('undefined'===typeof Scopes){Scopes={};}
var THAT=this;stage.on('save',function(data){_$injectedLazyBindings.set(THAT,data.Scopes);});function extend(Plug,_parent){function ext(s,m,p,d){if(d&&!!d.enumerable){m[s]=extend(p[s],m[s]);}else{m[s]=p[s];}}
var sym,me=_parent||Plugin||this;for(sym in Plug){if(Plug.hasOwnProperty(sym)&&'Plugin'!==sym){var d=Object.getOwnPropertyDescriptor(me,sym);var d2=Object.getOwnPropertyDescriptor(Plug,sym);if('undefined'===typeof d&&'undefined'!==typeof d2.value&&'undefined'===typeof d2.get){ext(sym,me,Plug,d);}else{if('undefined'===typeof d||('undefined'!==typeof d.value&&'undefined'===typeof d.get)){if('undefined'===typeof d||true===d.writabel){ext(sym,me,Plug,d);}}}}}
return me;}
function exec(fn){function f(fn){'use strict';return ns.plugin(path,fn,Context||fn||this);}
return f(fn);}
function thisRunHelper(){}
var Path=path;thisRunHelper.run=function(Context){Context.Plugin=Use(path);return Context;};if('undefined'===typeof Plugin.exec){Object.defineProperty(Plugin,'exec',{'get':function(){return exec;},'set':function(In){exec(In);}});}
if('function'===typeof closure){var ArgsToInjectKeyValuePairs=[];var _Args_=frdl.Reflector.getFunctionParameters(closure);var ArgsToInject=frdl.clone(_Args_).sort();var fnName=frdl.Reflector.getFunctionName(closure);var fnBody=frdl.Reflector.getFunctionBody(closure);var js=fnBody;var ContextArgs={},k;ContextArgs.Plugin=Plugin;ContextArgs.Use=Use;ContextArgs.extend=extend;var _genericKey={name:('$'===fnName.substr(0,1))?fnName.substr(1,fnName.length):fnName,parameters:ArgsToInject};var _genericKey_2={name:('$'===fnName.substr(0,1))?fnName.substr(1,fnName.length):fnName,parameters:'*'};var _GenericCheck=('string'===typeof fnName&&''!==fnName)?_$GenericCommonFunctions.get(_genericKey):undefined;var _GenericCheck_2=('string'===typeof fnName&&''!==fnName)?_$GenericCommonFunctions.get(_genericKey_2):undefined;if('undefined'===typeof _GenericCheck&&'string'===typeof fnName&&''!==fnName){_GenericCheck=closure;var _scopeName=('$'===fnName.substr(0,1))?fnName.substr(1,fnName.length):fnName;Scopes[_scopeName]=_GenericCheck;ContextArgs[_scopeName]=Scopes[_scopeName];}else if('undefined'!==typeof _GenericCheck&&'string'===typeof fnName&&''!==fnName){if('$'===fnName.substr(0,1)){var _scopeName=fnName.substr(1,fnName.length);}else{var _scopeName=fnName;}
Scopes[_scopeName]=_GenericCheck;ContextArgs[_scopeName]=Scopes[_scopeName];}
stage.on('save',function(data){if('undefined'!==typeof _GenericCheck)_$GenericCommonFunctions.set(_genericKey,extend(_GenericCheck,data.Plugin));});scope.each(ArgsToInject,function(i,a){var found=false;if(false===found&&'$'===a.substr(0,1)){var _FnRegistered=_$GenericCommonFunctions.get({name:a.substr(1,a.length),parameters:ArgsToInject});if('undefined'!==typeof _FnRegistered){ContextArgs[a]=_FnRegistered;found=true;}}
if(false===found){if('undefined'!==typeof Scopes[a]){ContextArgs[a]=Scopes[a];found=true;}}
if(false===found&&'undefined'!==typeof _GenericCheck&&'string'===typeof fnName&&''!==fnName){Object.defineProperty(ContextArgs,a,{'get':function(){return Scopes[a];},'set':function(v){Scopes[a]=v;}});found=true;}
ArgsToInjectKeyValuePairs.push([a,ContextArgs[a]]);});thisRunHelper.script=vm.createScript(js,{filename:'plugin://'+path,compile:Plugin.compile});for(k in ContextArgs){Context[k]=ContextArgs[k];}
if(!frdl.CONST.defined('MONKEY_PATCH_BLANK')){frdl.CONST('MONKEY_PATCH_BLANK',Symbol('MONKEY_PATCH_BLANK'));}
if('$global'!==fnName){Context.Navigator=frdl.CONST('MONKEY_PATCH_BLANK');Context.Window=frdl.CONST('MONKEY_PATCH_BLANK');Context.window=frdl.CONST('MONKEY_PATCH_BLANK');Context.global=frdl.CONST('MONKEY_PATCH_BLANK');Context.console=frdl.CONST('MONKEY_PATCH_BLANK');}else{}
Context.debug=console.log;frdl.MagicHelper.addMethodCallback(thisRunHelper,"run",true,function(Context){Context=thisRunHelper.script.runInContext(Context);return Context;},Context);}
Context=thisRunHelper.run.apply(null,[Context]);if(2===args.length&&closure instanceof Array){if(!frdl.a.defined(args[0]))frdl.a.module.apply(null,[args[0],args[1]]);frdl.a.module(args[0]).run(['$scope','$rootScope','$state','$stateParams',function($scope,$rootScope,$state,$stateParams){$scope.$state=$state;$scope.$stateParams=$stateParams;$rootScope.$state=$state;$rootScope.$stateParams=$stateParams;Context.Plugin.$rootScope=Plugin.root.$scope;Context.Plugin.$scope=Context.$scope=extend($scope,Context.$scope);}]);}else if('function'===typeof closure){if(true===new RegExp("^[A-Za-z$][A-Za-z0-9_$]+$").test(fnName)){if('undefined'===typeof _GenericCheck){_GenericCheck=closure;}else{_GenericCheck=extend(Plugin,_GenericCheck);}
if('undefined'===typeof _GenericCheck_2){_GenericCheck_2=closure;}else{_GenericCheck_2=extend(Plugin,_GenericCheck_2);}
_$GenericCommonFunctions.set(_genericKey,_GenericCheck);_$GenericCommonFunctions.set(_genericKey_2,_GenericCheck_2);}}
stage.emit('save',{Context:Context,Scopes:Scopes});return Plugin;};proto['compile']=function compile(js){var code=js;var cjsRequireRegExp=/\s*require\s?\(\s?["']([^'"\s]+)["']\s?\)/g;var Plugin=this;var filename='plugin://com.webfan.frdlweb/@vm/'+this.path+'/'+'v'+this.VERSION+'/'+new Date().getTime()+'/'+(++_fnCount).toString()+'.js';function parse_compile(Source){var d=[];var lit=frdl.clone(require('webfan/bootcache!lit'));lit.opts.identify_number_literals=true;lit.opts.identify_simple_literals=true;lit.opts.overlook_html_comment_markers=true;var ast=lit.lex(Source);var i=0,t=false,tok=false,Toks=[];var _regex=new RegExp("([^\n\,\;\!\?\s\{\}\=]+)",'i');var requiredUrls=[],defineCalls=[],reqUrl=false,requireCall=false,defineCall=false;for(i=0;i<ast.length-1;i++){Toks=[];tok=ast[i];if(0===tok.type){t=tok.val.split(_regex);t.forEach(function(t,i){if(''!==t&&' '!==t)
Toks.push(t);});if('require('===Toks[Toks.length-1]){if(2===ast[i+1].type){reqUrl=ast[i+1].val.substr(1,ast[i+1].val.length-2);if(')'===ast[i+2].val.substr(0,1)||','===ast[i+2].val.substr(0,1)){requireCall={returnTok:Toks[Toks.length-2],url:reqUrl,AstPosition:i+1};requiredUrls.push(requireCall);}}}else if('define('===tok.val.substr(0,'define('.length)){defineCall={token:tok};defineCalls.push(defineCall);}}}
var CompilerConfig={es6:true,defaultPlugin:'frdlcjs',defineWrap:true};var comment_lines=[];var compiler_comments_directives=[];ast.forEach(function(a,i){if(1!==parseInt(a.type))return;a.val.split(/[\r\n\t]+/).forEach(function(c,j){comment_lines.push(c);if(false!==frdl.strpos(c,'@')){c.replace(/@\s?([\(\)\{\}\.\-_\w^@\>\<]+)\s?:?([\(\)\.\-_\>\<@\s\w]+)/g,function(match,_type,_value,pos,all){var Com={type:_type.trim(),value:_value.trim()};compiler_comments_directives.push(Com);return match+'\n'+JSON.stringify(Com)+'\n';});}});});compiler_comments_directives.forEach(function(d,i){if('no'===d.value.toLowerCase()||'false'===d.value.toLowerCase()||0===parseInt(d.value)){d.value=false;}else if('yes'===d.value.toLowerCase()||'true'===d.value.toLowerCase()||1===parseInt(d.value)){d.value=true;}
var p=frdl.explode('.',d.type);if(p.length===5&&'frdl'===p[0]&&'Frdlweb'===p[1]&&'js'===p[2]&&'Compiler'===p[3]){CompilerConfig[p[4]]=d.value;}});if(false!==CompilerConfig.defaultPlugin){requiredUrls.forEach(function(r,i){var tok=CompilerConfig.defaultPlugin+'!';if(tok!==r.url.substr(0,tok.length)){var nUrl=tok+r.url;ast[parseInt(r.AstPosition)].val=str_replace(requiredUrls[i].url,nUrl,ast[parseInt(r.AstPosition)].val);}});}
Source=lit.generate(ast);if(true!==!!CompilerConfig.es6){var source=Source;}else{var url=filename;var project=new traceur.semantics.symbols.Project(url);traceur.options.sourceMaps=false;traceur.options.debug=true;traceur.options.experimental=false;traceur.options.unstarredGenerators=true;traceur.options.generators=true;traceur.options.privateNameSyntax=true;traceur.options.privateNames=true;traceur.options.types=true;traceur.options.strict=true;var reporter=new traceur.util.ErrorReporter();reporter.reportMessageInternal=function(location,kind,format,args){console.warn(location+'\n '+format+'\n '+args+'\n');};try{var source=Source;var sourceFile=new traceur.syntax.SourceFile(filename,source);project.addFile(sourceFile);var res=traceur.codegeneration.Compiler.compile(reporter,project,false);var options;if(true===traceur.options.sourceMaps){var config={file:url};var sourceMapGenerator=new traceur.outputgeneration.SourceMapGenerator(config);options={sourceMapGenerator:sourceMapGenerator};}
source=traceur.outputgeneration.ProjectWriter.write(res,options);if(true===traceur.options.sourceMaps){var sourceMap=JSON.parse(options.sourceMap);source+='\n//# sourceMappingURL=data:application/json;base64,'+frdl.base64_encode(JSON.stringify(options.sourceMap));}}catch(err){console.warn('Error transpiling from es6 : '+name+'  '+err);var source=Source;}}
return{source:source,requiredUrls:requiredUrls,countDefineCalls:defineCalls.length};}
return parse_compile(code).source;};Object.defineProperty(scope,'ns',{'get':function(){return ns;}});}(frdl));frdl.ns.plugin('org.startpad.types',function(){extend({'VERSION':'0.2.2','isArguments':function(value){return isType(value,'arguments');},'isArray':function(value){return isType(value,'array');},'copyArray':copyArray,'isType':isType,'typeOf':typeOf,'extend':extend,'project':project,'getFunctionName':getFunctionName,'keys':Object.keys||keys,'patch':patch});function patch(){Object.keys=Object.keys||keys;return Plugin;}
function copyArray(arg){return Array.prototype.slice.call(arg);}
var baseTypes=['number','string','boolean','array','function','date','regexp','arguments','undefined','null'];function internalType(value){return Object.prototype.toString.call(value).match(/\[object (.*)\]/)[1].toLowerCase();}
function isType(value,type){return typeOf(value)===type;}
function typeOf(value){if(value===undefined){return'undefined';}
if(value===null){return'null';}
var type=internalType(value);if(baseTypes.indexOf(type)==-1){type=typeof value;}
return type;}
var enumBug=!{toString:true}.propertyIsEnumerable('toString');var internalNames=['toString','toLocaleString','valueOf','constructor','isPrototypeOf'];function extend(dest){var i,j;var source;var prop;if(dest===undefined){dest={};}
for(i=1;i<arguments.length;i++){source=arguments[i];for(prop in source){if(source.hasOwnProperty(prop)){dest[prop]=source[prop];}}
if(!enumBug){continue;}
for(j=0;j<internalNames.length;j++){prop=internalNames[j];if(source.hasOwnProperty(prop)){dest[prop]=source[prop];}}}
return dest;}
function project(obj,props){var result={};if(typeof props=='string'){props=[props];}
for(var i=0;i<props.length;i++){var name=props[i];if(obj&&obj.hasOwnProperty(name)){result[name]=obj[name];}}
return result;}
function getFunctionName(fn){if(typeof fn!=='function'){return undefined;}
var result=fn.toString().match(new RegExp("function\s*(\S+)\s*\("));if(!result){return'';}
return result[1];}
function keys(obj){var list=[];for(var prop in obj){if(obj.hasOwnProperty(prop)){list.push(prop);}}
return list;}});frdl.ns.plugin('org.startpad.funcs',function(){var types=Use('org.startpad.types');extend({'VERSION':'0.3.1','methods':methods,'bind':bind,'decorate':decorate,'create':Object.create||create,'subclass':subclass,'mro':mro,'numericVersion':numericVersion,'monkeyPatch':monkeyPatch,'patch':patch});function numericVersion(s){if(!s){return 0;}
var a=s.split('.');return 10000*parseInt(a[0])+100*parseInt(a[1])+parseInt(a[2]);}
function monkeyPatch(ctor,by,version,patchMethods){if(ctor._patches){var patchVersion=ctor._patches[by];if(numericVersion(patchVersion)>=numericVersion(version)){return;}}
ctor._patches=ctor._patches||{};ctor._patches[by]=version;methods(ctor,patchMethods);}
function patch(){if(!Object.create){Object.create=create;}
monkeyPatch(Function,'org.startpad.funcs',Plugin.VERSION,{'methods':function(obj){methods(this,obj);},'curry':function(){var args=[this,undefined].concat(types.copyArray(arguments));return bind.apply(undefined,args);},'curryThis':function(self){var args=types.copyArray(arguments);args.unshift(this);return bind.apply(undefined,args);},'decorate':function(decorator){return decorate(this,decorator);},'subclass':function(parent,extraMethods){subclass(this,parent,extraMethods);},'mro':function(ctors,extraMethods){ctors.unshift(this);mro(ctors,extraMethods);}});return Plugin;}
function methods(ctor,obj){types.extend(ctor.prototype,obj);}
function bind(fn,self){var presets;if(arguments.length==3&&types.isArguments(arguments[2])){presets=Array.prototype.slice.call(arguments[2],self1);}else{presets=Array.prototype.slice.call(arguments,2);}
function merge(a1,a2){var merged=types.copyArray(a1);a2=types.copyArray(a2);for(var i=0;i<merged.length;i++){if(merged[i]===undefined){merged[i]=a2.shift();}}
return merged.concat(a2);}
return function curried(){return fn.apply(self||this,merge(presets,arguments));};}
function decorate(fn,decorator){function decorated(){return decorator.call(this,fn,arguments,decorated);}
decorator.call(fn,undefined,arguments,decorated);return decorated;}
function create(obj){function Create(){}
Create.prototype=obj;return new Create();}
function subclass(ctor,parent,extraMethods){ctor.prototype=Plugin.create(parent.prototype);ctor.prototype.constructor=ctor;methods(ctor,extraMethods);return ctor;}
function mro(ctors,extraMethods){var parent=ctors.pop().prototype;var ctor;while(ctors.length>0){ctor=ctors.pop();var ctorName=types.getFunctionName(ctor);var proto=Plugin.create(parent);types.extend(proto,ctor.prototype);proto.constructor=ctor;proto[ctorName+'_super']=parent;parent=proto;}
ctor.prototype=parent;methods(ctor,extraMethods);}});frdl.ns.plugin('org.startpad.string',function(){var funcs=Use('org.startpad.funcs');extend({'VERSION':'0.3.0','patch':patch,'format':format,'strip':strip});function patch(){funcs.monkeyPatch(String,'org.startpad.string',Plugin.VERSION,{'format':function formatFunction(){if(arguments.length===1&&typeof arguments[0]==='object'){return format(this,arguments[0]);}else{return format(this,arguments);}}});return Plugin;}
var reFormat=/\{\s*([^\} ]+)\s*\}/g;function format(st,args,re){re=re||reFormat;if(st==undefined){return"undefined";}
st=st.toString();st=st.replace(re,function(whole,key){var value=args;var keys=key.split('.');for(var i=0;i<keys.length;i++){key=keys[i];var n=parseInt(key);if(!isNaN(n)){value=value[n];}else if('object'===typeof value[key]){value=value[key];}else{if('string'!==typeof value[key]){value=value[key];}else{value=value[key];}}
if(value===undefined){return"";}}
return value;});return st;}
function strip(s){return(s||"").replace(/^\s+|\s+$/g,"");}});return frdl.ns;});
/*! $46 Sha1 */
define('Sha1',function(){'use strict';var Sha1={};Sha1.hash=function(msg,utf8encode){utf8encode=(typeof utf8encode=='undefined')?false:utf8encode;if(utf8encode)
msg=Utf8.encode(msg);var K=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];msg+=String.fromCharCode(0x80);var l=msg.length/4+2;var N=Math.ceil(l/16);var M=new Array(N);for(var i=0;i<N;i++){M[i]=new Array(16);for(var j=0;j<16;j++){M[i][j]=(msg.charCodeAt(i*64+j*4)<<24)|(msg.charCodeAt(i*64+j*4+1)<<16)|(msg.charCodeAt(i*64+j*4+2)<<8)|(msg.charCodeAt(i*64+j*4+3));}}
M[N-1][14]=((msg.length-1)*8)/Math.pow(2,32);M[N-1][14]=Math.floor(M[N-1][14]);M[N-1][15]=((msg.length-1)*8)&0xffffffff;var H0=0x67452301;var H1=0xefcdab89;var H2=0x98badcfe;var H3=0x10325476;var H4=0xc3d2e1f0;var W=new Array(80);var a,b,c,d,e;for(var i=0;i<N;i++){for(var t=0;t<16;t++)
W[t]=M[i][t];for(var t=16;t<80;t++)
W[t]=Sha1.ROTL(W[t-3]^W[t-8]^W[t-14]^W[t-16],1);a=H0;b=H1;c=H2;d=H3;e=H4;for(var t=0;t<80;t++){var s=Math.floor(t/20);var T=(Sha1.ROTL(a,5)+Sha1.f(s,b,c,d)+e+K[s]+W[t])&0xffffffff;e=d;d=c;c=Sha1.ROTL(b,30);b=a;a=T;}
H0=(H0+a)&0xffffffff;H1=(H1+b)&0xffffffff;H2=(H2+c)&0xffffffff;H3=(H3+d)&0xffffffff;H4=(H4+e)&0xffffffff;}
return Sha1.toHexStr(H0)+Sha1.toHexStr(H1)+Sha1.toHexStr(H2)+Sha1.toHexStr(H3)+Sha1.toHexStr(H4);};Sha1.f=function(s,x,y,z){switch(s){case 0:return(x&y)^(~x&z);case 1:return x^y^z;case 2:return(x&y)^(x&z)^(y&z);case 3:return x^y^z;}};Sha1.ROTL=function(x,n){return(x<<n)|(x>>>(32-n));};Sha1.toHexStr=function(n){var s="",v;for(var i=7;i>=0;i--){v=(n>>>(i*4))&0xf;s+=v.toString(16);}
return s;};return Sha1;});
/*! $47 navigator/dom-observer-new */
/*!
 insertion-query v1.0.3 (2016-01-20) 
 license:MIT 
 Zbyszek Tenerowicz <naugtur@gmail.com> (http://naugtur.pl/) 

https://github.com/naugtur/insertionQuery
https://github.com/naugtur/insertionQuery/blob/master/insQ.min.js
*/
define('webfan/navigator/dom-observer-new',function(require,exports,module){var DOMObserver=function(HEAD){var sequence=100,rootHeader=(('undefined'!==typeof HEAD)?HEAD:document.head),isAnimationSupported=false,animationstring='animationName',keyframeprefix='',domPrefixes='Webkit Moz O ms Khtml'.split(' '),pfx='',elm=document.createElement('div'),options={strictlyNew:false,timeout:28};if(elm.style.animationName){isAnimationSupported=true;}
if(isAnimationSupported===false){for(var i=0;i<domPrefixes.length;i++){if(elm.style[domPrefixes[i]+'AnimationName']!==undefined){pfx=domPrefixes[i];animationstring=pfx+'AnimationName';keyframeprefix='-'+pfx.toLowerCase()+'-';isAnimationSupported=true;break;}}}
function listen(selector,callback){var styleAnimation,animationName='insQ_'+(sequence++);frdl.each(frdl.$q(selector),function(i,el){if(!!el&&!isTagged(el)){tag(el);callback(el);}});var eventHandler=function(event){if(event.animationName===animationName||event[animationstring]===animationName){if(!isTagged(event.target)){callback(event.target);}}};styleAnimation=document.createElement('style');styleAnimation.innerHTML='@'+keyframeprefix+'keyframes '+animationName+' {  from {  outline: 1px solid transparent  } to {  outline: 0px solid transparent }  }'+"\n"+selector+' { animation-duration: 0.001s; animation-name: '+animationName+'; '+
keyframeprefix+'animation-duration: 0.001s; '+keyframeprefix+'animation-name: '+animationName+'; '+' } ';rootHeader.appendChild(styleAnimation);var bindAnimationLater=setTimeout(function(){document.addEventListener('animationstart',eventHandler,false);document.addEventListener('MSAnimationStart',eventHandler,false);document.addEventListener('webkitAnimationStart',eventHandler,false);},options.timeout);return{destroy:function(){clearTimeout(bindAnimationLater);if(styleAnimation){rootHeader.removeChild(styleAnimation);styleAnimation=null;}
document.removeEventListener('animationstart',eventHandler);document.removeEventListener('MSAnimationStart',eventHandler);document.removeEventListener('webkitAnimationStart',eventHandler);}};}
function tag(el){if(!!el)el.QinsQ=true;}
function isTagged(el){return(options.strictlyNew&&(el.QinsQ===true));}
function topmostUntaggedParent(el){if(isTagged(el.parentNode)){return el;}else{return topmostUntaggedParent(el.parentNode);}}
function tagAll(e){if(!e)return;tag(e);e=e.firstChild;for(;e;e=e.nextSibling){if(e!==undefined&&e.nodeType===1){tagAll(e);}}}
function catchInsertions(selector,callback){var insertions=[];var sumUp=(function(){var to;return function(){clearTimeout(to);to=setTimeout(function(){insertions.forEach(tagAll);callback(insertions);insertions=[];},10);};})();return listen(selector,function(el){if(isTagged(el)){return;}
tag(el);var myparent=topmostUntaggedParent(el);if(insertions.indexOf(myparent)<0){insertions.push(myparent);}
sumUp();});}
this.watchFor=function(selector){if(true===isAnimationSupported&&selector.match(/[^{}]/)){if(true===options.strictlyNew){tagAll(document.body);}
return{every:function(callback){return listen(selector,callback);},summary:function(callback){return catchInsertions(selector,callback);},config:function(opt){for(var o in opt){if(opt.hasOwnProperty(o)){options[o]=opt[o];}}},make:function(){var ROOT=('undefined'!==typeof arguments[0])?arguments[0]:document;return(new DOMObserver(ROOT)).watchFor;}};}else{return false;}};this.config=function(opt){for(var o in opt){if(opt.hasOwnProperty(o)){options[o]=opt[o];}}};};if('object'===typeof document.querySelector('html')){exports=module.exports=(new DOMObserver(document.head)).watchFor;}else{document.addEventListener("DOMContentLoaded",function(event){exports=module.exports=(new DOMObserver(document.head)).watchFor;});}});
/*! $48 navigator/ng-app-module */
define('ngAppModule',['Webfan','webfan/bootcache!bootstrap-4/js/bootstrap-bundle','Webfan.hps.Router','angular-frdl','com.webfan.gui'],function(Webfan,bootstrap,WebfanHpsRouterInstance,angular,UI){'use strict';Webfan.hps.Router.getRoutes(frdl.noop,console.error,true);var AdminCtrl=['$scope','$stateParams','$state','$sce','$ocLazyLoad','$injector','$Webfan',function($scope,$stateParams,$state,$sce,$ocLazyLoad,$injector,$Webfan){$scope.$Webfan=$Webfan;if(0<process.env.DEBUG)console.log('$state',$state);setTimeout(function(){frdl.ready(function(){frdl.each(frdl.$q('*[frdl-script="admin"]',true),function(i,el){$(el).show();});frdl.each(frdl.$q('*[frdl-noscript="admin"]',true),function(i,el){$(el).hide();});});},1000);$scope.tinymceOptions=$Webfan.ui.tinymce.defaults;}];var SystemSoftCtrl=['$scope','$stateParams','$state','$sce','$ocLazyLoad','$injector','$Webfan','$frdl',function($scope,$stateParams,$state,$sce,$ocLazyLoad,$injector,$Webfan,$frdl){if(0<process.env.DEBUG)console.log('$state',$state);$scope.$Webfan=$Webfan;$scope.$frdl=$frdl;}];angular.module('oc.lazyLoad').config(['$ocLazyLoadProvider',function($ocLazyLoadProvider){$ocLazyLoadProvider.config({jsLoader:require,debug:true,events:true,serie:false,cache:true,rerun:false,reconfig:false,modules:Webfan.hps.scriptengine.lazy});}]);angular.module(Webfan.hps.context.ngAppModule,['webfan.gui.prototype','oc.lazyLoad']).config(['$frdlProvider','$WebfanProvider','$sceProvider','$stateProvider','$urlRouterProvider','$locationProvider','$ocLazyLoadProvider',function($frdlProvider,$WebfanProvider,$sceProvider,$stateProvider,$urlRouterProvider,$locationProvider,$ocLazyLoadProvider){var $frdl=$frdlProvider.$get();var $Webfan=$WebfanProvider.$get();if(null===frdl.$q('base',false)){var base=document.createElement('base');base.href='/';frdl.$q('head',false).prepend(base);}
$locationProvider.html5Mode(true);$sceProvider.enabled(false);$stateProvider.state({abstract:true,url:'/',name:'home',resolve:{}}).state({name:'admin',url:'/admin/',views:{"subview1":{templateUrl:location.protocol+'//'+location.host+"/admin/?rewrite_links=for-inline&context=popup",controller:AdminCtrl},"sub-2-top":{templateUrl:location.protocol+'//'+location.host+"/software-center/extensions/system/admin/?rewrite_links=for-inline&context=popup",controller:SystemSoftCtrl}},resolve:{}}).state({name:'admin.settings',url:'settings/',params:{cmd:{dynamic:true}},views:{"subinner":{templateUrl:location.protocol+'//'+location.host+"/?op=fsettings&rewrite_links=for-inline&context=popup",controller:['$scope','$stateParams','$state','$sce','$ocLazyLoad','$injector',function($scope,$stateParams,$state,$sce,$ocLazyLoad,$injector){if(0<process.env.DEBUG)console.log('$state',$state);scrollIntoUiView('subinner');}]}}}).state({name:'admin.templates',url:'templates/',params:{cmd:{dynamic:true}},views:{"subinner":{templateUrl:location.protocol+'//'+location.host+"/?op=ftemplates&rewrite_links=for-inline&context=popup",controller:function($scope,$stateParams,$state,$sce){if(0<process.env.DEBUG)console.log('$state',$state);scrollIntoUiView('subinner');}}}}).state({name:'admin.categories',url:'categories/',params:{cmd:{dynamic:true}},views:{"subinner":{templateUrl:location.protocol+'//'+location.host+"/?op=fkategorien&rewrite_links=for-inline&context=popup",controller:function($scope,$stateParams,$state,$sce){if(0<process.env.DEBUG)console.log('$state',$state);scrollIntoUiView('subinner');}}}}).state({name:'system',url:'/software-center/:ctype/:module/:action/:item//',params:{cmd:{dynamic:true},ctype:{squash:true,value:null},module:{squash:true,value:null},action:{squash:true,value:null},item:{squash:true,value:null}},views:{"subadmin":{templateUrl:location.protocol+'//'+location.host+"/admin/?rewrite_links=for-inline&context=popup",controller:AdminCtrl},"subinner":{templateProvider:['$stateParams','$templateRequest',function($stateParams,$templateRequest){var tplName=location.protocol+'//'+location.host+"/software-center/";if($stateParams.ctype&&'extensions'===$stateParams.ctype&&$stateParams.module&&'system'===$stateParams.module&&$stateParams.action&&'admin'===$stateParams.action){tplName+="?rewrite_links=for-inline&context=popup";return $templateRequest(tplName);}
if($stateParams.ctype)tplName+=$stateParams.ctype+"/";if($stateParams.module)tplName+=$stateParams.module+"/";if($stateParams.action)tplName+=$stateParams.action+"/";if($stateParams.item)tplName+=$stateParams.item+"/";tplName+="?rewrite_links=for-inline&context=popup";return $templateRequest(tplName);}],controller:SystemSoftCtrl}},resolve:{}}).state({name:'admin.comments',url:'comments/',params:{cmd:{dynamic:true}},views:{"subinner":{templateUrl:location.protocol+'//'+location.host+"/?op=fcomments&rewrite_links=for-inline&context=popup",controller:function($scope,$stateParams,$state,$sce){if(0<process.env.DEBUG)console.log('$state',$state);scrollIntoUiView('subinner');}}}}).state({name:'admin.css',url:'css-inline/',params:{cmd:{dynamic:true}},views:{"subinner":{templateUrl:location.protocol+'//'+location.host+"/?op=fCSS&rewrite_links=for-inline&context=popup",controller:function($scope,$stateParams,$state,$sce){if(0<process.env.DEBUG)console.log('$state',$state);scrollIntoUiView('subinner');}}}}).state({name:'admin.navlinks',url:'navlinks/',params:{cmd:{dynamic:true}},views:{"subinner":{templateUrl:location.protocol+'//'+location.host+"/?op=fblogroll&rewrite_links=for-inline&context=popup",controller:function($scope,$stateParams,$state,$sce){if(0<process.env.DEBUG)console.log('$state',$state);scrollIntoUiView('subinner');}}}}).state({name:'admin.oauth',url:'oauth/',params:{cmd:{dynamic:true}},views:{"subinner":{templateUrl:location.protocol+'//'+location.host+"/?op=fapi&task=OAuth&rewrite_links=for-inline&context=popup",controller:function($scope,$stateParams,$state,$sce){scrollIntoUiView('subinner');}}}});$Webfan.module('hps.Router.fsm',function(plug,req){plug.extend({$stateRegistry:$stateProvider});});}]).run(['$frdl','$Webfan','$rootScope','$location','$state',function($frdl,$Webfan,$rootScope,$location,$state){$rootScope.PROTOCOL=location.protocol;$rootScope.HOST=location.host;$rootScope.LANG=frdl.getLang();$rootScope.$Webfan=$Webfan;$rootScope.$frdl=$frdl;$rootScope.alert=$frdl.alert;$rootScope.rpc=$Webfan.hps.rpc;$rootScope.path=function(name,params){return $Webfan.hps.Router.generate(name,params);};}]).run(['$frdl','$Webfan','$rootScope','$location','$state',function($frdl,$Webfan,$rootScope,$location,$state){function navigateStateUrl(){process.nextTick(function(){try{$location.path(location.pathname);if(0<process.env.DEBUG)console.log('$state.currentState',$state.currentState);}catch(e){console.error(e);}});}
navigateStateUrl();$rootScope.$on('$locationChangeStart',function(event,next,current){navigateStateUrl();});$rootScope.$on('$stateChangeStart',function(event,toState){if(0<process.env.DEBUG)console.log('$stateChangeStart',event,toState);frdl.UI.defer();frdl.UI.progress().start();process.nextTick(function(){process.nextTick(function(){setTimeout(function(){process.nextTick(function(){frdl.UI.progress().complete();});},500);});});});$rootScope.$on('$stateChangeSuccess',function(event,toState){if(0<process.env.DEBUG)console.log('$stateChangeSuccess',event,toState);process.nextTick(function(){setTimeout(function(){process.nextTick(function(){frdl.UI.progress().complete();});},500);});});$rootScope.$on('$stateChangeError',function(event,toState,toParams,fromState,fromParams,error){if(0<process.env.DEBUG)console.log('$stateChangeError',error,event,toState,toParams,fromState,fromParams);process.nextTick(function(){setTimeout(function(){process.nextTick(function(){frdl.UI.progress().complete();});},500);});});}]).run(['$rootScope',function($rootScope){document.addEventListener('DOMContentLoaded',function(){frdl.ready(function(){frdl.each(['bootstrap-4/css/bootstrap-min.css','angular-ui-select/ui-select.css','angular-xeditable/xeditable.css'],function(i,uri){if(null===frdl.$q('link[href*="'+uri+'"]',false)){var link=document.createElement('link');link.setAttribute('href',location.protocol+'//'+Webfan.hps.scriptengine.server.host+Webfan.hps.scriptengine.urls.node_modules+uri);link.setAttribute('rel','stylesheet');link.setAttribute('async','true');link.setAttribute('type','text/css');document.querySelector('head').append(link);}});});});var obs,done=false;obs=frdl.watchFor('error,.error,[error]:not([frdl-repared*="rendered-for-error"])').every(function(el){frdl.$j(el).attrAdd('frdl-repared','rendered-for-error');if(obs&&'undefined'!==typeof obs.destroy&&'function'===typeof obs.destroy)obs.destroy();obs=null;if(!!done)return;done=true;$('head').append('<meta name="frdl.inX.dictonary-file" content="{{PROTOCOL}}//{{HOST}}/software-center/modules-api/locales/msg/errors/{{LANG}}/dict.jsonp?callback=frdl.inX.addDict">');});}]).controller('AdminCtrl',['$scope','$element','$compile','$http','$state','$stateParams',function($scope,$element,$compile,$http,$state,$stateParams){$scope.state=$state;$scope.stateParams=$stateParams;$scope.ham={hamToggle:function(event){if(0<process.env.DEBUG)console.log('event',event);if(event)event.stopPropagation();if(event)event.preventDefault();$('.btn-ham').toggle();return false;},toggle:function(event){if(event)event.stopPropagation();if(event)event.preventDefault();$('.admin-nav').toggle();$('.btn-ham').toggle();return false;},show:function(event){if(event)event.stopPropagation();if(event)event.preventDefault();$('.admin-nav').show();$('.btn-ham').toggle();return false;},hide:function(event){if(event)event.stopPropagation();if(event)event.preventDefault();$('.admin-nav').hide();$('.btn-ham').toggle();return false;}};}]);function scrollIntoUiView(uiView,behavior){if(0<process.env.DEBUG)console.log('uiView',uiView);process.nextTick(function(){process.nextTick(function(){if('string'!==typeof behavior){var behavior="smooth";}
frdl.browser.getFrame()(function(){frdl.$q('*[ui-view="'+uiView+'"]',false).scrollIntoView({behavior:behavior,block:"start"});});});});}
return angular.module(Webfan.hps.context.ngAppModule);});
/*! $49 navigator/ui */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! @ frdl.Frdlweb.js.Compiler.defaultPlugin : frdlcjs */
define('com.webfan.gui',['process','EventEmitter','webfan/bootcache!idle','webfan/bootcache!bootstrap-4/js/bootstrap-bundle','webfan/bootcache!angular-ui-bootstrap/angular-ui-bootstrap','Webfan.hps.Router','angular','Webfan','frdl'],function(process,EventEmitter,idle,bootstrap,auibootstrap,Router,angular,Webfan,frdl){"use strict";try{Webfan.hps.Router.info();}catch(e){if(process.env.DEBUG)console.log('Errror:Webfan.hps.Router.info()',e);}
var inX=frdl.inX;var webfan=frdl.webfan;frdl.Device();var __TOK_DEFER__='NG_DEFER_BOOTSTRAP!';frdl.$q('html',false,document).setAttribute('ng-csp','no-inline-style;no-unsafe-eval');frdl.$q('html',false,document).setAttribute('ng-non-bindable','non-bindable');var __WIDGET_REL__='widget';var __APP_NS__='webfan';var __GUID_ND__=__APP_NS__+'.gui'+'.prototype';var preferences={URL_SERACHENGINE_PLUGIN:frdl.route('FRDL.URL.SERACHENGINE.PLUGIN'),URL__MANIFEST_WEBAPP_WEBFAN_MAIN:frdl.route('FRDL.URL.MANIFEST.WEBAPP.WEBFAN.MY')};var jQueryMobile={autoInitializePage:frdl.route('jQueryMobile.autoInitializePage'),pushStateEnabled:frdl.route('jQueryMobile.pushStateEnabled'),ajaxEnabled:frdl.route('jQueryMobile.ajaxEnabled'),linkBindingEnabled:frdl.route('jQueryMobile.linkBindingEnabled'),hashListeningEnabled:frdl.route('jQueryMobile.hashListeningEnabled')};var DBPFX='frdl/WebfanDesktop/';var loaded$UI=false;var reqUI=function(callback,args){if(false!==loaded$UI){return;}
loaded$UI=true;if('object'!==typeof $.ui&&false===$.ui instanceof Promise&&null===frdl.$q('style[src$="jquery-ui.js"]',false)&&null===frdl.$q('style[src$="jquery-ui.min.js"]',false)){if(null===frdl.$q('link[href$="jquery-ui.css"]',false)&&null===frdl.$q('link[href$="jquery-ui.min.css"]',false)){frdl.getCSS(location.protocol+'//'+frdl.route('HOST_CDN_PUBLIC_FRDL')+'/cdn/frdl/flow/libraries/jquery/ui/jquery-ui.min.css');}
require(['webfan/bootcache!libraries/jquery/ui/jquery-ui.min'],function(){callback(args);});}else{callback(args);}};var UI=frdl.UI=frdl.extend({o:{DBPFX:DBPFX,LOCAL_MACHINE_CURRENT_USER:(JSON.parse(frdl.base64_decode(localStorage.getItem(DBPFX+'LOCAL_MACHINE_CURRENT_USER/')))||'anonymous'),Main:{StatusBarStyle:'lightblue'},jQueryMobile:{o:$.extend({loadingMessage:'Loading...',pageLoadErrorMessage:'Error Loading Page',allowCrossDomainPages:true,defaultPageTransition:'fade',overlayTheme:"d",theme:'d',pageLoadErrorMessageTheme:'e'},jQueryMobile)},jQueryUI:{req:function(callback,args){return reqUI(callback,args);}}},defer:function(){frdl.Bootstrap.switchOn(false,true);return this;},load:function(){frdl.Bootstrap.switchOn(true,(frdl.angularBootstrapable.ready+0));return this;},widgetAppData:function(file,component){var s={};try{var c=frdl.explode('\/',component);s._TOK_='*[data-frdl-component$="'+((2===c.length)?c[0]+'\\/'+c[1]:component)+'"]';s.Url=new frdl.Url(file);s.__DIR__=s.Url.getScheme()+'://'+s.Url.getHost()+'/'+s.Url.getDirectory();}catch(er){console.warn(err);}
return s;},browse:function(url,title){var jDialogBox=frdl.$q('*[id="wd-dialogs-box"]',false);if('function'===typeof window.Tabs){window.Tabs().addTab((title||''),url,null,'browser',true,undefined,true);}else if('function'===typeof window.top.Tabs&&'function'===typeof window.top.Tabs().addTab){window.top.Tabs().addTab((title||''),url,null,'browser',true,undefined,true);}else if(null!==jDialogBox){$(jDialogBox).wd_dialogs({loadUrl:url,title:(title||'')});}else{webfan['$win open'](url);}},fetchAngularFrdlForm:function(id,scopeOffset){var sel=('string'===typeof id)?((null!==frdl.$q('*[frdl-form-id="'+id+'"]',false))?frdl.$q('*[frdl-form-id="'+id+'"]',false):frdl.$q(id,false)):id||document;var Form={};frdl.each(frdl.$q('*[ng-model], *[name]',true,sel,false),function(i,el){var a=(el.hasAttribute('ng-model'))?el.getAttribute('ng-model'):el.getAttribute('name');var m=frdl.explode('.',a);if(m.length>1&&null!==m&&!isNaN(scopeOffset)&&scopeOffset>0){m.splice(0,scopeOffset);}else if(m.length>1&&true===scopeOffset||'undefined'===typeof scopeOffset){m=[m[m.length-1]];}
var s=(null!==m)?m.join('.'):a;if('SELECT'===$(el).prop('tagName')){try{Form[s]=el.options[el.selectedIndex].value||null;}catch(err){try{Form[s]=el.options[0].value||null;}catch(err2){Form[s]=null;}}
return true;}
Form[s]=el.value||null;if('TEXTAREA'===$(el).prop('tagName')){Form[s]=frdl.stripslashes(Form[s]);Form[s]=frdl.str_replace(' src="../../../../',' src="/',Form[s]);Form[s]=frdl.str_replace(' data-mce-src="../../../../',' data-mce-src="/',Form[s]);}});return Form;}},new frdl.EventEmitter());(function(UI){function collectionHas(a,b){for(var i=0,len=a.length;i<len;i++){if(a[i]==b)return true;}
return false;}
function findParentBySelector(elm,selector){var all=document.querySelectorAll(selector);var cur=elm.parentNode;while(cur&&!collectionHas(all,cur)){cur=cur.parentNode;}
return cur;}
UI.findParentBySelector=findParentBySelector;UI.collectionHas=collectionHas;UI.defer();UI.emitter=new frdl.EventEmitter();document.addEventListener("mobileinit",function(){$.extend($.mobile,UI.o.jQueryMobile.o);});frdl.hasScope=function(element){return($(element).hasClass('ng-scope'))?true:false;};UI.reduced=function(){return(true===frdl.Dom.isFramed()||true===frdl.Device().isMobile||true===frdl.Device().isTablet||true===frdl.Device().isTouchable||true===frdl.Device().isApp)?true:false;};
/*!
ngprogress 1.1.2 - slim, site-wide progressbar for AngularJS 
(C) 2013 - Victor Bjelkholm 
License: MIT 
Source: https://github.com/VictorBjelkholm/ngProgress 
Date Compiled: 2015-07-27 
*/
var css='';css+='* { margin: 0.1em; margin-left: 0.1em; padding-right: 0.1em; } [ng:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], [ng-cloack], .ng-cloak, .x-ng-cloak  ';css+='{ display: none !important; } ';css+='[webfan-fadeout].img-precloak, [webfan-fadeout].with-ico ';css+='{ background : url(https://cdn.webfan.de/ajax-loader_2.gif) no-repeat 25% 50%; }  ';css+='webfan-model { display: none !important; } error, [error], .error { color:red; display : inline-block; } error { font-size:1.3em; }  ';css+='.editable-hide { display: none !important; } ';css+='.d-rel-inline-block { position:relative; display:inline-block; } ';css+='.f-right { float:right; } .f-left { float:left; } .f-top { float:top; } .f-bottom { float:bottom; } .f-center { float:center; }  ';css+='.admin-nav { list-style : none; margin:3px; padding:1px; display:inline; } ';css+='.btn-ham{ position:absoulute; left:-8px; font-weight:bold; font-size:2em; }  ';css+='.active { font-weight: bold; }  ';css+=' .ngProgress { margin: 0; padding: 0; z-index: 99998; background-color: green; color: green;    box-shadow: 0 0 10px 0;   height: 2px; ';css+='   opacity: 0; -webkit-transition: all 0.5s ease-in-out;';css+='    -moz-transition: all 0.5s ease-in-out;    -o-transition: all 0.5s ease-in-out;    transition: all 0.5s ease-in-out;}';css+='.ngProgress-container {';css+='    position: fixed;';css+='   margin: 0;';css+='    padding: 0;';css+='    top: 0;';css+='    left: 0;';css+='   right: 0;';css+='z-index: 99999;';css+='}  ';css+='';try{var blob=new Blob([css],{type:'text/css'});}catch(e){var bb=new(window.WebKitBlobBuilder||window.MozBlobBuilder);bb.append(css);var blob=bb.getBlob('text/css');}
frdl.getCSS((window.URL||window.webkitURL).createObjectURL(blob));var lock=0;var num=0;frdl.a.module('ngProgress.provider',['ngProgress.directive']).service('ngProgress',function(){'use strict';return['$document','$window','$compile','$rootScope','$timeout',function($document,$window,$compile,$rootScope,$timeout){this.autoStyle=true;this.count=0;this.height='3px';this.$scope=$rootScope.$new();this.color='blue';this.parent=$document.find('body')[0];this.count=0;this.$scope.legendText='';this.getFrame=frdl.browser.getFrame;this.cancelFrame=frdl.browser.cancelFrame;this.progressbarEl=$compile('<ng-progress></ng-progress>')(this.$scope);this.parent.appendChild(this.progressbarEl[0]);this.$scope.count=this.count;var _SELF=this;if(this.height!==undefined){frdl.browser.getFrame()(function(){_SELF.progressbarEl.eq(0).children().css('height',_SELF.height);});}
if(this.color!==undefined){frdl.browser.getFrame()(function(){_SELF.progressbarEl.eq(0).children().css('background-color',_SELF.color);_SELF.progressbarEl.eq(0).children().css('color',_SELF.color);});}
this.intervalCounterId=0;this.start=function(doLock){if(false!==doLock)++lock;this.show();var self=this;frdl.browser.cancelFrame()(this.intervalCounterId);this.intervalCounterId=frdl.browser.getFrame()(function(){if(isNaN(self.count)){frdl.browser.cancelFrame()(self.intervalCounterId);self.count=0;self.hide();}else{self.remaining=100-self.count;self.count=self.count+(0.15*Math.pow(1-Math.sqrt(self.remaining),2));self.updateCount(self.count);}},100*self.count);};this.updateCount=function(new_count){this.$scope.count=new_count;if(!this.$scope.$$phase){this.$scope.$apply();}};this.setHeight=function(new_height){if(new_height!==undefined){this.height=new_height;this.$scope.height=this.height;if(!this.$scope.$$phase){this.$scope.$apply();}}
return this.height;};this.setColor=function(new_color){if(new_color!==undefined){this.color=new_color;this.$scope.color=this.color;if(!this.$scope.$$phase){this.$scope.$apply();}}
return this.color;};this.hide=function(){this.progressbarEl.children().css('opacity','0');var self=this;self.animate(function(){self.progressbarEl.children().css('width','0%');self.animate(function(){self.show();},500);},500);};this.show=function(){var self=this;self.animate(function(){self.progressbarEl.children().css('opacity','1');},100);};this.animate=function(fn,time){if(this.animation!==undefined){$timeout.cancel(this.animation);}
this.animation=$timeout(fn,time);};this.status=function(){return this.count;};this.stop=function(dec){if(!!dec){if(0<lock)--lock;}
frdl.browser.cancelFrame()(this.intervalCounterId);};this.resume=function(){this.start(false);};this.set=function(new_count){this.show();this.updateCount(new_count);this.count=new_count;frdl.browser.cancelFrame()(this.intervalCounterId);return this.count;};this.css=function(args){return this.progressbarEl.children().css(args);};this.reset=function(){frdl.browser.cancelFrame()(this.intervalCounterId);this.count=0;this.updateCount(this.count);return 0;};this.complete=function(nounlock){var THAT=this;if(!nounlock&&0<lock)--lock;if(0<lock)return getFrame()(function(){THAT.complete(true);});this.count=100;this.updateCount(this.count);var self=this;frdl.browser.cancelFrame()(this.intervalCounterId);$timeout(function(){if(!lock||1>lock)self.hide();$timeout(function(){self.count=0;if(0<lock)--lock;self.updateCount(self.count);},500);},1000);return this.count;};this.setParent=function(newParent){if(newParent===null||newParent===undefined){throw new Error('Provide a valid parent of type HTMLElement');}
if(this.parent!==null&&this.parent!==undefined){this.parent.removeChild(this.progressbarEl[0]);}
this.parent=newParent;this.parent.appendChild(this.progressbarEl[0]);};this.getDomElement=function(){return this.progressbarEl;};this.setAbsolute=function(){this.progressbarEl.css('position','absolute');};this.setFixed=function(){this.progressbarEl.css('position','fixed');};this.caption=function(str){if('string'===typeof str){this.$scope.legendText=str;return this;}
return this.legendText;};}];}).factory('ngProgressFactory',['$injector','ngProgress',function($injector,ngProgress){var service={createInstance:function(){++num;return $injector.instantiate(ngProgress);}};return service;}]);frdl.a.module('ngProgress.directive',[]).directive('ngProgress',["$window","$rootScope",function($window,$rootScope){var directiveObj={replace:true,restrict:'E',link:function($scope,$element,$attrs,$controller){$scope.$watch('count',function(newVal){if(newVal!==undefined||newVal!==null){frdl.browser.getFrame()(function(){$scope.counter=newVal;$element.eq(0).children().css('width',newVal+'%');});}});$scope.$watch('color',function(newVal){if(newVal!==undefined||newVal!==null){frdl.browser.getFrame()(function(){$scope.color=newVal;$element.eq(0).children().css('background-color',newVal);$element.eq(0).children().css('color',newVal);});}});$scope.$watch('height',function(newVal){if(newVal!==undefined||newVal!==null){frdl.browser.getFrame()(function(){$scope.height=newVal;$element.eq(0).children().css('height',newVal);});}});},template:'<div class="ngProgress-container"><div class="ngProgress"></div></div>'};return directiveObj;}]);frdl.a.module('ngProgress',['ngProgress.directive','ngProgress.provider']);frdl.a.module('webfan.gui.progressApp',['ngProgress']).controller('progressCtrl',['$scope','ngProgressFactory',function progressCtrl($scope,ngProgressFactory){
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! @ frdl.Frdlweb.js.Compiler.defaultPlugin : frdlcjs */
$scope.progressbar=ngProgressFactory.createInstance();$scope.progressbar.setFixed();$scope.color='blue';$scope.height='3px';$scope.max=NaN;frdl.ready(function(){frdl.each(frdl.$q('*[data-flow-mod="PB"]:not([data-flow-prepared="true"])'),function(i,el){el.setAttribute('data-flow-prepared','true');$scope.progressbar.setParent(el);return false;});});$scope.progressbar.setColor($scope.color);$scope.progressbar.reset();$scope.progressbar.hide();$scope.set=function(new_width){$scope.progressbar.set(new_width);};$scope.setMax=function(max){$scope.max=max;};$scope.p=function(val,max,_set){if('undefined'===typeof max&&!isNaN($scope.max)){max=$scope.max;}else if('undefined'===typeof max){max=(100>=val)?100:val;}else{$scope.setMax(max);}
var per100=Math.floor((100/max)*val);if(false!==_set){$scope.set(per100);}
return per100;};$scope.start=function(){$scope.progressbar.start();};$scope.txt=function(str){$scope.progressbar.caption(str);};$scope.add=function(IncThis){if(isNaN(IncThis))IncThis=1;$scope.progressbar.set($scope.progressbar.status()+IncThis);};$scope.setColor=function(color){$scope.progressbar.setColor(color);};$scope.setHeight=function(new_height){$scope.progressbar.setHeight(new_height);};$scope.end=function(){$scope.progressbar.complete();};$scope.complete=function(){$scope.end();};$scope.stop=function(dec){$scope.progressbar.stop(dec);};$scope.resume=function(){$scope.progressbar.resume();};$scope.reset=function(){$scope.progressbar.reset();};$scope.label=function(action,txt,html,options,theme){if(action==='show'||'hide'===action){var jqmTheme=('string'===typeof theme)?theme:'b';try{if(true===frdl.UI.isMobileTheme){$.mobile.loading(action,$.extend({text:txt,textVisible:true,theme:jqmTheme,html:('string'===typeof html)?html:undefined,draggable:true},('object'===typeof options&&null!==options)?options:{}));}else{if(0<frdl.debug.mode())console.log('ToDo:PROGRESS: label loader no-jqm fallback: '+txt);}}catch(err){console.warn(err);}}else if('taskbar'===action){if('undefined'!==typeof nw&&true===navigator['-webkit-webfan']){var win=nw.Window.get();win.setBadgeLabel(txt);}else{if(0<frdl.debug.mode())console.log('ToDo:PROGRESS: label loader no-badget fallback: '+txt);}}else{$scope.txt(txt);}};(UI||frdl.UI).progress=function(){var args=Array.prototype.slice(arguments);if(1===args.length&&true===args[0]){return $scope.progressbar;}else if(1===args.length&&!isNaN(args[0])){return $scope.contained(args[0]);}
return $scope;};}]);}(UI));(function(){'use strict';var obs=frdl.watchFor('frdl:not([ng-non-bindable="non-bindable"])').every(function(el){el.setAttribute('ng-non-bindable','non-bindable');});}());(function(){'use strict';frdl.watchFor('*[resizable]').every(function(el){UI.o.jQueryUI.req(function(e){$(e).resizable();},el);});}());(function(){'use strict';var obs=frdl.watchFor('*[webfan-tempelement]').every(function(el){var duration=el.getAttribute('webfan-tempelement');if(!isNaN(parseInt(duration))){setTimeout(function(){$(el).hide();$(el).remove();},parseInt(duration));}});}());(function(){var obs=frdl.watchFor('*[webfan-fadeout]').every(function(el){try{var duration=el.getAttribute('webfan-fadeout');if(!isNaN(parseInt(duration))){setTimeout(function(){$(el).fadeOut('slow');},duration);}}catch(err){console.error(err);}});var obs2=frdl.watchFor('*[webfan-fadein]').every(function(el){try{var duration=el.getAttribute('webfan-fadein');if(!isNaN(parseInt(duration))){setTimeout(function(){$(el).fadeIn('slow');},duration);}}catch(err){console.error(err);}});}());(function(){'use strict';var _done_HeaderMetadata=false;var headerMetadata=function(doc){var meta,Tags;if(true===_done_HeaderMetadata)return;_done_HeaderMetadata=true;if('undefined'===typeof doc)doc=document;Tags=frdl.$q('meta[name="flow.component.frdl.webfan.api.url.demo"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('name','flow.component.frdl.webfan.api.url.demo');meta.setAttribute('content',frdl.route('DEMO_API_CLIENT_URL'));frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
Tags=frdl.$q('meta[name="flow.component.frdl.webfan.api.url.demo.alt"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('name','flow.component.frdl.webfan.api.url.demo.alt');meta.setAttribute('content',frdl.route('DEMO_API_CLIENT_URL_ALT'));frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
Tags=frdl.$q('meta[name="apple-mobile-web-app-capable"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('name','apple-mobile-web-app-capable');meta.setAttribute('content','yes');frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
Tags=frdl.$q('meta[name="application-name"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('name','application-name');meta.setAttribute('content',(null!==document.querySelector('title'))?document.querySelector('title').innerHTML:location);frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
Tags=frdl.$q('meta[name="apple-mobile-web-app-status-bar-style"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('name','apple-mobile-web-app-status-bar-style');meta.setAttribute('content',UI.o.Main.StatusBarStyle);frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
Tags=frdl.$q('meta[name="HandheldFriendly"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('name','HandheldFriendly');meta.setAttribute('content','true');frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
Tags=frdl.$q('meta[name="MobileOptimized"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('name','MobileOptimized');meta.setAttribute('content','320');frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
Tags=frdl.$q('meta[name="viewport"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('name','viewport');meta.setAttribute('content','width=device-width, initial-scale=1.0, user-scalable=yes');frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
Tags=frdl.$q('meta[http-equiv="http-equiv"]',true,doc);if(0===Tags.length){meta=frdl.Dom.create('meta');meta.setAttribute('http-equiv','http-equiv');meta.setAttribute('content','IE=11');frdl.Dom.add(meta,frdl.Dom.getTagNames('head')[0]);}
var lnk;if(0===frdl.$q('link[type="application/opensearchdescription+xml"]',true,doc).length){lnk=frdl.Dom.create('link');lnk.setAttribute('rel','search');lnk.setAttribute('title','Webfan: Search');lnk.setAttribute('type','application/opensearchdescription+xml');lnk.setAttribute('href',preferences.URL_SERACHENGINE_PLUGIN);frdl.Dom.add(lnk,frdl.Dom.getTagNames('head')[0]);}};frdl.watchFor('body:not([frdl-prepared*="flow-read-header-metadata"])').every(function(el){frdl.$j(el).attrAdd('frdl-prepared','flow-read-header-metadata');$(document.body).prepend('<div><div><div ng-flows="webfan.gui.progressApp"><div ng-controller="progressCtrl" data-flow-mod="PB"></div></div></div></div>');headerMetadata(document);});if(null!==frdl.$q('link[rel="manifest"]',false)){UI.isWebApp=true;}else{UI.isWebApp=false;}}());(function LoadAngularGUIModule(){'use strict';if('undefined'!==typeof frdl.a&&'function'===typeof frdl.a.module&&'function'===typeof frdl.a.bootstrap){b();}else{process.nextTick(function(){LoadAngularGUIModule();});}
function b(){frdl.a.module('frdl',[]).directive("frdl",function(){return{"scope":{},"restrict":"E","compile":function($compile,element,attrs){var html=element.innerHTML;element.innerHTML='';if('function'===typeof element.setAttribute){element.setAttribute('ng-non-bindable','non-bindable');}
return function($scope,$element){$scope=$element.isolateScope();setTimeout(function(){$element.innerHTML=html;},1);};}};});frdl.a.module(__APP_NS__,['frdl']);(function(){Webfan.module('ui.tinymce',function(plug,req){plug.extend({defaults:{valid_elements:'*[*]',baseURL:'/cdn/application/webfan/node_modules/tinymce',language:'de',relative_urls:false,remove_script_host:false,remove_trailing_brs:true,images_upload_credentials:true,image_list:[{title:'Logo',value:'/show_user_picture.php?pic=logo'},{title:'Favicon',value:'/favicon.ico'}],automatic_uploads:false,image_title:true,image_description:true,image_advtab:true,file_browser_callback_types:'file image media',file_picker_types:'file image media',upload_url:null,plugins:"anchor,autolink,code,codesample,colorpicker,fullscreen,image2,link,media,importcss,wordcount,preview,media,lists,paste,print,save,table,textcolor,template",importcss_append:true,content_css:"/site/site_css/webfan/style.webfan.global.css",style_formats:[{title:"Fetter Text",inline:"b"},{title:"Roter Text",inline:"span",styles:{color:"#ff0000"}},{title:"Roter Header",block:"h1",styles:{color:"#ff0000"}},{title:"webfan-blue",inline:"span",classes:"webfan-blue"},{title:"webfan-red",inline:"span",classes:"webfan-red"},{title:"Tabellen styles"},{title:"Tabelle Reihe 1",selector:"tr",classes:"tablerow1"}],template_replace_values:{},templates:[{title:'Nachrichten Widget',description:'Nachrichten Widget einfügen',content:'<webfan type="widget" name="webfan/nachrichten">[WIDGET]</webfan>'},{title:'Whois Widget',description:'Whois Widget einfügen',url:'<webfan type="widget" name="frdlweb/whois">[WIDGET]</webfan>'}],images_upload_handler:function(blobInfo,success,failure){var callback=function(error,result){frdl.UI.progress().complete();if(!error){success(result);frdl.alert.success(result,60000);}else{failure(error,result);frdl.alert.error(error+result,60000);}};frdl.alert.prompt('<p>'+Webfan.ui.tinymce.upload_module_selector()+'<p>Upload file to:</p>',function(confirmed,path){if(confirmed){frdl.UI.progress().start();setTimeout(function(){Webfan.ui.tinymce.upload_handler.apply(tinymce.activeEditor,[path,blobInfo,function(result){callback(null,result);},function(fehler){callback(fehler);},Webfan.ui.tinymce.upload_url]);},1000);}else{frdl.alert.log('Upload canceled');}},'/img/'+blobInfo.filename(),'webfan-blue');},file_picker_types:'image',file_picker_callback:function(cb,value,meta){return Webfan.ui.tinymce.upload_file_picker_callback.apply(tinymce.activeEditor,[cb,value,meta]);}}});});window.tinyMCEPreInit=Webfan.ui.tinymce.defaults;require(['loadPlain!tinymce/tinymce'],function(tinymceJS){if(0<frdl.debug.mode())console.log('tinymceJS',tinymceJS);var script=document.createElement('script');script.innerHTML=tinymceJS.content;document.querySelector('head').append(script);});frdl.addReadyCheck(function(){return require.defined('webfan/TaskClass');});process.nextTick(function(){frdl.task();});frdl.ready(function(){var obs,start,c=0;start=function start(i){i++;var isTask=false;try{if('undefined'!==typeof frdl.task()&&'undefined'!==typeof frdl.task().serial){frdl.task('Load Taskmanager '+frdl.guid,'schedule',new(frdl.task().serial)(function(resolve,reject){resolve(true);}));isTask=true;}else{isTask=false;}}catch(err){isTask=false;throw err;}
if(true!==isTask){if(i<1000){setTimeout(function(){start(i);},128);}else{throw'Cannot load Taskmanager';}
return;}
obs=frdl.watchFor('textarea[ui-tinymce]:not([frdl-repared*="webfan-tinymce-prepare-imagelist"])').every(function(el){frdl.$j(el).attrAdd('frdl-repared','webfan-tinymce-prepare-imagelist');if(obs&&'undefined'!==typeof obs.destroy&&'function'===typeof obs.destroy)obs.destroy();var taskId='Load Image-Links '+frdl.guid;frdl.each(Webfan.ui.tinymce.upload_filelists,function(i,url){frdl.task(taskId,'schedule',new(frdl.task().serial)(function(resolve,reject){var xhr,formData;if(window.XMLHttpRequest){xhr=new XMLHttpRequest();}else{xhr=new ActiveXObject("Microsoft.XMLHTTP");}
xhr.withCredentials=true;xhr.open('GET',url,true);function onError(){frdl.alert.error('Filelist failed: ('+xhr.status+') '+xhr.statusText);reject(xhr.status+' '+xhr.statusText);}
xhr.onerror=function(){onError();reject(xhr.status);};xhr.onload=function(){var json;if(xhr.status!==200){onError();return;}
try{json=JSON.parse(xhr.responseText);}catch(fehler){console.log('Error: '+fehler);reject(fehler);return;}
frdl.each(json,function(j,u){Webfan.ui.tinymce.config(function(editor){if(-1===editor.settings.image_list.indexOf(u)){editor.settings.image_list.push(u);}});});resolve(tinymce.activeEditor.settings.image_list);};xhr.send();}));});});return start;}(c);});Webfan.module('ui.tinymce',function(plug,req){plug.extend({upload_filelists:[],uploaders:[{title:'Inline HTML',url:null}],upload_url:null,tinySani:function(){function _tinysani(editor){var c=editor.getContent();c=frdl.str_replace(' src="../../../../',' src="/',c);c=frdl.str_replace(' data-mce-src="../../../../',' data-mce-src="/',c);c=frdl.str_replace(' src="../../../',' src="/',c);c=frdl.str_replace(' data-mce-src="../../../',' data-mce-src="/',c);c=frdl.str_replace(' src="../../',' src="/',c);c=frdl.str_replace(' data-mce-src="../../',' data-mce-src="/',c);c=frdl.str_replace(' src="../',' src="/',c);c=frdl.str_replace(' data-mce-src="../',' data-mce-src="/',c);editor.setContent(c);$(editor.getElement()).html(c);}
frdl.each(tinymce.editors,function(i,editor){_tinysani(editor);});_tinysani(tinymce.activeEditor);},upload_handler:function(path,blobInfo,success,failure,url){if(null===Webfan.ui.tinymce.upload_url){Webfan.ui.tinymce.upload_url=Webfan.ui.tinymce.uploaders[0].url;}
if('undefined'===typeof url){var url=Webfan.ui.tinymce.upload_url;}
if('function'===typeof url){url.apply(Webfan.ui.tinymce,[path,blobInfo,success,failure]);}else if('string'===typeof url){frdl.UI.progress().start();var callback=function(error,result){frdl.UI.progress().complete();if(!error){success(result);frdl.alert.success(result,60000);}else{failure(error,result);frdl.alert.error(error+result,60000);}};var xhr,formData;if(window.XMLHttpRequest){xhr=new XMLHttpRequest();}else{xhr=new ActiveXObject("Microsoft.XMLHTTP");}
xhr.withCredentials=true;xhr.open('PUT',url,true);xhr.onload=function(){var json;if(xhr.status!==200&&xhr.status!==201){callback('Upload failed: ('+xhr.status+') '+xhr.statusText);return;}
json=JSON.parse(xhr.responseText);if(!json||typeof json.location!=='string'){callback('Invalid JSON: '+xhr.responseText);return;}
callback(null,json.location);};xhr.error=function(){callback('Upload failed: ('+xhr.status+') '+xhr.statusText);};formData=new FormData();formData.append('file',blobInfo.blob(),blobInfo.filename());xhr.send(formData);}
else{frdl.UI.progress().start();var reader=new FileReader();reader.addEventListener("loadend",function(){success(reader.result);frdl.UI.progress().complete();});reader.readAsDataURL(blobInfo.blob());}},config:function(){var args=Array.prototype.slice.call(arguments),fn=null,Key=null,value=null;if(2===args.length&&'string'===typeof args[0]){fn=function(editor,k,v){editor[args[0]]=args[1];};Key=args[0];value=args[1];}else if(1<=args.length&&'function'===typeof args[0]){fn=args.shift();if(0<args.length&&'string'===typeof args[0])Key=args.shift();if(0<args.length)value=args.shift();}
if('function'===typeof fn){frdl.each(tinymce.editors,function(i,editor){var params=[];params.push(editor);params.push(Key);if(value!==null)params.push(value);fn.apply(tinymce.activeEditor,params);});}},upload_module_selector:function(){var html='',msg='Bitte waehlen Sie %1 %2',inxArgs=['Your','Filesystem'];html+='<h3><span flow-inx-args="'+JSON.stringify(inxArgs)+'" flow-inx-oval="'+frdl.base64_encode(msg)+'">'
+__(msg,inxArgs)
+'</span></h3>';html+='<select frdl-id="upload_module_selector" ';html+=' onchange="Webfan.ui.tinymce.upload_url=Webfan.ui.tinymce.uploaders[parseInt(this.options[this.selectedIndex].value)].url;';html+='localStorage.setItem(\'Webfan.ui.tinymce.upload_url_title\', Webfan.ui.tinymce.uploaders[parseInt(this.options[this.selectedIndex].value)].title);">';frdl.each(Webfan.ui.tinymce.uploaders,function(i,loader){if((null!==loader.url&&Webfan.ui.tinymce.upload_url===loader.url)||(null!==localStorage.getItem('Webfan.ui.tinymce.upload_url_title')&&localStorage.getItem('Webfan.ui.tinymce.upload_url_title')===loader.title)){html+='<option value="'+i+'" selected>';}else{html+='<option value="'+i+'">';}
html+=loader.title;html+='</option>';});html+='</select>';return html;},upload_file_picker_callback:function(cb,value,meta){var input=document.createElement('input');input.setAttribute('type','file');input.setAttribute('accept','image/*');input.style.display='none';document.querySelector('body').append(input);input.onchange=function(){var file=this.files[0];var reader=new FileReader();reader.onload=function(){var id='blobid'+(new Date()).getTime();var blobCache=tinymce.activeEditor.editorUpload.blobCache;var base64=reader.result.split(',')[1];var blobInfo=blobCache.create(id,file,base64);blobCache.add(blobInfo);if('undefined'!==typeof tinymce.activeEditor){tinymce.activeEditor.settings.images_upload_handler.apply(tinymce.activeEditor,[blobInfo,cb,frdl.alert.error]);}
$(input).remove();};reader.readAsDataURL(file);};input.click();}});});var tinyloaded=false;var _to=false;var loadTinymce=function(){if('undefined'===typeof window.tinymce){if(!!_to)clearTimeout(_to);_to=setTimeout(function(){process.nextTick(function(){loadTinymce();});},64);return;}
/*!*
 * Binds a TinyMCE widget to <textarea> elements.
 https://github.com/angular-ui/ui-tinymce/blob/master/LICENSE
 */
try{var tinymceOptions=('undefined'!==typeof Webfan&&'undefined'!==typeof Webfan.ui&&'undefined'!==typeof Webfan.ui.tinymce&&'undefined'!==typeof Webfan.ui.tinymce.defaults)?Webfan.ui.tinymce.defaults:{};}catch(err){var tinymceOptions={};}
frdl.a.module('ui.tinymce',[]).value('uiTinymceConfig',tinymceOptions).directive('uiTinymce',['$rootScope','$compile','$timeout','$window','$sce','uiTinymceConfig','uiTinymceService',function($rootScope,$compile,$timeout,$window,$sce,uiTinymceConfig,uiTinymceService){uiTinymceConfig=uiTinymceConfig||tinymceOptions;if('undefined'!==typeof Webfan&&'undefined'!==typeof Webfan.ui&&'undefined'!==typeof Webfan.ui.tinymce&&'undefined'!==typeof Webfan.ui.tinymce.defaults){uiTinymceConfig=frdl.extend(uiTinymceConfig,Webfan.ui.tinymce.defaults);}
if(uiTinymceConfig.baseUrl){tinymce.baseURL=uiTinymceConfig.baseUrl;}
return{require:['ngModel','^?form'],priority:599,link:function(scope,element,attrs,ctrls){if(!$window.tinymce){return;}
var ngModel=ctrls[0],form=ctrls[1]||null;var expression,options={debounce:true},tinyInstance,updateView=function(editor){var content=editor.getContent({format:options.format}).trim();content=$sce.trustAsHtml(content);ngModel.$setViewValue(content);if(!$rootScope.$$phase){scope.$digest();}};function toggleDisable(disabled){if(disabled){ensureInstance();if(tinyInstance){tinyInstance.getBody().setAttribute('contenteditable',false);}}else{ensureInstance();if(tinyInstance&&!tinyInstance.settings.readonly&&tinyInstance.getDoc()){tinyInstance.getBody().setAttribute('contenteditable',true);}}}
var uniqueId=uiTinymceService.getUniqueId();attrs.$set('id',uniqueId);expression={};frdl.a.extend(expression,scope.$eval(attrs.uiTinymce));var debouncedUpdate=(function(debouncedUpdateDelay){var debouncedUpdateTimer;return function(ed){$timeout.cancel(debouncedUpdateTimer);debouncedUpdateTimer=$timeout(function(){return(function(ed){if(ed.isDirty()){ed.save();updateView(ed);}})(ed);},debouncedUpdateDelay);};})(400);var setupOptions={setup:function(ed){ed.on('init',function(){ngModel.$render();ngModel.$setPristine();ngModel.$setUntouched();if(form){form.$setPristine();}});ed.on('ExecCommand change NodeChange ObjectResized',function(){if(!options.debounce){ed.save();updateView(ed);return;}
debouncedUpdate(ed);});ed.on('blur',function(){element[0].blur();ngModel.$setTouched();if(!$rootScope.$$phase){scope.$digest();}});ed.on('remove',function(){element.remove();});if(uiTinymceConfig.setup){uiTinymceConfig.setup(ed,{updateView:updateView});}
if(expression.setup){expression.setup(ed,{updateView:updateView});}},format:expression.format||'html',selector:'#'+attrs.id};frdl.a.extend(options,uiTinymceConfig,expression,setupOptions);$timeout(function(){if(options.baseURL){tinymce.baseURL=options.baseURL;}
var maybeInitPromise=tinymce.init(options);if(maybeInitPromise&&typeof maybeInitPromise.then==='function'){maybeInitPromise.then(function(){toggleDisable(scope.$eval(attrs.ngDisabled));});}else{toggleDisable(scope.$eval(attrs.ngDisabled));}});ngModel.$formatters.unshift(function(modelValue){return modelValue?$sce.trustAsHtml(modelValue):'';});ngModel.$parsers.unshift(function(viewValue){return viewValue?$sce.getTrustedHtml(viewValue):'';});ngModel.$render=function(){ensureInstance();var viewValue=ngModel.$viewValue?$sce.getTrustedHtml(ngModel.$viewValue):'';if(tinyInstance&&tinyInstance.getDoc()){tinyInstance.setContent(viewValue);tinyInstance.fire('change');}};attrs.$observe('disabled',toggleDisable);var unbindEventListener=scope.$on('$tinymce:refresh',function(e,id){var eid=attrs.id;if(frdl.a.isUndefined(id)||id===eid){var parentElement=element.parent();var clonedElement=element.clone();clonedElement.removeAttr('id');clonedElement.removeAttr('style');clonedElement.removeAttr('aria-hidden');tinymce.execCommand('mceRemoveEditor',false,eid);parentElement.append($compile(clonedElement)(scope));unbindEventListener();}});scope.$on('$destroy',function(){ensureInstance();if(tinyInstance){tinyInstance.remove();tinyInstance=null;}});function ensureInstance(){if(!tinyInstance){tinyInstance=tinymce.get(attrs.id);}}}};}]).service('uiTinymceService',[function(){var UITinymceService=function(){var ID_ATTR='ui-tinymce';var uniqueId=0;var getUniqueId=function(){uniqueId++;return ID_ATTR+'-'+uniqueId;};return{getUniqueId:getUniqueId};};return new UITinymceService();}]);(function(){'use strict';var p=new Promise(function(resolve,reject){(function t(){try{if('undefined'!==typeof frdl.a&&'undefined'!==typeof frdl.a.defined&&'function'===typeof frdl.a.defined){resolve(true);}else{process.nextTick(t);}}catch(e){reject(e);}}());});p.then(function(wahr){frdl.state.emit('module loaded TINYMCE',tinymce);});p.catch(function(err){frdl.alert.error(err);frdl.state.emit('module loaded TINYMCE',tinymce);});}());};UI.o.jQueryUI.req(function($){loadTinymce();},global.jQuery);}());}
frdl.state.once('module loaded TINYMCE',function(){frdl.state.emit('before::AngularCoreModules',frdl.a);frdl.state.emit('after::AngularCoreModules',frdl.a.modules);frdl.a.module(__GUID_ND__,[__APP_NS__,'frdl.prototype.gui','ngTouch','ui.bootstrap','ui.select','ngDragDrop','xeditable','ngSanitize','ui.tinymce']).config(['$compileProvider',function($compileProvider){$compileProvider.imgSrcSanitizationWhitelist(/^\s*((https?|ftp|file|blob|chrome-extension|webfan|frdl|frdlweb|frdl-webkit|app|intent|webfan-intent|wpjct|widget|frdl-css|webkit-webfan|user|webfan-user|help|cli|frdl-cli|filesystem|webfan-sdk|frdl-sdk|webfan-api|frdl-api|api|web+fan|about|debug):|data:image\/)/);$compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file:chrome-extension|webfan|frdl|frdlweb|frdl-webkit|app|intent|webfan-intent|wpjct|widget|frdl-css|webkit-webfan|user|webfan-user|help|cli|frdl-cli|filesystem|webfan-sdk|frdl-sdk|webfan-api|frdl-api|api|web+fan|about|debug):/);}]).factory('widgetElement',function(){return function widgetElement(element,token){return $(element).closest(token);};}).directive('draggable',function($document){return function(scope,element,attr){var startX=0,startY=0,x=0,y=0;element.css({position:'relative',cursor:'pointer'});element.on('mousedown',function(event){startX=event.screenX-x;startY=event.screenY-y;$document.on('mousemove',mousemove);$document.on('mouseup',mouseup);});element.children().on('mousedown',function(event){if('A'===this.tagName||'INPUT'===this.tagName||'TEXT'===this.tagName||'BUTTON'===this.tagName||'SELECT'===this.tagName||'PRE'===this.tagName){event.stopPropagation();try{this.removeEventListener('mousemove',mousemove);this.removeEventListener('mouseup',mouseup);}catch(err){console.warn(err);}}});function mousemove(event){y=event.screenY-startY;x=event.screenX-startX;element.css({top:y+'px',left:x+'px'});}
function mouseup(){$document.off('mousemove',mousemove);$document.off('mouseup',mouseup);}};}).directive('onKeyupFn',function(){return function(scope,elm,attrs){var keyupFn=scope.$eval(attrs.onKeyupFn);elm.bind('keyup',function(evt){scope.$apply(function(){keyupFn.call(scope,evt.which);});});};}).directive('onKeyup',function(){return function(scope,elm,attrs){function applyKeyup(){scope.$apply(attrs.onKeyup);};var allowedKeys=scope.$eval(attrs.keys);elm.bind('keyup',function(evt){if(!allowedKeys||allowedKeys.length==0){applyKeyup();}else{angular.forEach(allowedKeys,function(key){if(key==evt.which){applyKeyup();}});}});};});UI.defer();var __loaded_b=false;frdl.addReadyCheck(function(){return true===__loaded_b;});frdl.state.once('loaded::AngularCoreModules',function(){__loaded_b=true;});require(['ngAppModule'],function(ngAppModule){if(process.env.DEBUG)console.log('ngAppModule',ngAppModule);process.emit('after.angularBootstrap:webfan.gui',frdl.a.modules);frdl.state.emit('loaded::AngularCoreModules',frdl.a.modules);});});}());(function(UI){var isActive=true,EL,UI=UI||frdl.UI;UI.defer();EL=function(){if('complete'!==document.readyState){isActive=true;}else{isActive=false;}
return isActive;};frdl.state.$idle={};frdl.state.$idle.readystate=$(document).idle({onIdle:function(){EL();},onActive:function(){},events:'readystatechange load forceAjaxTick',idle:128,keepTracking:true,startAtIdle:'complete'===document.readyState,recurIdleCall:false});frdl.state.$idle.ENV_JQEL=$(document.createElement('div'));frdl.state.$idle.$ENV=frdl.state.$idle.ENV_JQEL.idle({onIdle:function(){process.emit('idle',{});},onActive:function(){},events:'processTick',idle:32,keepTracking:true,startAtIdle:!!(process.ready+0),recurIdleCall:false});global.addEventListener('readystatechange',function(){frdl.state.$idle.ENV_JQEL.trigger('processTick');});global.addEventListener('forceAjaxTick',function(){frdl.state.$idle.ENV_JQEL.trigger('processTick');});var delay=32,guiFound=false;function initNgFlows(element){var _TO=false,_TO2=false,UI=UI||frdl.UI;function nochmalInitNgFlows(el){if(!!_TO){clearTimeout(_TO);}
if(!!_TO2){clearTimeout(_TO2);}
_TO2=setTimeout(function(){initNgFlows(el);},delay);}
if('complete'!==document.readyState||false!==isActive||true!==frdl.angularBootstrapable()||true!==require.state.$booting){if(!!_TO){clearTimeout(_TO);}
if(!!_TO2){clearTimeout(_TO2);}
_TO=setTimeout(function(){nochmalInitNgFlows(element);},delay);return;}
var moduleElements=('undefined'!==typeof $(element)[0])?$(element)[0].querySelectorAll('*[ng-flows]:not([flow-bootstrap-value="stop"])'):[];if(0===moduleElements.length){process.nextTick(function(){nochmalInitNgFlows(element);});return;}
for(var i=0;i<moduleElements.length;i++){var moduleElement=moduleElements[i];if(true!==frdl.angularBootstrapable()){process.nextTick(function(){nochmalInitNgFlows(element);});return;}
if(moduleElement.hasAttribute('flow-bootstrap-value')){if((new Date()).getTime()-10*1000<parseInt(moduleElement.getAttribute('flow-bootstrap-value'))){continue;}
if((new Date()).getTime()-20*1000>parseInt(moduleElement.getAttribute('flow-bootstrap-value'))){if(moduleElement.getAttribute('ng-flows')===moduleElement.getAttribute('ng-bootstrapped')){moduleElement.setAttribute('flow-bootstrap-value','stop');moduleElement.setAttribute('flow-bootstrap-stopped',(new Date()).getTime());continue;}}
if(moduleElement.getAttribute('ng-flows')===moduleElement.getAttribute('ng-bootstrapped')){continue;}}
if(moduleElement.hasAttribute('ng-flow')){moduleElement.setAttribute('ng-flows',((moduleElement.hasAttribute('ng-flows'))?moduleElement.getAttribute('ng-flows')+',':'')+moduleElement.getAttribute('ng-flow'));continue;}
if(moduleElement.hasAttribute('ng-app')){moduleElement.setAttribute('ng-flows',((moduleElement.hasAttribute('ng-flows'))?moduleElement.getAttribute('ng-flows')+',':'')+moduleElement.getAttribute('ng-app'));continue;}
if(!moduleElement.hasAttribute('ng-flows'))continue;var child=moduleElement.querySelector('[ng-flows], [ng-app], [ng-flow]');if(null!==child){continue;}
var _m=frdl.str_replace(' ','',moduleElement.getAttribute('ng-flows'));if(''===_m)continue;var already=(true===moduleElement.hasAttribute('ng-bootstrapped'))?moduleElement.getAttribute('ng-bootstrapped').split(/\s+|,/):[];var mods=('string'===typeof _m)?_m.split(/\s+|,/):[],module=[];var f=true;frdl.each(mods,function(i,m){if(''===m||'undefined'===typeof m)return true;if(Webfan.hps.context.ngAppModule===m)guiFound=true;try{if(!frdl.a.modules.defined(m))f=false;if(!frdl.a.modules.defined(m))f=false;}catch(err){f=false;if(1<frdl.debug.mode())console.log('AngularJS Module "'+m+'" not loaded yet, skipping bootstrap...');}
if(true===f&&-1===already.indexOf(m)){module.push(m);}});if(false===f){process.nextTick(function(){nochmalInitNgFlows(element);});return;}
if(false===frdl.a.modules.defined(Webfan.hps.context.ngAppModule)){process.nextTick(function(){nochmalInitNgFlows(element);});return;}
if(true!==frdl.angularBootstrapable()){process.nextTick(function(){nochmalInitNgFlows(element);});return;}
var b=(moduleElement.hasAttribute('ng-bootstrapped'))?frdl.html_entity_decode(moduleElement.getAttribute('ng-bootstrapped'))+',':'';$(moduleElement).trigger('beforebootstrap',[module,mods,already]);var _module=[],checks=frdl.explode(',',b);var _module=[],checks=frdl.explode(',',b);frdl.each(module,function(j,_m){if(false===frdl.strpos(b,_m)&&-1===checks.indexOf(_m)&&-1===_module.indexOf(_m)){_module.push(_m);}});var weiter=true,definedModules=[];frdl.each(_module,function(i,m){if(true!==frdl.a.defined(m)){weiter=false;return true;}else{definedModules.push(m)}});if(true===weiter&&definedModules.length>0&&definedModules.length===_module.length){if(moduleElement.hasAttribute('ng-bootstrapped')){var _dms=[];frdl.each(definedModules,function(i,dm){var ix=moduleElement.getAttribute('ng-bootstrapped').split(/\s+|,/).indexOf(dm);if(-1!==ix){}else{_dms.push(dm);}});definedModules=_dms;}
try{frdl.a.bootstrap(moduleElement,definedModules);}catch(err){console.error(err,moduleElement,definedModules,_module);}}else{if(frdl.debug.mode()>9){console.log('(true === weiter && definedModules.length === _module.length)',(true===weiter&&definedModules.length===_module.length),moduleElement,definedModules,_module);}
process.nextTick(function(){nochmalInitNgFlows(element);});return;}
moduleElement.setAttribute('flow-bootstrap-value',(new Date()).getTime());moduleElement.setAttribute('ng-bootstrapped',frdl.htmlentities(b+definedModules.join(',')));if(moduleElement.getAttribute('ng-flows')===moduleElement.getAttribute('ng-bootstrapped')){moduleElement.setAttribute('flow-bootstrap-value','stop');moduleElement.setAttribute('flow-bootstrap-stopped',(new Date()).getTime());}
$(moduleElement).trigger('bootstrapped',[definedModules,mods,_module]);}}
var c=100;UI.Compile=function(delay){if('uncefined'===typeof UI){var UI=frdl.UI;}
var Func=('undefined'!==typeof require&&'function'===typeof require.nextTick)?require.nextTick:(('undefined'!==typeof process&&'function'===typeof process.nextTick)?process.nextTick:setTimeout);if(!!isNaN(delay))var delay=32;c=c+10;if(32>c)c=32;if(5000<c)c=5000;if('complete'!==document.readyState||true!==frdl.angularBootstrapable()){Func(function(){frdl.angularBootstrapable.ready((UI||frdl.UI).Compile);},delay+c);return;}
Func(function(){frdl.angularBootstrapable.ready(function(){frdl.a.element(document).ready(function(){initNgFlows(document);});});},delay+1);};frdl.MagicHelper.emitter.on('ngFlows',function(evData){frdl.angularBootstrapable.ready(function(){frdl.a.element(document).ready(function(){initNgFlows(evData.args[0]);});});});}(UI));(function(){'use strict';frdl.watchFor('intent:not([data-flow-prepared*="intent"])').every(function(el){frdl.$j(el).attrAdd('data-flow-prepared','intent');$(el).wrap(document.createElement('webfan-intent'));});}());window.addEventListener("online",function(){console.log('Welcome back online...!');try{frdl.alert.sucess('ONline');}catch(err){}},true);window.addEventListener("offline",function(){try{frdl.alert.error('OFFline');}catch(err){}
var str="You're now offline. The application may not work as expected until you go online again.";if(0<parseInt(frdl.debug.mode())){alert(str);}
console.log(str);},true);window.addEventListener("beforeunload",function(){UI.emit('exit');},true);window.addEventListener("reload",function(){UI.emit('exit');},true);window.addEventListener('close',function(){UI.emit('exit');});UI.once('exit',function(){try{var debugmode=frdl.debug.mode();if(null===debugmode||undefined===debugmode||isNaN(debugmode))debugmode=0;localStorage.setItem('frdl.debug.mode()',frdl.debug.mode());}catch(err){}});UI.on('exit',sendStateBeacons);function getBeacondata(){return frdl.$getBeacondata(frdl.plug('DOCUMENT.SESSION.BEACON'));}
function sendStateBeacons(){frdl.state.emit('Session:sendBeacon',getBeacondata());}
UI.messageWindowReload=function(type,html,url){if('undefined'===typeof type){var type='success';}
if('undefined'===typeof html){var html='';}else if(html instanceof Array){html=html.join('<br />');}
if('undefined'===typeof url){var url=location.href;}
$('button[frdl-id="reload-close-btn"]').trigger('click');frdl.cbs.reload=function(u){location.href=u;};frdl.alert.log(html+'<p><button onclick="frdl.cbs.reload(\''+url+'\');">reload page</button> <button frdl-id="reload-close-btn">close</button></p>',type,(60000*30),function(){},[]);};(function(baseObj,funcName,mutex){'use strict';function _getManifestUrl(){var manifestMetaTag=frdl.$q('link[rel="manifest"]',false);var r=(null!==manifestMetaTag)?manifestMetaTag.getAttribute('href'):false;return r;}
function WebApp(){var _fetchedFromUrl=false;var _manifestUrl=false;var args=Array.prototype.slice.call(arguments);var load=function(){var args=Array.prototype.slice.call(arguments);if(0===args.length){return load.apply(this,[_getManifestUrl()]);}else if(1===args.length&&'string'===typeof args[0]){_manifestUrl=('string'===typeof args[0])?args[0]:undefined;return new Promise(function(resolve,reject){if('string'!==typeof _manifestUrl){_fetchedFromUrl=false;_manifestUrl=undefined;reject(false);return;}
$.ajax({url:_manifestUrl,crossDomain:true,cache:true,headers:{'X-Requested-With':'XMLHttpRequest'},type:'GET',dataType:'JSON',data:{}}).done(function(response){_fetchedFromUrl=true;resolve(response);}).fail(function(jqXHR,textStatus){_fetchedFromUrl=true;reject(false);if(1<frdl.debug.mode())frdl.alert.error('Could not get manifest: '+jqXHR.status);}).always(function(){_manifestUrl=args[0];});});}else if(1===args.length&&null!==args[0]&&'object'===typeof args[0]){_fetchedFromUrl=false;return args[0];}};var manifest=load.apply(this,args);if(true===manifest instanceof Promise){manifest.then(function(result){manifest=result;},function(errResult){if(1<frdl.debug.mode())console.log('No WebApp Manifest file: '+errResult);manifest=errResult;});}
this.getManifest=function(){return manifest;};Object.defineProperty(this,'manifest',{get:function(){return manifest;},set:function(val){console.deprecated('Do not set WebApp.manifest manually!');}});Object.defineProperty(this,'manifestUrl',{get:function(){return{onPageUrl:_getManifestUrl(),fetched:_fetchedFromUrl,fetchedFrom:_manifestUrl,inManifest:manifest.manifestUrl};},set:function(val){console.deprecated('Do not set WebApp.manifestUrl manually!');}});}
WebApp.prototype.getManifestUrl=function(){return this.manifestUrl;};var myWebApp=new WebApp();try{Object.defineProperty(mutex,'myWebApp',{get:function(){return myWebApp;},set:function(val){console.deprecated('Do not set WebApp.myWebApp manually!');}});}catch(err){if(Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__){mutex.__defineGetter__('myWebApp',function(){return myWebApp;});mutex.__defineSetter__('myWebApp',function(val){console.deprecated('Do not set WebApp.myWebApp manually!');});}else{console.deprecated('Missing Object.defineProperty and Object.prototype.__defineGetter__ - Fallback to UNSAFE configuration readable!');mutex.myWebApp=myWebApp;}}
baseObj[funcName||"WebApp"]=WebApp;}(frdl,'WebApp',frdl.webfan));(function(){'use strict';var renderFuncs={'forMobile':function(){var initialPageWrap=frdl.$q('body *[data-role="page"]');if(0===initialPageWrap.length){$('body').wrapInner('<div data-dom-cache="false" role="page" data-frdl-mod="nodesktop" id="nodesktop-'+frdl.str_replace('.','-',new frdl.Url().getHost())+'-'+frdl.Sha1.hash(new frdl.Url().urlMakeNew())+'-'+Sha1.hash(document.title)+'" style="top:0px;left:0px;right:0px;bottom:0px;height:auto;width:auto;"></div>');}
console.log('Prepare for jqm');if(true===UI.isMobileTheme){console.warn('REDUNDANT: Prepare for jqm');return;}
frdl.watchFor('a[href*=":\/\/"]:not([data-flow-prepared-frdl-ajax-link-boddystripped*="true"]):not([frdl-ajax-link-boddystripped])').every(function(el){el.setAttribute('data-flow-prepared-frdl-ajax-link-boddystripped','true');$(el).attr('rel','external');});setTimeout(function(){$.mobile.pushStateEnabled=false;$.mobile.hashListeningEnabled=false;frdl.watchFor('a[ui-sref]').every(function(el){setTimeout(function(){frdl.$j(el).attrAdd('data-flow-prepared','true');$(el).attr('href',frdl.str_replace('##','#',$(el).attr('href'))).attr('href',frdl.str_replace('##','#',$(el).attr('href'))).attr('href',frdl.str_replace('##','#',$(el).attr('href'))).attr('href',frdl.str_replace('#','',$(el).attr('href'))).attr('href','#'+$(el).attr('href'));},750);});},250);$('*[data-role="page"]').page({create:function(event,ui){$.mobile.pushStateEnabled=false;$.mobile.hashListeningEnabled=false;$.mobile.initializePage();$.mobile.loading('hide');}});$('*[data-role="page"]').trigger('create');setTimeout(function(){$.mobile.pushStateEnabled=false;$.mobile.hashListeningEnabled=false;},800);UI.isMobileTheme=true;},'forMinimal':function(){$('*[data-mod-framed="no"]').hide();$('*[data-mod-framed="yes"]').show();$('*[data-wd-onreduce="hide"]').hide();},'forFullscreen':function(){$('*[data-mod-framed="no"]').show();$('*[data-mod-framed="yes"]').hide();},
/*!
     Roko C. Buljan
     http://stackoverflow.com/questions/6258521/clear-icon-inside-input-text
    */
'addClearableInputs':function(){console.deprecated('Using the jQuery plugin is prefered instead of addClearableInputs fn!');frdl.Dom.createCSSClass('.flow-clearable',"background: #fff url('data:image/gif;base64,R0lGODlhBwAHAIAAAP///5KSkiH5BAAAAAAALAAAAAAHAAcAAAIMTICmsGrIXnLxuDMLADs=') no-repeat right -10px center;  border: 1px solid #999;  padding: 3px 18px 3px 4px;   border-radius: 3px; transition: background 0.4s;");frdl.Dom.createCSSClass('.flow-clearable.x',"background-position: right 5px center;");frdl.Dom.createCSSClass('.flow-clearable.onX',"cursor: pointer;");frdl.Dom.createCSSClass('.flow-clearable.-ms-clear',"display: none; width:0; height:0;");function tog(v){return v?'addClass':'removeClass';}
$(document).on('input','.flow-clearable',function(){$(this)[tog(this.value)]('x');}).on('mousemove','.x',function(e){$(this)[tog(this.offsetWidth-18<e.clientX-this.getBoundingClientRect().left)]('onX');}).on('touchstart click','.onX, .x',function(ev){ev.preventDefault();$(this).removeClass('x onX').val('').change();});$('*[data-clear-btn="true"]').addClass("flow-clearable");$('.flow-clearable').trigger("input");},'inputSearchPolyfill':function(){
/*!
* https://github.com/dwiyatci/jquery-inputsearch
* License: WTFPL https://raw.githubusercontent.com/dwiyatci/jquery-inputsearch/master/WTFPL-LICENSE.txt
            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
                    Version 2, December 2004


* @jquery.inputsearch : Copyright (C) 2004 Sam Hocevar <sam@hocevar.net>

 Everyone is permitted to copy and distribute verbatim or modified
 copies of this license document, and changing it is allowed as long
 as the name is changed.

            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

  0. You just DO WHAT THE FUCK YOU WANT TO.
*/
(function($){$.fn.inputSearch=function(options){var elements=this,searchIconImgData='data:image/png;base64,iVBORw0KGgoAAAANSUhEUg'+'AAABAAAAAQCAQAAAC1+jfqAAAASklEQVR42mNwZcAPGe'+'itQMn1PxwqYVMAktAHQxALqwJ9V15XDiDWx62AA0hzYF'+'egjt8ESajjcLhBCsn9WH0BEdTBHQ4gackBigsAp89pbW'+'KQMm4AAAAASUVORK5CYII=',clearIconImgData='data:image/png;base64,iVBORw0KGgoAAAANSUhEUg'+'AAABAAAAAQCAQAAAC1+jfqAAAAdklEQVR42pWRPQ7AIA'+'iFuVknFk9hwuxZXBwdvCkFa9X607R5Azzel6gICO+C74'+'DBhFyUxA2Aq+Et1wNmilWmATEPSDqtIJ3W2AAugUb0nP'+'QAl5CqnwCbnd0BV2hXR4TlJUMDcPlM7BdFU0zjqg/0Nf'+'Ti/n/WRic9QaXT/imcNgAAAABJRU5ErkJggg==';options=$.extend({searchIconVisible:true,onClear:$.noop},options);var observer=null;if(window.MutationObserver){observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){$(mutation.target).data().refreshWrapperVisibility();});});}
return elements.filter('input').each(function(){var wrapper=$('<div>').addClass('jis-input-wrapper').css({display:'inline',position:'relative'});var icon=$('<img>').attr({src:searchIconImgData,'class':'jis-icon-search'}).css({position:'absolute',width:16,height:16,visibility:options.searchIconVisible?'visible':'hidden'}).on('click',function(){if($(this).hasClass('jis-icon-clear')){i.val('').focus().triggerHandler('input');options.onClear();}});var i=$(this).data({refreshWrapperVisibility:function(){i.parent('.jis-input-wrapper').css({display:i.css('display'),visibility:i.css('visibility'),opacity:i.css('opacity')});}}).on('input',function(){var query=$(this).val(),src=icon.attr('src');if(query.length>0){if(src!==clearIconImgData){icon.attr('src',clearIconImgData).toggleClass('jis-icon-search',false).toggleClass('jis-icon-clear',true).css({cursor:'pointer',visibility:'visible'});}}else{if(src!==searchIconImgData){icon.attr('src',searchIconImgData).toggleClass('jis-icon-search',true).toggleClass('jis-icon-clear',false).css({cursor:'auto',visibility:options.searchIconVisible?'visible':'hidden'});}}}).wrap(wrapper).after(icon);var visible=i.is(':visible');i.show();var gutter=4,paddingRight=icon.outerWidth()+gutter,width=parseFloat(i.css('width')),adjustedWidth=width-paddingRight,position=i.position();i.css({width:adjustedWidth,paddingRight:paddingRight});icon.css({top:position.top+(gutter/2),left:position.left+adjustedWidth+gutter});var _I=function(){try{if('function'===typeof i.data().refreshWrapperVisibility)i.data().refreshWrapperVisibility();}catch(err){clearInterval(_I);}};setInterval(_I,200);if(!visible){i.hide();}
i.triggerHandler('input');});};}(jQuery));frdl.watchFor('*[data-search-btn="true"]:not([data-flow-prepared*="true"])').every(function(el){frdl.$j(el).attrAdd('data-flow-prepared','true');$(el).inputSearch({searchIconVisible:true});});frdl.watchFor('*[data-clear-btn="true"]:not([data-flow-prepared*="true"])').every(function(el){frdl.$j(el).attrAdd('data-flow-prepared','true');$(el).inputSearch({searchIconVisible:false});});},'default':function(){}};UI.rendering=function(o){if('string'===typeof o){o={action:o};}else if('function'===typeof renderFuncs[o.action]){o=o;}else{o={action:'default'};}
renderFuncs[o.action]();return UI;};UI.rendering('inputSearchPolyfill');}());(function(){var Hash=frdl.Hash;function h(){if('undefined'===typeof frdl.Hash||'function'!==typeof frdl.Hash.pushState){setTimeout(function(){h();},1);return;}
frdl.Hash.pushState(false);frdl.Hash.on('([A-Za-z0-9_-]+)=([A-Za-z0-9_-]+)',function(path,parts){var k=parts[1];var v=parts[2];if('DEBUG'===k){frdl.debug.mode(v);}});}
if(frdl.Hash){h();}else{require.state.once('resolved frdl.Hash',function(){h();});}}());(function(){frdl.watchFor('img[flow-image-load-url]:not([src]), img[data-flow-image-load-url]:not([src])').every(function(el){if(el.hasAttribute('data-flow-image-load-url')&&!el.hasAttribute('flow-image-load-url')){el.setAttribute('flow-image-load-url',el.getAttribute('data-flow-image-load-url'));el.removeAttribute('data-flow-image-load-url');}
var url=el.getAttribute('flow-image-load-url');if('data:'===url.substr(0,'data:'.length)){el.setAttribute('src',url);return;}
var p=frdl.getImageDataUri(url);p.then(function(r){el.setAttribute('src',r.uri);},function(err){console.error(err);});});}());(function(){'use strict';function canonicalAttributes(el){var j=0,names=['ng-app','ng-modules','ng-module','data-ng-modules','data-ng-module','ng-flow','data-ng-flow','data-ng-flows'],a=el.attributes;if(!!a){for(j=0;j<a.length;j++){var attr=a[j];if(names.indexOf(attr.name.toLowerCase())!==-1){if('ng-flows'!==attr.name){el.removeAttribute(attr.name);}
frdl.$j(el).attrAdd('ng-flows',attr.value,',');}}}
return true;}
frdl.watchFor('[ng-app], [ng-modules], [ng-module], [data-ng-modules], [data-ng-module], [ng-flow], [data-ng-flow], [data-ng-flows]').every(canonicalAttributes);}());(function(){frdl.watchFor('iframe:not([frdl-nwtrusted])').every(function(el){frdl.$j(el).attrAdd('data-flow-prepared','true');$(el).attr('nwdisable','true').attr('nwfaketop','true');});frdl.watchFor('a[frdl-browse-to]:not([data-flow-prepared*="frdl-browse-to"])').every(function(el){frdl.$j(el).attrAdd('data-flow-prepared','frdl-browse-to');el.addEventListener('click',function(ev){ev.stopPropagation();ev.preventDefault();UI.browse(this.getAttribute('frdl-browse-to'),(this.hasAttribute('title'))?this.getAttribute('title'):frdl.strip_tags(this.innerHTML));});el.setAttribute('href','javascript:;');});frdl.watchFor('.no-js:not([frdl-prepared*="js-class"])').every(function(el){$(el).attr('frdl-prepared','js-class');$(el).removeClass('no-js').addClass('js');});frdl.watchFor('noscript').every(function(el){$(el).remove()});}());(function(){'use strict';var obs=frdl.watchFor('webfan[type="widget"]:not([data-frdl-component-initiated-rewrite-_canonical_2_*="true"]), *[type^="application/vnd.frdl.flow.widget."]:not([data-frdl-component-initiated-rewrite-_canonical_2_*="true"]), *[type$=".wgt"]:not([data-frdl-component-initiated-rewrite-_canonical_2_*="true"])').every(function(el){frdl.$j(el).attrAdd('data-frdl-component-initiated-rewrite-_canonical_2_','true');var n=el.getAttribute('name');if(''===new frdl.Url(n).getScheme()){$(el).html('<webfan-widget data-frdl-component="widget://example.com/'+el.getAttribute('name')+'"></webfan-widget>');}else{$(el).html('<webfan-widget data-frdl-component="'+el.getAttribute('name')+'"></webfan-widget>');}
return true;});frdl.watchFor('*[data-frdl-component^="flow:\/\/"]:not([data-frdl-component-initiated-rewrite-_flow_="true"])').every(function(el){console.deprecated('The widgets flow:// protocol is deprecated! ('+el.getAttribute('data-frdl-component')+')');el.setAttribute('data-frdl-component',frdl.str_replace('flow://components/','widget://example.com/',el.getAttribute('data-frdl-component')));el.setAttribute('data-frdl-component',frdl.str_replace('flow://','widget://',el.getAttribute('data-frdl-component')));el.setAttribute('data-frdl-component-initiated-rewrite-_flow_','true');});frdl.watchFor('error:not([frdl-prepared*="error-alert"]), webfan-error:not([frdl-prepared*="error-alert"])').every(function(el){frdl.$j(el).attrAdd('frdl-prepared','error-alert');if($(el).is(":visible")){frdl.alert.error('<span style="float:right;">[<u>close</u>]</span>'+el.innerHTML,0);}});}());$(document).ready(function(){if(navigator.userAgent.match(/(iPad|iPhone|iPod)/i)){$('label[for]').each(function(label){label.observe('click',function(){var el=$(this).readAttribute('for');var type=$(el).readAttribute('type');if('radio'==type||'checkbox'==type){$(el).writeAttribute('selected',!$(el).readAttribute('selected'));}else{$(el).focus();}});});}
if(navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));document.getElementsByTagName("head")[0].appendChild(msViewportStyle);}});(function(){$(window).on("mobileinit",function(){$.extend($.mobile,UI.o.jQueryMobile.o);});frdl.ready(function(){if(true===UI.reduced()){UI.rendering('forMinimal');}else{UI.rendering('forFullscreen');}
if(true===frdl.Device().isMobile||true===frdl.Device().isTablet){UI.rendering('forMobile');}});}());return UI;});
/*! $50 navigator/webfan-nav */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! @ frdl.Frdlweb.js.Compiler.defaultPlugin : frdlcjs */
define('webfan/navigator/webfan-nav',['EventEmitter','frdl','com.webfan.gui'],function(EventEmitter,frdl,UI){frdl.watchFor('*[flow-nav-horizontal]:not([data-flow-prepared*="flow-nav-horizontal"]), *[flow-nav-horizontal]:not([data-flow-prepared*="flow-nav-horizontal"]) > *, *[flow-nav-horizontal]:not([data-flow-prepared*="flow-nav-horizontal"]) > * > *').every(function(el){el.style.display='inline-block';frdl.$j(el).attrAdd('data-flow-prepared','flow-nav-horizontal');});frdl.watchFor('a[href]:not([data-flow-prepared*="frdl-angularjs-patch-href"]):not([target]):not([ui-sref]):not([href*="javascript:"]):not([href="#"])').every(function(el){frdl.$j(el).attrAdd('data-flow-prepared','frdl-angularjs-patch-href');if(!el.hasAttribute('target')){el.setAttribute('target','_self');}});frdl.watchFor('a[frdl-ajax-link-boddystripped]:not([data-flow-prepared*="frdl-ajax-link"])').every(function(element){frdl.$j(element).attrAdd('data-flow-prepared','frdl-ajax-link');$(element).on('click',function(ev){var el=ev.target;if(!el.hasAttribute('href')){return true;}
if('undefined'===window.history.pushState){return true;}
if(el.hasAttribute('target')&&'_blank'===el.getAttribute('target')){return true;}
if(el.hasAttribute('onclick')||'javascript:;'===el.getAttribute('href')){return true;}
if(el.hasAttribute('frdl-ajax-gostate')||'noajax'===el.getAttribute('frdl-ajax-gostate')){return true;}
var url=el.getAttribute('href');var uHost=new frdl.Url(url).getHost();if(''!==uHost&&new frdl.Url().getHost()!==uHost){return true;}
ev.preventDefault();var __p=false;try{frdl.UI.progress().start();__p=true;}catch(err){__p=false;}
if(true===frdl.Device().isMobile||true===frdl.Device().isTablet){$.mobile.loading('show');}
var dest=null;var destMeta=document.querySelector('meta[name="frdl-ajax-link-boddystripped.destination"]');if(null!==destMeta){dest=destMeta.getAttribute('content');}
var parentDest=UI.findParentBySelector(el,'*[frdl-ajax-link-rewrite-destination]');if(!el.hasAttribute('frdl-ajax-destination')&&null!==parentDest){el.setAttribute('frdl-ajax-destination','*[frdl-destination-id=\''+parentDest.getAttribute('frdl-destination-id')+'\']');el.setAttribute('frdl-ajax-gostate',parentDest.getAttribute('frdl-ajax-gostate'));}
var fallBack=function(){location.href=url;};var OnUnload=function(_e){_e.preventDefault();return false;};window.addEventListener('beforeunload',OnUnload);el.addEventListener('click',OnUnload);$.ajax({withCredentials:true,url:url,crossDomain:true,cache:true,headers:{'X-Requested-With':'XMLHttpRequest','X-Flow-Ajax-Link-Boddystripped':'destination="'+frdl.clone(dest)+'";','X-Flow-Ajax-Link-Rewrite-Destination':(el.hasAttribute('frdl-ajax-destination'))?el.getAttribute('frdl-ajax-destination'):frdl.clone(dest)},type:'GET',dataType:'html'}).done(function(html){if(null!==parentDest&&null===dest){dest=parentDest.getAttribute('frdl-ajax-link-rewrite-destination');}
if(el.hasAttribute('frdl-ajax-destination')){dest=document.querySelector(el.getAttribute('frdl-ajax-destination'));}
if(null===dest){dest=document.querySelector('body *[role="page"]');};if(null===dest){dest=document.querySelector('body *[role="main"]');};if(null===dest){dest=document.querySelector('body .content');};if(null===dest){dest=document.querySelector('body .content, .ui-content');};if(null===dest){dest=document.querySelector('body section[role^="nav"]');};if(null===dest){dest=document.querySelector('body section');};if(null===dest){dest=document.querySelector('body div');};if(1==1){try{$(dest).children().hide();$(dest).children().remove();$(dest).html(html);frdl.ngFlows(dest);UI.load();frdl.each(frdl.$q('button[class="webfan-nav-btn-ham"]'),function(i,e){if(''!==e.innerHTML){if(null!==frdl.$q('ul[data-flow-prepared="flow-nav-horizontal"]',false,e.parentNode)){$(e).trigger('click');}}});}catch(FError){console.log('FError',FError);console.log('dest',dest);console.log('html',html);if(!process.env.DEBUG){fallBack();}else{frdl.alert.error(FError);}}}else{try{$(dest).html(html);}catch(FError){console.log('FError',FError);fallBack();}}
try{dest.scrollIntoView();}catch(err){$(document).scrollTop(0);}
if(true===frdl.Device().isMobile||true===frdl.Device().isTablet){$(dest).trigger('create');$.mobile.loading('hide');}
if(el.hasAttribute('frdl-ajax-destination')&&(!el.hasAttribute('frdl-ajax-inherit')||'false'!==el.getAttribute('frdl-ajax-inherit'))){(('string'===typeof dest)?document.querySelector(dest):dest).setAttribute('frdl-ajax-link-rewrite-destination',el.getAttribute('frdl-ajax-destination'));(('string'===typeof dest)?document.querySelector(dest):dest).setAttribute('frdl-destination-id',frdl.guid);if(el.hasAttribute('frdl-ajax-gostate')){(('string'===typeof dest)?document.querySelector(dest):dest).setAttribute('frdl-ajax-gostate',el.getAttribute('frdl-ajax-gostate'));}else{(('string'===typeof dest)?document.querySelector(dest):dest).setAttribute('frdl-ajax-gostate','false');}}
try{var newTitle=$(dest).find('meta[name="document.title"]').getAttribute('content');}catch(err){var newTitle=undefined;}
if('undefined'===typeof newTitle){try{var newTitle=document.querySelector('meta[name="document.title"]').getAttribute('content');}catch(err){var newTitle=frdl.explode('-',$('title').text())[0];}}
if('undefined'!==typeof newTitle){$(document.querySelector('title')).text(newTitle);}
if(!el.hasAttribute('frdl-ajax-destination')||(el.hasAttribute('frdl-ajax-gostate')&&'true'===el.getAttribute('frdl-ajax-gostate'))){var newState={name:url,};if(history.state&&'undefined'!==typeof history.state.url&&url===history.state.url){history.replaceState(newState,newTitle,url);}else{history.pushState(newState,newTitle,url);}}
if(!!__p)frdl.UI.progress().complete();}).fail(function(jqXHR,textStatus){var str='Cannot frdl-ajax-link-boddystripped: '+url+' '+jqXHR.status+' '+textStatus;if(!!__p)frdl.UI.progress().stop();if(1<frdl.debug.mode()&&frdl.alert)frdl.alert.error(str,5);console.warn(str);fallBack();}).always(function(){window.removeEventListener('beforeunload',OnUnload);el.removeEventListener('click',OnUnload);frdl.UI.Compile(1);frdl.ready(function(){setTimeout(function(){frdl.translate(frdl.getLang());},128);});});return false;});$(element).on('touch',function(ev){$(element).trigger('click',ev);});});frdl.ready(function(){'use strict';var style=document.createElement('style');style.innerHTML=".nolist { list-style : none;}";style.innerHTML+=".webfan-nav-btn-ham{ position:relative; display:inline; left:-8px; min-width:32px; min-height:32px; font-size:1.6em;";style.innerHTML+="background : url(https://cdn.webfan.de/icons/icons-3/icon_settings.gif) no-repeat; background-position: 50% 50%;}";style.innerHTML+="@media (max-width: 800px) {  .webfan-nav-btn-ham{    font-size:1.5em;  }} ";style.innerHTML+="@media (max-width: 600px) {  .webfan-nav-btn-ham{    font-size:1.6em;  }} ";style.innerHTML+="@media (max-width: 320px) {  .webfan-nav-btn-ham{    font-size:1.7em;  }}  ";document.head.appendChild(style);ready();function ready(o){if('undefined'===typeof customElements){require(['feature!customElements'],function(CustomElements){Component(global,CustomElements);});}else{Component(global,customElements);}}
function Component(global,CustomElements){var _TPL='';var template={'tpl':_TPL,render:function(item,tpl){if('undefined'===typeof tpl){var tpl=template;}
return tpl.tpl;}};var templates={};var CLASSNAME='WebfanNav';var APPNAME='webfan.gui.navbar.menue';var CTRLNAME='NavCtrl';var MINIMIZEWIDTH=800;var SUMMARYWIDTH=800;var NOULPROCESS=':not([webfan-nav-ul-process="false"])';var NOLIPROCESS=':not([webfan-nav-li-process="false"])';var NOAPROCESS=':not([webfan-nav-a-process="false"])';var TXT_COLLAPSED=' ';var TXT_OPENED='_';var NAMED_NAVS=new Map();var renderTimer=false;if(!frdl.a.defined(APPNAME)){frdl.a.module(APPNAME,['webfan.gui']);frdl.a.module(APPNAME).controller(CTRLNAME,['$scope','$sce',function($scope,$sce){}]);}
class WebfanNav
extends HTMLElement
{constructor(){super();this.createdCallback();}
createdCallback(){this.name=CLASSNAME;this.model={};this._transition.apply(this,[this]);var THAT=this;frdl.ready(function(){THAT._render.apply(THAT,[true]);});}
_initial(){var THAT=this;if(!!THAT.initiated)return;THAT.initiated=true;if(0===THAT.model.navigations.nav.length||null===frdl.$q('li',false,THAT)){var __show_btn=false;}else{var __show_btn=true;}
THAT.setAttribute('data-role','navbar');$(THAT).data('$injector','');$(THAT).attr('ng-flows',function(i,val){return((!!val)?val+' ':'')+APPNAME;});$(THAT).attr('ng-controller',function(i,val){return CTRLNAME+' as myNavCtrl';});if(!THAT.hasAttribute('webfan-nav-id')){THAT.setAttribute('webfan-nav-id','nav-'+frdl.guid);}
frdl.ready(function(){if('undefined'===NAMED_NAVS.get('header')){NAMED_NAVS.set('header',THAT);}});if(THAT.hasAttribute('webfan-nav-id')){NAMED_NAVS.set(THAT.getAttribute('webfan-nav-id'),THAT);}
frdl.ready(function(){$(THAT).find('webfan-widget ul').attr('webfan-nav-ul-process','false');$(THAT).find('webfan-widget ul li').attr('webfan-nav-li-process','false');});$(THAT).find('ul'+NOULPROCESS).attr('webfan-nav-for',THAT.getAttribute('webfan-nav-id'));var btn=document.createElement('button');$(btn).text(TXT_COLLAPSED);$(btn).attr('class','webfan-nav-btn-ham');$(btn).attr('title',TXT_COLLAPSED);$(btn).attr('frdl-floating',$(frdl.$q('*[flow-nav-horizontal]',false,this)).css('display'));$(btn).css('top','0px');$(btn).css('left','0px');$(btn).css('position','asolute');if(!this.hasAttribute('flow-nav-horizontal')||null===frdl.$q('*[flow-nav-horizontal]',false,this)){if('inline-block'===this.getAttribute('frdl-floating')||'block'===this.getAttribute('frdl-floating')){}}
$(this).prepend(btn);if(!this.hasAttribute('flow-nav-horizontal')||null===frdl.$q('*[flow-nav-horizontal]',false,this)){}
$(btn).hide();btn.addEventListener('click',function(){$(THAT).find('ul'+NOULPROCESS).toggle();});btn.addEventListener('touch',function(){$(btn).trigger('click');});$(THAT).find('ul'+NOULPROCESS).on('show',function(){$(THAT.button).text(TXT_OPENED);if(frdl.Modernizr.mq('(max-width: '+SUMMARYWIDTH+'px)')){frdl.each(frdl.$q('webfan-nav '+'ul'+NOULPROCESS),function(i,el){if(el===THAT||THAT.getAttribute('webfan-nav-id')===el.getAttribute('webfan-nav-for'))return;$(el).hide();});}});$(THAT).find('ul'+NOULPROCESS).on('hide',function(){$(THAT.button).text(TXT_COLLAPSED);if(!!__show_btn)$(THAT.button).show();});if('undefined'===typeof this.button){Object.defineProperty(this,'button',{'get':function(){return btn;}});}
$(window).on('resize',function(){(function(){process.once('idle',function(){THAT._render(false);});}());});if(0<frdl.debug.mode())console.log('this.model',this.model);}
_render(initial){var THAT=this;if(true===initial){this._initial();}
if(0===THAT.model.navigations.nav.length||null===frdl.$q('li:not([webfan-nav-li-process="false"])',false,THAT)){var __show_btn=false;}else{var __show_btn=true;}
$(THAT).find('webfan-widget ul').attr('webfan-nav-ul-process','false');$(THAT).find('webfan-widget ul li').attr('webfan-nav-li-process','false');$(THAT).find('webfan-widget ul li a').attr('webfan-nav-a-process','false');if(this.hasAttribute('frdl-collapsed')&&false!==frdl.strpos('true',this.getAttribute('frdl-collapsed'))){$(THAT).find('ul').css('display','inline-block');$(THAT).find('ul'+NOULPROCESS).show();var opened=true;}else{var opened=false;}
if(THAT.hasAttribute('frdl-floating')){THAT.style.display=THAT.getAttribute('frdl-floating');$(THAT).find('ul'+NOULPROCESS).css('display',THAT.style.display);$(THAT).find('ul'+NOULPROCESS+' li:not([webfan-nav-li-process="false"])').css('display',THAT.style.display);}
if(frdl.Modernizr.mq('(max-width: '+MINIMIZEWIDTH+'px)')||(this.hasAttribute('frdl-collapsed')&&false!==frdl.strpos('true',this.getAttribute('frdl-collapsed')))){if(!!__show_btn)$(this.button).show();$(THAT).find('ul'+NOULPROCESS).hide();}else{$(THAT.button).hide();$(THAT).find('ul'+NOULPROCESS).show();$(THAT).find('ul'+NOULPROCESS).css('display',$(THAT).attr('frdl-floating'));}
if(!__show_btn){$(THAT.button).hide();}else{}
if(this.hasAttribute('frdl-collapsed')&&(false!==frdl.strpos('false',this.getAttribute('frdl-collapsed'))||false!==frdl.strpos('open',this.getAttribute('frdl-collapsed')))){setTimeout(function(){$(THAT).find('ul').show();if(frdl.Modernizr.mq('(max-width: '+MINIMIZEWIDTH+'px)')){if(!!__show_btn)$(THAT.button).show();}else{if(THAT.hasAttribute('webfan-nav-btn-ham')&&(false!==frdl.strpos('false',THAT.getAttribute('webfan-nav-btn-ham'))||false!==frdl.strpos('hide',THAT.getAttribute('webfan-nav-btn-ham')))){$(THAT.button).hide();}}},32);if(frdl.Modernizr.mq('(max-width: '+MINIMIZEWIDTH+'px)')){}else{if(!!$(frdl.$q('ul',false,THAT)).is(":visible"))$(THAT.button).hide();}}
$(THAT).attr('webfan-nav-class',$(frdl.$q('a',false,THAT)).attr('class')||$(frdl.$q('li:not([webfan-nav-li-process="false"])',false,THAT)).attr('class'));if(frdl.Modernizr.mq('(max-width: '+SUMMARYWIDTH+'px)')&&'header'!==THAT.getAttribute('webfan-nav-id')&&'footer'!==THAT.getAttribute('webfan-nav-id')&&!opened){var topNav=NAMED_NAVS.get('header');$(topNav).find('ul'+NOULPROCESS+' li:not([webfan-nav-li-process="false"])').css('display',topNav.style.display||'block');$(frdl.$q('a',true,THAT)).attr('class',$(topNav).attr('webfan-nav-class'));$(THAT.button).hide();$(THAT).find('ul'+NOULPROCESS+' li:not([webfan-nav-li-process="false"])').attr('webfan-nav-attached',THAT.getAttribute('webfan-nav-id')).detach().appendTo(frdl.$q('ul:not([webfan-nav-ul-process="false"])',false,topNav));}else if(frdl.Modernizr.mq('(max-width: '+SUMMARYWIDTH+'px)')&&'header'===THAT.getAttribute('webfan-nav-id')){$(frdl.$q('a',true,THAT)).attr('class',$(topNav).attr('webfan-nav-class'));$(THAT).css('position','fixed');$(THAT).css('top','2px');$(THAT).css('left','2px');$(THAT).css('z-Index','998');$(THAT.button).css('display','inline');$(THAT.button).css('position','fixed');$(THAT.button).css('top','2px');$(THAT.button).css('left','2px');$(THAT.button).css('z-Index','999');$(THAT).find('ul').css('display','inline-block').find('li:not([webfan-nav-li-process="false"])').css('display','block');frdl.ready(function(){var Visisble=$(frdl.$q('ul'+NOULPROCESS,false,THAT)).is(":visible");$(THAT).find('ul'+NOULPROCESS).css('display','inline-block').find('li:not([webfan-nav-li-process="false"])').css('display','block');if(!Visisble){$(THAT).find('ul'+NOULPROCESS).hide();}});}else if(!frdl.Modernizr.mq('(max-width: '+MINIMIZEWIDTH+'px)')&&'header'===THAT.getAttribute('webfan-nav-id')){if(!!__show_btn&&!!frdl.Modernizr.mq('(max-width: '+MINIMIZEWIDTH+'px)')&&0>$(THAT).find('ul li').length)$(THAT.button).show();$(THAT).find('ul'+NOULPROCESS).show();$(frdl.$q('a',true,THAT)).attr('class',$(THAT).attr('webfan-nav-class'));$(THAT.button).hide();$(THAT).find('ul'+NOULPROCESS).css('display','inline').find('li:not([webfan-nav-li-process="false"])').css('display','inline');}else if(!frdl.Modernizr.mq('(max-width: '+MINIMIZEWIDTH+'px)')&&'header'!==THAT.getAttribute('webfan-nav-id')&&'footer'!==THAT.getAttribute('webfan-nav-id')){$('li[webfan-nav-attached="'+THAT.getAttribute('webfan-nav-id')+'"]:not([webfan-nav-li-process="false"])').removeAttr('webfan-nav-attached').appendTo(frdl.$q('ul:not([webfan-nav-ul-process="false"])',false,THAT));$(frdl.$q('a',true,THAT)).attr('class',$(THAT).attr('webfan-nav-class'));if(!!__show_btn&&!!frdl.Modernizr.mq('(max-width: '+MINIMIZEWIDTH+'px)')&&0>$(THAT).find('ul'+NOULPROCESS+' li:not([webfan-nav-li-process="false"])').length)$(THAT.button).show();$(THAT).find('ul').css('display',THAT.style.display).find('li:not([webfan-nav-li-process="false"])').css('display',THAT.style.display);}
if(0>$(THAT).find('ul'+NOULPROCESS+' li:not([webfan-nav-li-process="false"])').length&&(!frdl.Modernizr.mq('(max-width: '+MINIMIZEWIDTH+'px)'))){$(THAT.button).hide();}
frdl.ready(function(){if(0===$(THAT).find('ul'+NOULPROCESS+' li:not([webfan-nav-li-process="false"])').length){$(THAT.button).hide();}});if(!!$(THAT.button).is(":visible"))THAT.button.style.display='inline';if(!!$(THAT.button).is(":visible"))$(THAT.button).trigger('click');if(!!renderTimer)clearTimeout(renderTimer);renderTimer=setTimeout(function(){$(frdl.$q('a',true,THAT)).removeAttr('data-flow-prepared');},256);}
_transition(el,$sce){this.model.links=$(this).find('a, button, input, link, *[href]');this.model.template=template;this.model.templates=templates;this.model.CTRLNAM='NavCtrl';if('undefined'===typeof el)var el=this;var THAT=this;let f=function i(P){var orig=$(P);var NAV={ID:frdl.guid,nav:[],element:P,attributes:$(P).attr(),html:false};frdl.each(orig.find('ul'+NOULPROCESS+', ol'+NOULPROCESS),function(i,nl){var m={ID:frdl.guid,nav:[],element:nl,attributes:$(nl).attr(),html:false};frdl.each($(nl).find('li:not([webfan-nav-li-process="false"])'),function(j,li){if(0===$(li).find('ul'+NOULPROCESS+', ol'+NOULPROCESS).length){if('undefined'!==typeof $sce){var aHtml=$sce.trustAsHtml($(li).html());}else{var aHtml=$(li).html();}
var mli={ID:frdl.guid,nav:{},html:aHtml,element:li,attributes:$(li).attr()};}else{var mli=f(li);}
m.nav.push(mli);});NAV.nav.push(m);});return NAV;};this.model.navigations=f(el);if(0<frdl.debug.mode())console.log('this.model.navigations',this.model.navigations);}
attachedCallback(){if(0<frdl.debug.mode())console.log('live on DOM ;-) ');}
detachedCallback(){if(0<frdl.debug.mode())console.log('leaving the DOM :-( )');}
attributeChangedCallback(name,previousValue,value){if(previousValue==null){if(0<frdl.debug.mode())console.log('got a new attribute ',name,' with value ',value);}else if(value==null){if(0<frdl.debug.mode())console.log('somebody removed ',name,' its value was ',previousValue);}else{if(0<frdl.debug.mode())console.log(name,' changed from ',previousValue,' to ',value);}}}
CustomElements.define('webfan-nav',WebfanNav);if(0<frdl.debug.mode())console.log(CustomElements.get(CLASSNAME));return CustomElements.get(CLASSNAME);}});return{loaded:true};});
/*! $51 navigator/webfan-widget */
define('webfan/navigator/webfan-widget',['EventEmitter','frdl','com.webfan.gui','feature!vm','feature!customElements','str_replace'],function(EventEmitter,frdl,UI,vm,customElements,str_replace){'use strict';var __WIDGET_REL__='widget';var uiwidgets=[];UI.getWidget=function(id){var w=null;if(!isNaN(parseInt(id))){frdl.each(uiwidgets,function(i,wgt){if(parseInt(id)===wgt.getID()){w=wgt;return false;}});}else if('string'===typeof id){frdl.each(uiwidgets,function(i,wgt){var c=wgt.config;if(id===c.id||wgt.GUID===id||c.widget._id===id||id===c.widget.name._short||id===c.widget.name.__text||id===c.name){w=wgt;return false;}});}else if('object'===typeof id||'function'===typeof id){w=uiwidgets[uiwidgets.indexOf(id)]||null;if(null===w){frdl.each(uiwidgets,function(i,wgt){if(id===wgt.getElement()){w=wgt;return false;}});}}
return w;};var _widget={createHtmlWrap:function(el,_link,dest,invokeIfExistsAlready){var u=new frdl.Url(_link);var tok=u.getScheme()+'://components/',widgetLoaded=false,eLoaded=false;var url=u.urlMakeNew();var component=frdl.str_replace(tok,'',url);component=frdl.str_replace(u.getScheme()+'://example.com/','',component);component=frdl.str_replace('widget://','',component);if(true===invokeIfExistsAlready){var widget=UI.getWidget(component);if(null!==widget&&'object'===typeof widget){$(widget.element).trigger('run',widget.$scope);return widget;}
var widgetFound=[];frdl.each(document.querySelectorAll('*[data-frdl-component$="'+component+'"]'),function(i,widgetElement){var widget=UI.getWidget(widgetElement.getAttribute('data-frdl-component-widget-id'));if(null!==widget){widgetFound.push(widget);$(widgetElement).trigger('run',widget.$scope);}});if(0<widgetFound.length){return widgetFound;}}
if('undefined'===typeof dest)var dest=document.body;el=$(el).attr('data-frdl-component',_link).attr('data-frdl-desktop-widget',_link).prependTo($(dest));},getPostdata:function(){var d={method:'GET',sendData:{}};return d;}};UI.getWidgetLinks=function(uri){var u2=new frdl.Url(uri);var u=new frdl.Url(uri);var tok=u.getScheme()+'://components/';var url=u.urlMakeNew();var component=frdl.str_replace(tok,'',url);var isExtern=('components'!==u2.getHost()&&'example.com'!==u2.getHost()&&('http'===u2.getScheme()||'https'===u2.getScheme()))?true:false;component=frdl.str_replace('widget://example.com/','',component);component=frdl.str_replace(u.getScheme()+'://example.com/','',component);component=frdl.str_replace('widget://','',component);if(!!isExtern){url=component;}else if('components'===u.getHost()||'example.com'===u.getHost()){url=require.s.contexts._.config.paths.components+'/'+component;}else{u.setScheme('https');url=u.urlMakeNew();}
u=new frdl.Url(url);if('http:'===location.protocol||'https:'===location.protocol||'web+'===location.protocol.substr(0,4)||'filesystem:'===location.protocol.substr(0,'filesystem:'.length)){u.setScheme(location.protocol.substr(0,location.protocol.length-1));}
url=u.urlMakeNew();var widget_dir=url;if('/'!==url.substr(-1)){url+='/';}
return{url:widget_dir,root:url,component:component,config:url+'config.xml',isExtern:isExtern};};var _rewriteUrlCss=function(c,base,___URL){return frdl.urlRewriteCss(c,base,___URL);};UI.widget=function(el,_link,dest,invokeIfExistsAlready){if('object'===typeof el&&null!==el&&el.hasAttribute('data-frdl-component-loaded-script')&&'true'===el.getAttribute('data-frdl-component-loaded-script')){return;}
if('undefined'===typeof el&&'undefined'===typeof _link&&'undefined'===typeof dest){return _widget;}
if('string'===typeof el&&'>'!==el.substr(-1)){el=document.querySelector(el);}else if('string'===typeof el&&'>'===el.substr(-1)){return _widget.createHtmlWrap(el,_link,dest,invokeIfExistsAlready);}
var WidgetLinks=UI.getWidgetLinks(('string'===typeof _link)?_link:el.getAttribute('data-frdl-component'));var url=WidgetLinks.root;var url_config=WidgetLinks.config;var component=WidgetLinks.component;var widget_dir=WidgetLinks.url;var isExtern=WidgetLinks.isExtern;if(true===invokeIfExistsAlready){var ___widget=UI.getWidget(component);if(null!==___widget&&'object'===typeof ___widget){___widget.state.emit('run',[___widget]);return ___widget;}}
if('true'===el.getAttribute('data-frdl-component-initiated')){return;}
el.setAttribute('data-frdl-component-initiated','true');var createWidgetLink=true,widgetLoaded=false,eLoaded=false;if(null===frdl.$q('*[href="'+widget_dir+'"]',false)){createWidgetLink=true;}else{frdl.each(frdl.$q('*[href="'+widget_dir+'"]'),function(i,el){if(__WIDGET_REL__!==el.getAttribute('rel'))return true;createWidgetLink=false;return false;});}
UI.defer();return new Promise(function(resolve,reject){var c=0;var _req,_state=new EventEmitter;_req=_state.required(['prepared','prepared::config.xml','required::config.xml','loaded::config.xml','parsed::config.xml'],function(states){var Widget=_req.stateGet('prepared').Widget;process.nextTick(function(){frdl.ready(function(){Widget.boot();var context={angular:angular,process:process,Webfan:Webfan,frdl:frdl,UI:UI,Widget:Widget,module:_req.stateGet('prepared').module,exports:new Function(""),WebApp:frdl.webfan.myWebApp};Widget=Widget.With(context).Widget;resolve(Widget);});});},el,false);require(['loadXML!'+WidgetLinks.config],function(widgetXMLObject){frdl.UI.defer();_state.emit('loaded::config.xml',true);if(!widgetXMLObject.json){var str='Cannot loadXML '+url_config+JSON.stringify(widgetXMLObject);console.error(str);console.dir(widgetXMLObject);if(0<frdl.debug.mode()&&frdl.alert)frdl.alert.error(str);reject(str);return;}
_state.emit('parsed::config.xml',widgetXMLObject);var module={};if('undefined'===typeof widgetXMLObject.json.widget){((0===frdl.debug.mode())?console.warn:console.error)('Cannot get config file of '+component);reject('Cannot get config file of '+component);return false;}
widgetXMLObject.json.directory=url;widgetXMLObject.json.element=el;var config=widgetXMLObject.json;var Widget=new frdl.Widget(widgetXMLObject);el.setAttribute('data-frdl-component-widget-id',Widget.id);Object.defineProperty(module,'Widget',{'get':function(){return Widget;}});Object.defineProperty(module,'directory',{'get':function(){return Widget.directory;}});if(!config.widget.content.length){config.widget.content=[config.widget.content];}
frdl.each(config.widget.content,function(i,content){c=++c;UI.defer();var _url=(''!==new frdl.Url(content._src).getScheme())?'':url;var t=frdl.explode('/',content._type);var file=url+'config.xml#'+c;if(false!==frdl.strpos(t[1],'typescript')){if('string'===typeof content._src){_req.add('loaded '+content._src);require(['plain!'+WidgetLinks.root+content._src,'webfan/bootcache!webfan/ts-compile'],function(ts,compile){ts=str_replace('component://',WidgetLinks.root,ts);compile(ts,function(js){Widget.js({filename:WidgetLinks.root+content._src,js:js});_state.emit('loaded '+content._src,{content:js});});});}
if('undefined'!==typeof content.__cdata){_req.add('loaded '+file);require(['webfan/bootcache!webfan/ts-compile'],function(compile){compile(content.toString(),function(js){js=str_replace('component://',WidgetLinks.root,js);Widget.js({filename:file,js:js});_state.emit('loaded '+file,{content:js});});});}}else if(false!==frdl.strpos(t[1],'script')){if('undefined'!==typeof content.__cdata){Widget.js({filename:file,js:content.toString()});}
if('string'===typeof content._src){_req.add('loaded '+content._src);require(['loadPlain!'+WidgetLinks.root+content._src],function(js){Widget.js({filename:WidgetLinks.root+content._src,js:js.content});_state.emit('loaded '+content._src,{content:js.content});});}}else if(false!==frdl.strpos(t[1],'html')){if('undefined'!==typeof content.__cdata){Widget.html(content.toString());}
if('string'===typeof content._src){_req.add('loaded '+content._src);require(['loadPlain!'+WidgetLinks.root+content._src],function(html){Widget.html(html.content);_state.emit('loaded '+content._src,{content:html.content});});}}else if(false!==frdl.strpos(t[1],'css')){if('undefined'!==typeof content.__cdata){Widget.css(content.toString());}
if('string'===typeof content._src){_req.add('loaded '+content._src);require(['loadPlain!'+WidgetLinks.root+content._src],function(css){require(['webfan/bootcache!url'],function(___URL){Widget.css(_rewriteUrlCss(css.content,WidgetLinks.root,___URL));_state.emit('loaded '+content._src,{content:css.content});});});}}});_state.emit('prepared::config.xml',true);el.setAttribute('data-frdl-component-initiated','true');el.widget=function(){throw'Element.widget() setting method on DOMElement here maybe deprecated';};if(true===createWidgetLink){var lnk=frdl.Dom.create('link');lnk.setAttribute('rel',__WIDGET_REL__);lnk.setAttribute('href',widget_dir);frdl.Dom.add(lnk,frdl.Dom.getTagNames('head')[0]);}
Widget.state.once('loaded',function(){var widget=arguments[0].widget;UI.emitter.emit('widget.loaded',[widget]);widget.state.emit('run',[widget]);});setTimeout(function(){_state.emit('prepared',{Widget:Widget,module:module});},32);});_state.emit('required::config.xml',true);});};if('undefined'===typeof customElements.get('webfan-element')&&null===document.querySelector('link[href*="import-webfan-components.html"]')){var link=document.createElement('link');link.href=require.s.contexts._.config.paths.components+'/webfan/import-webfan-components.html';link.rel='_import_'.replace(/\_/,'');link.async=true;document.querySelector('head').append(link);}
var _a_bootstrapped=[];var _i=-1;(function(baseObj,funcName){funcName=funcName||"Widget";function ___init(el){if(true===this.initiated){return this.model.Widget;}
if(!el)el=this;if(el.hasAttribute('data-frdl-component-loaded-script')&&'true'===el.getAttribute('data-frdl-component-loaded-script')){return UI.getWidget(parseInt(el.getAttribute('data-frdl-component-widget-id')));}
if(!el.hasAttribute('data-frdl-component')){if(el.dataFrdlComponent){el.setAttribute('data-frdl-component',el.dataFrdlComponent);}else if(this.dataFrdlComponent||this.hasAttribute('data-frdl-component')){el.setAttribute('data-frdl-component',this.dataFrdlComponent||this.getAttribute('data-frdl-component'));}}
this.dataFrdlComponent=el.getAttribute('data-frdl-component');this.initiated=true;this.debug=(el.hasAttribute('debug')&&('true'===el.getAttribute('debug')||'1'===el.getAttribute('debug')||'yes'===el.getAttribute('debug')))?true:false;return frdl.UI.widget(el);}
class WebfanWidget extends HTMLElement
{constructor(){super();this.createdCallback();}
createdCallback(){if(0<frdl.debug.mode())console.log('here I am ^_^ ');if(0<frdl.debug.mode())console.log('with content: ',this.textContent);this._innerHTML=this.innerHTML;if(0<frdl.debug.mode())console.log('with _innerHTML: ',this._innerHTML);if(0<frdl.debug.mode())console.log('with innerHTML: ',this.getAttribute('frdl-test-attr'));this.dataset.role="component";var THAT=this;process.nextTick(function(){frdl.ready(function(){frdl.angularBootstrapable.ready(function(){process.nextTick(function(){setTimeout(function(){process.nextTick(function(){if(THAT.hasAttribute('data-frdl-component-loaded-script')&&'true'===THAT.getAttribute('data-frdl-component-loaded-script')){}else{THAT.model={Widget:___init.apply(THAT,[THAT])};}});},16);});});});});}
attributeChangedCallback(name,previousValue,value){if(previousValue==null){if(0<frdl.debug.mode())console.log('got a new attribute ',name,' with value ',value);}else if(value==null){if(0<frdl.debug.mode())console.log('somebody removed ',name,' its value was ',previousValue);}else{if(0<frdl.debug.mode())console.log(name,' changed from ',previousValue,' to ',value);}}
attachedCallback(){if(0<frdl.debug.mode())console.log('live on DOM ;-) ');}
detachedCallback(){if(0<frdl.debug.mode())console.log('leaving the DOM :-( )');}}
frdl.ready(function(){frdl.angularBootstrapable.ready(function(){process.nextTick(function(){customElements.define('webfan-widget',WebfanWidget);});});});function Widget(widgetXMLObject){var data={};var id=id=++_i;this.state=new EventEmitter();this.state.emit('init',{id:id});var WidgetXMLObject=widgetXMLObject;var c=WidgetXMLObject.json;var config;var __getConfig=function(){var c=config;return c;};var _html=[];var modules={};var _css=[];var _js=[];var _Script=false;var __setConfig=function(val){var _new=val,_old=config;throw'Changing widget config is not supported yet (ToDo)';var merged=$.extend(_old,_new);};var ReadOnly=function(v){throw'Trying to set readonly Widget property FAILED: '+v;};Object.defineProperty(this,'Script',{get:function(){return _Script;},set:function(s){if(false!==_Script){throw'Script of Widget already defined!';}
_Script=s;}});config=c;var settings={};Object.defineProperty(this,'settings',{get:function(){return settings;}});Object.defineProperty(this,'config',{get:function(){return __getConfig();}});Object.defineProperty(this,'id',{get:function(){return id;},set:function(val){return ReadOnly(val);}});Object.defineProperty(this,'modules',{get:function(){return modules;},set:function(val){throw'Unexpected set of Widget.modules from external';}});Object.defineProperty(this,'XMLDom',{get:function(){return WidgetXMLObject.dom;}});Object.defineProperty(this,'directory',{get:function(){return config.directory;}});Object.defineProperty(this,'widget',{get:function(){return __getConfig();}});Object.defineProperty(this,'element',{get:function(){return config.element;},set:function(val){config.element=val;}});Object.defineProperty(this,'name',{get:function(){return __getConfig().widget.name._short;},set:function(val){throw'Illegal set of Widget.name '+val;}});this.angular={boot:function(THAT){if(0<THAT.angular.blocks.config.length||0<THAT.angular.blocks.component.length||0<THAT.angular.blocks.controller.length||0<THAT.angular.blocks.run.length||0<THAT.angular.blocks.provider.length||0<THAT.angular.blocks.directive.length){}else{return;}
(function(THAT){function b(THAT){var b=true;if(0===THAT.angular.blocks.config.length&&0===THAT.angular.blocks.controller.length&&0===THAT.angular.blocks.component.length&&0===THAT.angular.blocks.run.length&&0===THAT.angular.blocks.provider.length&&0===THAT.angular.blocks.directive.length){return UI.load();}
var app=THAT.angular.$app.name;if(-1!==_a_bootstrapped.indexOf(app))b=false;_a_bootstrapped.push(app);if(!!b){frdl.each(THAT.angular.blocks.directive,function(i,block){frdl.a.module(app).directive(block[0],block[1]);});frdl.each(THAT.angular.blocks.component,function(i,block){frdl.a.module(app).component(block[0],block[1]);});frdl.each(THAT.angular.blocks.provider,function(i,block){frdl.a.module(app).provider(block);});frdl.each(THAT.angular.blocks.config,function(i,block){frdl.a.module(app).config(block);});frdl.each(THAT.angular.blocks.controller,function(i,block){frdl.a.module(app).controller(block[0],block[1]);});frdl.each(THAT.angular.blocks.run,function(i,block){frdl.a.module(app).run(block);});}
THAT.state.emit('agularify',{agularify:THAT.angular,app:frdl.a.module(app)});}
b(THAT);}(THAT));},modules:[],element:false,blocks:{provider:[],config:[],controller:[],run:[],component:[],directive:[]},directive:function(name,block){THAT.angular.blocks.directive.push([name,block]);return THAT.angular;},component:function(name,block){THAT.angular.blocks.component.push([name,block]);return THAT.angular;},provider:function(name,block){THAT.angular.blocks.provider.push([name,block]);return THAT.angular;},config:function(block){THAT.angular.blocks.config.push(block);return THAT.angular;},controller:function(name,block){THAT.angular.blocks.controller.push([name,block]);return THAT.angular;},run:function(block){THAT.angular.blocks.run.push(block);return THAT.angular;},flow:function(app){THAT.angular.modules.unshift(app);var args=Array.prototype.slice.call(arguments);(function(){function c(){frdl.a.module.apply(frdl.a,args);}
c();}());return THAT.angular;}};var THAT=this;var _angularApp=$(config.element).getAngularApp(false);if(false!==_angularApp){this.angular.element=_angularApp.element;var _appstr=_angularApp.flows;if(1===0&&false!==_appstr){frdl.each(_appstr.split(/s+|,/),function(i,appname){appname=appname.trim();});}}else{}
this.state.emit('agularify.init',{agularify:this.angular});this.css=function(str){if(!arguments||0===Array.prototype.slice.call(arguments).length)return _css;_css.push(str);this.state.emit('css.append',{css:str});return this;};this.js=function(str){if(!arguments||0===Array.prototype.slice.call(arguments).length)return _js;_js.push(str);this.state.emit('js.append',{js:str});return this;};this.html=function(str){if(!arguments||0===Array.prototype.slice.call(arguments).length)return _html;_html.push(str);this.state.emit('html.append',{html:str});return this;};this.modul=function(){var args=Array.prototype.slice.call(arguments);if(0===args.length||2<args.length)throw'WebApp.modul() expects 1 or 2 arguments!';if(1===args.length){return modules[args[0]];}else if(2===args.length){modules[args[0]]=args[1];this.state.emit('modul',{modul:modules[args[0]]});return this;}
return this;};this.data=function(){var args=Array.prototype.slice.call(arguments);if(1===args.length&&'object'===typeof args[0]){for(var k in args[0]){data[k]=args[0][k];}
return this;}else if(1===args.length&&'string'===typeof args[0]){return data[args[0]];}else if(2===args.length&&'string'===typeof args[0]){data[args[0]]=args[1];return this;}else if(0===args.length){return data;}else{return undefined;}};this.Config=function(){var args=Array.prototype.slice.call(arguments),n=false;if(0<args.length&&'string'===typeof args[0]){n=THAT.settings[args[0]];if(false!==frdl.strpos(args[0],'.')){var p=frdl.explode('.',args[0]);n=THAT.settings;frdl.each(p,function(i,seg){if('undefined'===typeof n[seg]){n[seg]=(2===args.length&&i===p.length-1)?args[1]:{};}
n=n[seg];});}}
if(1===args.length&&'object'===typeof args[0]){for(var k in args[0]){THAT.settings[k]=args[0][k];}
return this;}else if(1===args.length&&'string'===typeof args[0]){return n;}else if(2===args.length&&'string'===typeof args[0]){n=args[1];return this;}else if(0===args.length){return settings;}else{return undefined;}};if('undefined'===typeof config.widget.preference_asArray){config.widget.preference_asArray=[];}
frdl.each(config.widget.preference_asArray,function(k,preference){var n=preference._name;var _n=THAT.settings;var Value=Webfan.helper.templater(preference._value,global);if('true'===Value)Value=true;if('false'===Value)Value=false;var p=frdl.explode('.',n);_n=THAT.settings;frdl.each(p,function(i,seg){if('undefined'===typeof _n[seg]){_n[seg]=(i===p.length-1)?Value:(('undefined'===typeof _n[seg])?{}:_n[seg]);}
_n=_n[seg];});});Object.defineProperty(this,'Plugin',{get:function(){var Plugin=frdl.plug(THAT.config.widget._id);if('undefined'===typeof Plugin.Widget){Object.defineProperty(Plugin,'Widget',{get:function(){return THAT;}});}
return Plugin;},set:function(newPluginContext){frdl.plug(THAT.config.widget._id,newPluginContext);}});frdl.plug(THAT.config.widget._id,function $Component(){extend(Plugin.Widget);},THAT);Object.defineProperty(this,'GUID',{get:function(){return frdl.plug(THAT.config.widget._id).id;}});var $app=frdl.a.module(THAT.GUID,[]);Object.defineProperty(THAT.angular,'$app',{get:function(){return $app;}});uiwidgets.push(this);}
Widget.prototype.boot=function(){var THAT=this;if('undefined'===typeof UI){var UI=frdl.UI;}
function compile_after(code){return code;}
THAT.state.emit('boot',{widget:THAT});var _js='';frdl.each(THAT.js(),function(i,JS){_js+='\n';_js+=JS.js;_js+='\n';});THAT.Script=vm.createScript(_js,{filename:THAT.directory+'#*.js',compile:compile_after});Object.defineProperty(THAT,'With',{get:function(){var Widget=this;return function(ctx){var appname=Widget.angular.$app.name+'.$'+Widget.id;var $app=frdl.a.module(appname,[Widget.angular.$app.name]);ctx.Widget=Widget;ctx.App=$app;ctx.global=Symbol.frdl.MONKEY.Patch;ctx.window=Symbol.frdl.MONKEY.Patch;ctx.Window=Symbol.frdl.MONKEY.Patch;ctx.Navigator=Symbol.frdl.MONKEY.Patch;ctx.Global=Symbol.frdl.MONKEY.Patch;ctx.Document=Symbol.frdl.MONKEY.Patch;ctx.Plugin=Widget.Plugin;if(!Widget.Script)throw'Widget.With : Script is not prepared';var HTML='';frdl.each(Widget.css(),function(i,css){HTML+='<style type="text/css">'+css+'</style>';});frdl.each(Widget.html(),function(i,html){HTML+=html;});var MyHTML=$(HTML);var $flows=$(MyHTML).find('*[ng-flows], *[ng-app], *[ng-module], *[ng-modules], *[ng-flow], *[frdl-bind-context], frdl-bind-context');var _context=ctx;frdl.each($flows,function(i,$flow){if($flow.hasAttribute('frdl-bind-context')){if('undefined'!==typeof global[$flow.getAttribute('frdl-bind-context')]){_context=global[$flow.getAttribute('frdl-bind-context')];}else if('undefined'!==typeof frdl[$flow.getAttribute('frdl-bind-context')]){_context=frdl[$flow.getAttribute('frdl-bind-context')];}else if('undefined'!==typeof ctx[$flow.getAttribute('frdl-bind-context')]){_context=ctx[$flow.getAttribute('frdl-bind-context')];}}
$($flow).attr('ng-flows',frdl.ns.org.startpad.string.format($($flow).attr('ng-flows'),_context));$($flow).attr('ng-flows',frdl.ns.org.startpad.string.format($($flow).attr('ng-flows'),ctx));});var $binds=$(MyHTML).find('*[frdl-bind-context], frdl-bind-context');frdl.each($binds,function(i,$bind){var _context=ctx;if($bind.hasAttribute('frdl-bind-context')){if('undefined'!==typeof global[$bind.getAttribute('frdl-bind-context')]){_context=global[$bind.getAttribute('frdl-bind-context')];}else if('undefined'!==typeof frdl[$bind.getAttribute('frdl-bind-context')]){_context=frdl[$bind.getAttribute('frdl-bind-context')];}else if('undefined'!==typeof ctx[$bind.getAttribute('frdl-bind-context')]){_context=ctx[$bind.getAttribute('frdl-bind-context')];}}
$($bind).html(frdl.ns.org.startpad.string.format($($bind).html(),_context));});ctx.widget={author:Widget.widget.widget.author.__text,description:Widget.widget.widget.description,name:Widget.widget.widget.name.__text,shortName:Widget.widget.widget.name._short,version:Widget.widget.widget._version,id:Widget.widget.widget._id,authorEmail:Widget.widget.widget.author._email,authorHref:Widget.widget.widget.author._href,preferences:Widget.settings,height:Widget.widget.widget._height,width:Widget.widget.widget._width};Object.defineProperty(ctx.widget,'Widget',{get:function(){return Widget;}});var WidgetContext=Widget.Script.runInContext(vm.createContext(ctx));if(Widget.widget.element.hasAttribute('ng-flows')){Widget.widget.element.setAttribute('ng-flows',frdl.ns.org.startpad.string.format(Widget.widget.element.getAttribute('ng-flows'),ctx));}
frdl.UI.defer();$(Widget.widget.element).data('$injector','');$(Widget.widget.element).append(MyHTML);var $flows=$(Widget.widget.element).find('*[ng-flows], *[ng-app], *[ng-module], *[ng-modules], *[ng-flow], *[frdl-bind-context], frdl-bind-context');var _context=ctx;frdl.each($flows,function(i,$flow){if($flow.hasAttribute('frdl-bind-context')){if('undefined'!==typeof global[$flow.getAttribute('frdl-bind-context')]){_context=global[$flow.getAttribute('frdl-bind-context')];}else if('undefined'!==typeof frdl[$flow.getAttribute('frdl-bind-context')]){_context=frdl[$flow.getAttribute('frdl-bind-context')];}else if('undefined'!==typeof ctx[$flow.getAttribute('frdl-bind-context')]){_context=ctx[$flow.getAttribute('frdl-bind-context')];}}
$($flow).attr('ng-flows',frdl.ns.org.startpad.string.format($($flow).attr('ng-flows'),_context));$($flow).attr('ng-flows',frdl.ns.org.startpad.string.format($($flow).attr('ng-flows'),ctx));});Widget.widget.element.setAttribute('webfan-widget-app-instance',appname);UI.load();frdl.ready(function(){setTimeout(function(){UI.Compile(8);},8);});return WidgetContext;};}});THAT.angular.boot(THAT);THAT.state.emit('loaded',{widget:THAT});return this;};Widget.prototype.on=function(){this.state.on.call(this,arguments);return this;};Widget.prototype.once=function(){this.state.once.call(this,arguments);return this;};Widget.prototype.emit=function(){this.state.emit.call(this,arguments);return this;};Widget.prototype.dependency=function(){return this.state.required.apply(this,arguments);};Widget.prototype.getElement=function(){return this.element;};Widget.prototype.getID=function(){return this.id;};Widget.prototype.getWidget=function(tok){return UI.getWidget(tok);};baseObj[funcName]=Widget;}(frdl,'Widget'));customElements.whenDefined('webfan-widget').then(function(){frdl.watchFor('*[data-frdl-component*=":"]:not([data-frdl-component-initiated-rewrite-_canonical_="true"]):not([data-frdl-component-initiated])').every(function(el){if(el.hasAttribute('data-frdl-component-initiated-rewrite-_canonical_'))return;el.setAttribute('data-frdl-component-initiated-rewrite-_canonical_','true');if('webfan-widget'===el.tagName.toLowerCase())return;var c=el.getAttribute('data-frdl-component');el.removeAttribute('data-frdl-component');$(el).hide().remove();var widgetComponent=document.createElement('webfan-widget');widgetComponent.setAttribute('is','webfan-widget');widgetComponent.setAttribute('data-frdl-component',c);el.append(widgetComponent);});});return frdl.Widget;});
/*! $52 webfan/frdl-main-x8 */
define('webfan/frdl-main-x8',['base64_detect','base64_decode'],function(base64_detect,base64_decode){function Module(scope,webfan){var main=this;var Scope=scope;Scope.main=main;main.state=new scope.EventEmitter();var dependency=['loading'];if(false!==scope.browser){}
main.dependency=main.state.required(dependency,function(dataArray){if(0<frdl.debug.mode())console.log('resolved.All frdl.main.dependency',dataArray);},main);if(false!==scope.browser){main.dependency.add('UI components loaded');}
Object.defineProperty(main,'isLoading',{'get':function()
{if('loading'===document.readyState)return true;if('complete'!==document.readyState||false===main.isReady)return true;return false;}});Object.defineProperty(main,'isReady',{'get':function()
{if(true!==main.dependency.stateReady())return false;return true;}});main.init(scope,webfan);return main;}
Module.prototype.init=function(scope,webfan){var main=this;var Scope=scope;var dummy=false;main.jQueryPlugins(scope).mapjQueryPlugins(scope);if('undefined'===typeof Array.from){require(['webfan/bootcache!es6-array-extras/lib/es6-array-extras'],function(){});}
main.uiModulesLoadEvents();main.state.once('UI components loaded',function(){require(['webfan/navigator/webfan-nav','webfan/navigator/webfan-widget'],function(nav,Widget){});});frdl.MagicHelper.emitter.on('get UI',function(evData){evData.result=new Promise(function(resolve,reject){var alert=frdl.alert;var Hash=frdl.Hash;var Translator=frdl.inX;require(['com.webfan.gui','webfan/bootcache!webfan/navigator/simpledialog-9x','webfan/bootcache!webfan/navigator/anchor-routing-9x','webfan/bootcache!components/locale/jsin/jsin-9x'],function(UI,Alert,Hash,Translator){resolve({UI:UI,alert:Alert,Hash:Hash,Translator:Translator});});}).then(function(loadedModules){evData.result=loadedModules.UI;frdl.main.state.emit('UI components loaded',loadedModules);return evData.result;});});main.state.emit('loading',true);return main;};Module.prototype.uiModulesLoadEvents=function(){frdl.state.once('module loaded TINYMCE',function(){frdl.cssImportString(`webfan-model{display:none!important;}`);});frdl.state.once('module loaded TINYMCE',function(){var __APP_NS__='webfan';var __GUID_ND__=__APP_NS__+'.gui'+'.prototype';var UI=frdl.UI;frdl.a.module(__APP_NS__).controller("frdlDefaultModelCtrl",['$scope','$frdl',function($scope,$frdl){this.data=$scope.Data||Data||{};this.config=$scope.config||Config||config||{};this.model=$scope.model||Object.getOwnPropertyDescriptors(this.Config);this.run=$scope.run||function(payload){if(process.env.DEBUG)console.log('payload',payload);if(process.env.DEBUG)console.log('$scope.context',$scope.context);return payload;};Object.defineProperty(this,'frdl',{get:function(){return $frdl;}});}]).directive("webfanModel",function(){return{restrict:"AE",scope:{model:'=',config:'@conf',__invoke:'&process',onLoadedAsync:'&loadAsync'},link:function($scope,element,attrs,ctrls){var ANAME='webfan-model';var THAT=$scope;var _context=this;$scope.scopify=function(variable,value,strictModel){if(true===strictModel&&'undefined'===typeof $scope.model[variable])return false;$scope[variable]=value;return true;};var $flow=element[0];var ctxVar='model';if($flow.hasAttribute(ANAME)||'undefined'!==typeof attrs[ANAME]){ctxVar=$flow.getAttribute(ANAME)||attrs[ANAME];}else if($flow.hasAttribute(ctxVar)||'undefined'!==typeof attrs[ctxVar]){ctxVar=$flow.getAttribute(ctxVar)||attrs[ctxVar];}else if(THAT.hasAttribute(ctxVar)||'undefined'!==typeof _context[ctxVar]){ctxVar=THAT.hasAttribute(ctxVar)||_context[ctxVar];}
var dEcho=function(c){if('string'===typeof c&&(false!==frdl.strpos('{',c)||false!==frdl.strpos('[',c))){try{c=JSON.parse(c);}catch(err){}}
if('string'===typeof c&&(false!==frdl.strpos('{',c)||false!==frdl.strpos('[',c))){try{frdl.ns.org.startpad.string.format(c,THAT);}catch(err){}}
if('string'===typeof c){if('undefined'!==typeof THAT[c]){c=THAT[c];}
else if('undefined'!==typeof $scope[c]){c=$scope[c];}else if('funtion'===typeof frdl.plug(c).exec){c=frdl.plug(c).exec(THAT);}else if('undefined'!==typeof frdl[c]){c=frdl[c];}else if('undefined'!==typeof global[c]){c=global[c];}}
console.log('THAT',THAT);console.log('c',c);return c;};var BindDataFn='function'===typeof $scope.__invoke?$scope.__invoke:dEcho;if('undefined'!==typeof THAT[ctxVar]){_context=THAT[ctxVar];}else if('undefined'!==typeof $scope[ctxVar]){_context=$scope[ctxVar];}else if('undefined'!==typeof frdl[ctxVar]){_context=frdl[ctxVar];}else if('undefined'!==typeof global[ctxVar]){_context=global[ctxVar];}else if('funtion'===typeof frdl.plug(ctxVar).exec){_context=frdl.plug(ctxVar);BindDataFn=frdl.plug(ctxVar).exec;_context=BindDataFn.apply(THAT,[ctxVar]);}else{_context=BindDataFn.apply(THAT,[ctxVar]);}
var innerHTML=$flow.innerHTML.trim();if(base64_detect(innerHTML)){innerHTML=base64_decode(innerHTML);}
if(''!==innerHTML&&('{'===innerHTML.substr(0,1)||'['===innerHTML.substr(0,1))&&'{{'!==innerHTML.substr(0,2)&&('}'===innerHTML.substr(innerHTML.length-1,1)||']'===innerHTML.substr(innerHTML.length-1,1))){if('undefined'===typeof $scope.$parent[ctxVar]){$scope.$parent[ctxVar]={};}
$scope.data=$scope.$parent[ctxVar]=JSON.parse(innerHTML);$flow.innerHTML='';$flow.setAttribute('ng-show','!!context.view');$flow.setAttribute('ng-bind-html','context.view');}else{$scope.data=_context;}
var k;for(k in $scope.model){if(frdl.base64_detect($scope.model[k])){$scope.model[k]=frdl.base64_decode($scope.model[k]);}}
for(k in $scope.config){if(frdl.base64_detect($scope.config[k])){$scope.config[k]=frdl.base64_decode($scope.config[k]);}}
for(k in $scope.data){if(frdl.base64_detect($scope.data[k])){$scope.data[k]=frdl.base64_decode($scope.data[k]);}}
$scope.scopify('payload',{model:$scope.model,config:$scope.config,data:$scope.data},false);require(['feature!vm'],function(vm){var fNScript=vm.createScript(BindDataFn,{filename:'frdl:vm://script/webfan-model-bind/'+frdl.guid,compile:function(js){return js;}});$scope.context=fNScript.runInThisContext(_context);if('function'===typeof $scope.loadAsync){$scope.loadAsync.apply(THAT,[$scope.context]);}});}};});});frdl.state.once('before::AngularCoreModules',function(){
/*!*
 * Implementing Drag and Drop functionality in AngularJS is easier than ever.
 * Demo: http://codef0rmer.github.com/angular-dragdrop/
 *
 * @version 1.0.13
 *
 * (c) 2013 Amit Gharat a.k.a codef0rmer <amit.2006.it@gmail.com> - amitgharat.wordpress.com
 */
(function(window,angular,$,undefined){'use strict';var jqyoui=angular.module('ngDragDrop',[]).service('ngDragDropService',['$timeout','$parse','$q',function($timeout,$parse,$q){this.draggableScope=null;this.droppableScope=null;$('head').prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>');this.callEventCallback=function(scope,callbackName,event,ui){if(!callbackName)return;var objExtract=extract(callbackName),callback=objExtract.callback,constructor=objExtract.constructor,args=[event,ui].concat(objExtract.args);return(scope[callback]||scope[constructor][callback]).apply(scope[callback]?scope:scope[constructor],args);function extract(callbackName){var atStartBracket=callbackName.indexOf('(')!==-1?callbackName.indexOf('('):callbackName.length,atEndBracket=callbackName.lastIndexOf(')')!==-1?callbackName.lastIndexOf(')'):callbackName.length,args=callbackName.substring(atStartBracket+1,atEndBracket),constructor=callbackName.indexOf('.')!==-1?callbackName.substr(0,callbackName.indexOf('.')):null;constructor=scope[constructor]&&typeof scope[constructor].constructor==='function'?constructor:null;return{callback:callbackName.substring(constructor&&constructor.length+1||0,atStartBracket),args:$.map(args&&args.split(',')||[],function(item){return[$parse(item)(scope)];}),constructor:constructor}}};this.invokeDrop=function($draggable,$droppable,event,ui){var dragModel='',dropModel='',dragSettings={},dropSettings={},jqyoui_pos=null,dragItem={},dropItem={},dragModelValue,dropModelValue,$droppableDraggable=null,droppableScope=this.droppableScope,draggableScope=this.draggableScope,$helper=null,promises=[],temp;dragModel=$draggable.ngattr('ng-model');dropModel=$droppable.ngattr('ng-model');dragModelValue=draggableScope.$eval(dragModel);dropModelValue=droppableScope.$eval(dropModel);$droppableDraggable=$droppable.find('[jqyoui-draggable]:last,[data-jqyoui-draggable]:last');dropSettings=droppableScope.$eval($droppable.attr('jqyoui-droppable')||$droppable.attr('data-jqyoui-droppable'))||[];dragSettings=draggableScope.$eval($draggable.attr('jqyoui-draggable')||$draggable.attr('data-jqyoui-draggable'))||[];dragSettings.index=this.fixIndex(draggableScope,dragSettings,dragModelValue);dropSettings.index=this.fixIndex(droppableScope,dropSettings,dropModelValue);jqyoui_pos=angular.isArray(dragModelValue)?dragSettings.index:null;dragItem=angular.isArray(dragModelValue)?dragModelValue[jqyoui_pos]:dragModelValue;if(dragSettings.deepCopy){dragItem=angular.copy(dragItem);}
if(angular.isArray(dropModelValue)&&dropSettings&&dropSettings.index!==undefined){dropItem=dropModelValue[dropSettings.index];}else if(!angular.isArray(dropModelValue)){dropItem=dropModelValue;}else{dropItem={};}
if(dropSettings.deepCopy){dropItem=angular.copy(dropItem);}
if(dragSettings.beforeDrop){promises.push(this.callEventCallback(draggableScope,dragSettings.beforeDrop,event,ui));}
$q.all(promises).then(angular.bind(this,function(){if(dragSettings.insertInline&&dragModel===dropModel){if(dragSettings.index>dropSettings.index){temp=dragModelValue[dragSettings.index];for(var i=dragSettings.index;i>dropSettings.index;i--){dropModelValue[i]=angular.copy(dropModelValue[i-1]);dropModelValue[i-1]={};dropModelValue[i][dragSettings.direction]='left';}
dropModelValue[dropSettings.index]=temp;}else{temp=dragModelValue[dragSettings.index];for(var i=dragSettings.index;i<dropSettings.index;i++){dropModelValue[i]=angular.copy(dropModelValue[i+1]);dropModelValue[i+1]={};dropModelValue[i][dragSettings.direction]='right';}
dropModelValue[dropSettings.index]=temp;}
this.callEventCallback(droppableScope,dropSettings.onDrop,event,ui);}else if(dragSettings.animate===true){$helper=$draggable.clone();$helper.css({'position':'absolute'}).css($draggable.offset());$('body').append($helper);$draggable.addClass('angular-dragdrop-hide');this.move($helper,$droppableDraggable.length>0?$droppableDraggable:$droppable,null,'fast',dropSettings,function(){$helper.remove();});this.move($droppableDraggable.length>0&&!dropSettings.multiple?$droppableDraggable:[],$draggable.parent('[jqyoui-droppable],[data-jqyoui-droppable]'),jqyoui.startXY,'fast',dropSettings,angular.bind(this,function(){$timeout(angular.bind(this,function(){$draggable.css({'position':'relative','left':'','top':''}).removeClass('angular-dragdrop-hide');$droppableDraggable.css({'position':'relative','left':'','top':'','display':$droppableDraggable.css('display')==='none'?'':$droppableDraggable.css('display')});this.mutateDraggable(draggableScope,dropSettings,dragSettings,dragModel,dropModel,dropItem,$draggable);this.mutateDroppable(droppableScope,dropSettings,dragSettings,dropModel,dragItem,jqyoui_pos);this.callEventCallback(droppableScope,dropSettings.onDrop,event,ui);}));}));}else{$timeout(angular.bind(this,function(){this.mutateDraggable(draggableScope,dropSettings,dragSettings,dragModel,dropModel,dropItem,$draggable);this.mutateDroppable(droppableScope,dropSettings,dragSettings,dropModel,dragItem,jqyoui_pos);this.callEventCallback(droppableScope,dropSettings.onDrop,event,ui);}));}})).finally(angular.bind(this,function(){this.restore($draggable);}));};this.move=function($fromEl,$toEl,toPos,duration,dropSettings,callback){if($fromEl.length===0){if(callback){window.setTimeout(function(){callback();},300);}
return false;}
var zIndex=$fromEl.css('z-index'),fromPos=$fromEl[dropSettings.containment||'offset'](),displayProperty=$toEl.css('display'),hadNgHideCls=$toEl.hasClass('ng-hide'),hadDNDHideCls=$toEl.hasClass('angular-dragdrop-hide');if(toPos===null&&$toEl.length>0){if(($toEl.attr('jqyoui-draggable')||$toEl.attr('data-jqyoui-draggable'))!==undefined&&$toEl.ngattr('ng-model')!==undefined&&$toEl.is(':visible')&&dropSettings&&dropSettings.multiple){toPos=$toEl[dropSettings.containment||'offset']();if(dropSettings.stack===false){toPos.left+=$toEl.outerWidth(true);}else{toPos.top+=$toEl.outerHeight(true);}}else{if(hadNgHideCls)$toEl.removeClass('ng-hide');if(hadDNDHideCls)$toEl.removeClass('angular-dragdrop-hide');toPos=$toEl.css({'visibility':'hidden','display':'block'})[dropSettings.containment||'offset']();$toEl.css({'visibility':'','display':displayProperty});}}
$fromEl.css({'position':'absolute','z-index':9999}).css(fromPos).animate(toPos,duration,function(){if(hadNgHideCls)$toEl.addClass('ng-hide');if(hadDNDHideCls)$toEl.addClass('angular-dragdrop-hide');$fromEl.css('z-index',zIndex);if(callback)callback();});};this.mutateDroppable=function(scope,dropSettings,dragSettings,dropModel,dragItem,jqyoui_pos){var dropModelValue=scope.$eval(dropModel);scope.dndDragItem=dragItem;if(angular.isArray(dropModelValue)){if(dropSettings&&dropSettings.index>=0){dropModelValue[dropSettings.index]=dragItem;}else{dropModelValue.push(dragItem);}
if(dragSettings&&dragSettings.placeholder===true){dropModelValue[dropModelValue.length-1]['jqyoui_pos']=jqyoui_pos;}}else{$parse(dropModel+' = dndDragItem')(scope);if(dragSettings&&dragSettings.placeholder===true){dropModelValue['jqyoui_pos']=jqyoui_pos;}}};this.mutateDraggable=function(scope,dropSettings,dragSettings,dragModel,dropModel,dropItem,$draggable){var isEmpty=angular.equals(dropItem,{})||!dropItem,dragModelValue=scope.$eval(dragModel);scope.dndDropItem=dropItem;if(dragSettings&&dragSettings.placeholder){if(dragSettings.placeholder!='keep'){if(angular.isArray(dragModelValue)&&dragSettings.index!==undefined){dragModelValue[dragSettings.index]=dropItem;}else{$parse(dragModel+' = dndDropItem')(scope);}}}else{if(angular.isArray(dragModelValue)){if(isEmpty){if(dragSettings&&(dragSettings.placeholder!==true&&dragSettings.placeholder!=='keep')){dragModelValue.splice(dragSettings.index,1);}}else{dragModelValue[dragSettings.index]=dropItem;}}else{$parse(dragModel+' = dndDropItem')(scope);if(scope.$parent){$parse(dragModel+' = dndDropItem')(scope.$parent);}}}
this.restore($draggable);};this.restore=function($draggable){$draggable.css({'z-index':'','left':'','top':''});};this.fixIndex=function(scope,settings,modelValue){if(settings.applyFilter&&angular.isArray(modelValue)&&modelValue.length>0){var dragModelValueFiltered=scope[settings.applyFilter](),lookup=dragModelValueFiltered[settings.index],actualIndex=undefined;modelValue.forEach(function(item,i){if(angular.equals(item,lookup)){actualIndex=i;}});return actualIndex;}
return settings.index;};}]).directive('jqyouiDraggable',['ngDragDropService',function(ngDragDropService){return{require:'?jqyouiDroppable',restrict:'A',link:function(scope,elem,attrs){var element=$(elem);var dragSettings,jqyouiOptions,zIndex,killWatcher;var updateDraggable=function(newValue,oldValue){if(newValue){dragSettings=scope.$eval(element.attr('jqyoui-draggable')||element.attr('data-jqyoui-draggable'))||{};jqyouiOptions=scope.$eval(attrs.jqyouiOptions)||{};element.draggable({disabled:false}).draggable(jqyouiOptions).draggable({start:function(event,ui){ngDragDropService.draggableScope=scope;zIndex=$(jqyouiOptions.helper?ui.helper:this).css('z-index');$(jqyouiOptions.helper?ui.helper:this).css('z-index',9999);jqyoui.startXY=$(this)[dragSettings.containment||'offset']();ngDragDropService.callEventCallback(scope,dragSettings.onStart,event,ui);},stop:function(event,ui){$(jqyouiOptions.helper?ui.helper:this).css('z-index',zIndex);ngDragDropService.callEventCallback(scope,dragSettings.onStop,event,ui);},drag:function(event,ui){ngDragDropService.callEventCallback(scope,dragSettings.onDrag,event,ui);}});}else{element.draggable({disabled:true});}
if(killWatcher&&angular.isDefined(newValue)&&(angular.equals(attrs.drag,'true')||angular.equals(attrs.drag,'false'))){killWatcher();killWatcher=null;}};killWatcher=scope.$watch(function(){return scope.$eval(attrs.drag);},updateDraggable);updateDraggable();element.on('$destroy',function(){element.draggable({disabled:true}).draggable('destroy');});}};}]).directive('jqyouiDroppable',['ngDragDropService','$q',function(ngDragDropService,$q){return{restrict:'A',priority:1,link:function(scope,elem,attrs){var element=$(elem);var dropSettings,jqyouiOptions,killWatcher;var updateDroppable=function(newValue,oldValue){if(newValue){dropSettings=scope.$eval($(element).attr('jqyoui-droppable')||$(element).attr('data-jqyoui-droppable'))||{};jqyouiOptions=scope.$eval(attrs.jqyouiOptions)||{};element.droppable({disabled:false}).droppable(jqyouiOptions).droppable({over:function(event,ui){ngDragDropService.callEventCallback(scope,dropSettings.onOver,event,ui);},out:function(event,ui){ngDragDropService.callEventCallback(scope,dropSettings.onOut,event,ui);},drop:function(event,ui){var beforeDropPromise=null;if(dropSettings.beforeDrop){beforeDropPromise=ngDragDropService.callEventCallback(scope,dropSettings.beforeDrop,event,ui);}else{beforeDropPromise=(function(){var deferred=$q.defer();deferred.resolve();return deferred.promise;})();}
beforeDropPromise.then(angular.bind(this,function(){if($(ui.draggable).ngattr('ng-model')&&attrs.ngModel){ngDragDropService.droppableScope=scope;ngDragDropService.invokeDrop($(ui.draggable),$(this),event,ui);}else{ngDragDropService.callEventCallback(scope,dropSettings.onDrop,event,ui);}}),function(){ui.draggable.animate({left:'',top:''},jqyouiOptions.revertDuration||0);});}});}else{element.droppable({disabled:true});}
if(killWatcher&&angular.isDefined(newValue)&&(angular.equals(attrs.drop,'true')||angular.equals(attrs.drop,'false'))){killWatcher();killWatcher=null;}};killWatcher=scope.$watch(function(){return scope.$eval(attrs.drop);},updateDroppable);updateDroppable();element.on('$destroy',function(){element.droppable({disabled:true}).droppable('destroy');});}};}]);$.fn.ngattr=function(name,value){var element=this[0];return element.getAttribute(name)||element.getAttribute('data-'+name);};}(global,frdl.a,global.jQuery));});};Module.prototype.jQueryPlugins=function(scope){
/*! http://unwrongest.com/projects/lazy/ Original: https://github.com/janjarfalk/jquery-lazy 
* @name Lazy 
* @descripton Lazy is Jquery plugin that lazy loads Jquery plugins 
* @version 1.5 
* @requires Jquery 1.2.6+ 
* @author Jan Jarfalk jan.jarfalk@unwrongest.com 
* * @param{String}src Path to the plugin you want to load 
* @param{String}name Function name of the plugin 
* @param{Hash}dependencies Hash with the keys js and css 
* @param{Array}js Array of paths to javascript dependencies 
* @param{Array}css Array of paths to css dependencies 
* @param{Bool}cache Enable or disable caching Edited: by Till Wehowski, http://frdl.de https://github.com/frdl/jquery-lazy */
function str_replace(search,replace,subject){try{return subject.split(search).join(replace);}catch(err){console.warn(err);return'';}}
$.lazy=function(options){var url=function(plugin,url){return('function'===typeof $.lazy.url)?$.lazy.url(plugin,url):(('string'===typeof $.lazy.url)?str_replace($.lazy.token,plugin,$.lazy.url):false);};if(typeof options.name==='string'){options.name=[options.name];}
$.each(options.name,function(i){var J=0,src=options.src,name=options.name[i],cache=options.cache||true,isFunction=options.isFunction||true,isMethod=options.isMethod||true,self,arg,object={},isjQuery=options.isjQuery||true;var u=new scope.Url(src),plugin=plugin||name,_u;if(''===u.getScheme()&&''===u.getHost()&&''===u.getPath()&&''===u.getQuery()&&''===u.getFile()){plugin=src;src=url(plugin,plugin);}else if(''===u.getScheme()||''===u.getHost()||''===u.getPath()||''===u.getQuery()||''===u.getFile()){if(''!==u.getQuery()&&true===u.hasParam($.lazy.plugin_param_default)){plugin=u.getParam($.lazy.plugin_param_default);}
if(''===u.getScheme()){u.setScheme(new frdl.Url(url(plugin,plugin)).getScheme());}
if(''===u.getHost()){u.setHost(new frdl.Url(url(plugin,plugin)).getHost());}
if(''===u.getPath()){u.setPath(new frdl.Url(url(plugin,plugin)).getPath());}
if(''===u.getQuery()){u.setQuery(new frdl.Url(url(plugin,plugin)).getQuery());}
if(''===u.getFile()){u.setFile(new frdl.Url(url(plugin,plugin)).getFile());}
var _port_def=new frdl.Url(url(plugin,plugin)).getPort();if(''!==_port_def&&''===u.getPort()){u.setPort(_port_def);}
src=u.urlMakeNew();}else{if(''!==u.getQuery()&&true===u.hasParam($.lazy.plugin_param_default)){plugin=u.getParam($.lazy.plugin_param_default);}}
u=new frdl.Url(src);if(''!==u.getScheme()&&'http'!==u.getScheme()&&'https'!==u.getScheme()){u.setScheme('https');src=str_replace('flow://','',u.urlMakeNew());src=str_replace('http://',location.protocol+'//',src);}
if(false===src&&true===frdl.strictmode){throw'Invalid plugin identifier';return false;}else if(false===src){console.warn('Invalid frdl Plugin Asset "'+plugin+'/'+src+'"');return false;}else if('string'!==typeof src){throw'Unexpected exception in $.lazy().';}
$.lazy.archive[src]={'status':'unloaded','plugin':plugin,'que':[]};function loadCSS(src,callback,self,name,arg){var u=new frdl.Url(src);if(''!==u.getScheme()&&'http'!==u.getScheme()&&'https'!==u.getScheme()){u.setScheme('https');src=str_replace('flow://','',u.urlMakeNew());src=str_replace('http://',location.protocol+'//',src);}
$.lazy.archive[src].status="loading";var node=document.createElement('link');node.type='text/css';node.rel='stylesheet';node.href=src;node.setAttribute($.lazy.f_style,plugin);document.getElementsByTagName("head")[0].appendChild(node);$.lazy.archive[src].status='loaded';if(callback)callback(self,name,arg);}
function loadJS(src,callback,self,name,arg){var u=new frdl.Url(src);if(''!==u.getScheme()&&'http'!==u.getScheme()&&'https'!==u.getScheme()){u.setScheme('https');src=frdl.str_replace('flow://','',u.urlMakeNew());src=frdl.str_replace('http://',location.protocol+'//',src);}
$.lazy.archive[src].status="loading";require(['loadPlain!'+src],function(___js){var s=document.createElement('script');s.setAttribute('flow-required-src',src);s.setAttribute($.lazy.f_script,plugin);s.innerHTML=___js.content;if('undefined'!==typeof document.head&&"complete"===document.readyState){document.head.append(s);}else{document.addEventListener('DOMContentLoaded',function(){document.head.append(s);});}
$.lazy.archive[src].status='loaded';if(callback){try{callback();}catch(err){console.warn(err);}}});}
function loadPlugin(self,name,arg){function callback(){try{if(typeof self==='object'){if(arg.length>0){$(self)[name].apply(self,arg);}else{$(self)[name]();}}else{$[name].apply(null,arg);}}catch(err){console.warn(err);}
$.each($.lazy.archive[src].que,function(i){var queItem=$.lazy.archive[src].que[i];if(typeof object[queItem.name]==='undefined'){console.error('Could not load '+queItem.name);}else{object[queItem.name].apply(queItem.self,queItem.arguments);}});$.lazy.archive[src].que=[];}
loadJS(src,callback,self,name,arg);}
function proxy(){var self=this;arg=arguments;if($.lazy.archive[src].status==='loaded'){$.each(this,function(i,c){if('eval'!==name&&'function'===typeof this[c]){this[c].apply(self,arg);}});}else if($.lazy.archive[src].status==='loading'){$.lazy.archive[src].que.push({'name':name,'self':self,'arguments':arg});}else{$.lazy.archive[src].status='loading';if(options.dependencies){var css=options.dependencies.css||[],js=options.dependencies.js||[];var total=css.length+js.length;function loadDependencies(array,callback,callbackCallback){var length=array.length,src;array=array.reverse();while(length--&&total--){src=array[length];if(typeof $.lazy.archive[src]==='undefined'){$.lazy.archive[src]={'status':'unloaded','que':[]};}
if($.lazy.archive[src].status==='unloaded'){if(!total){callback(src,function(){loadPlugin(self,name,arg);});}else{callback(src);}}else if(!total){loadPlugin(self,name,arg);}}}
loadDependencies(css,loadCSS);loadDependencies(js,loadJS);}else{loadPlugin(self,name,arg);}}
return this;};object[name]=proxy;if(isMethod){jQuery.fn.extend(object);}
if(isFunction){jQuery.extend(object);}});};$.lazy.archive={};$.lazy.token='%%PLUGINNAME%%';$.lazy.plugin_param_default='plugin';$.lazy.url=function(plugin,url){if('undefined'===typeof url)url=location.protocol+'//'+'api.webfan.de/api-d/4/js-api/library.js?plugin='+$.lazy.token;return str_replace($.lazy.token,plugin,url);};$.lazy.f_style='data-frdl-plugin-asset-style';$.lazy.f_script='data-frdl-plugin-asset-script';$.lazy.loadMap=function(a){frdl.each(a,function(ix,arr){if('array'===typeof arr){try{for(var i=0;i<arr.length;i++){$.lazy(arr[i]);}}catch(err){console.error(err);}}else{$.lazy(arr);}});};
/*!#FRDL * jquery.hide-event.js * Currently supported hides: hide, fadeOut, slideUp, remove, toggle, fadeToggle, slideToggle, * css (display), animate (height: hide, opacity: hide). * When a hide `h` is called, the event "hide" is triggered, with the additional parameter ["h"]. If it is * called as an action, the second parameter will be "action". If it is set as a CSS property it will be * "css". * https://github.com/hypesystem/showandtell.js */
function applyIfExistsOrNull(fun,self,args){return typeof fun!=="undefined"?fun.apply(self,args):null;}
function proxy$Functions(functionProxies){$.each(functionProxies,function(old_function_name,proxy_settings){var old_function=$.fn[old_function_name];$.fn[old_function_name]=function(){var pre_result=applyIfExistsOrNull(proxy_settings.pre,this,arguments);var result=old_function.apply(this,arguments);var postArguments=[result,pre_result,arguments];applyIfExistsOrNull(proxy_settings.post,this,postArguments);return result;}});}
function checkIfElementWasHidden(){return $(this).is(":hidden");}
if(!$.showandtell){$.showandtell=true;proxy$Functions({hide:{pre:checkIfElementWasHidden,post:function(result,elementWasHidden,old_args){if(!elementWasHidden)this.triggerHandler("hide",{type:"action"});}},show:{pre:checkIfElementWasHidden,post:function(result,elementWasHidden,old_args){if(elementWasHidden)this.triggerHandler("show",{type:"action"});}},remove:{pre:function(){this.triggerHandler("remove",{type:"action"});}},css:{pre:checkIfElementWasHidden,post:function(result,elementWasHidden,old_args){if(!elementWasHidden&&old_args[0]=="display"&&old_args[1]=="none")$(this).triggerHandler("hide",{type:"css"});if(elementWasHidden&&old_args[0]=="display"&&old_args[1]!="none")$(this).triggerHandler("show",{type:"css"});}}});}
/*! https://stackoverflow.com/questions/14645806/get-all-attributes-of-an-element-using-jquery
    - get All Attributes
*/
(function(old){$.fn.attr=function(){if(arguments.length===0){if(this.length===0){return null;}
var obj={};$.each(this[0].attributes,function(){if(this.specified){obj[this.name]=this.value;}});return obj;}
return old.apply(this,arguments);};})($.fn.attr);return this;};Module.prototype.ready=function(){if(true===this.isReady){this.state.emit('ready',true);return true;}
return false;};Module.prototype.interactive=function(){var body;return!(body=!!document.body&&'complete')&&'complete'===document.readyState;};Module.prototype.complete=function(){if(false===this.isLoading&&true===this.isReady){this.state.emit('complete',true);return true;}
return false;};Module.prototype.loading=function(){this.state.emit('loading',true);if(true===this.isLoading){return true;}
return false;};Module.prototype.mapjQueryPlugins=function(scope){$.lazy.loadMap(Webfan.hps.scriptengine['lazy-jquery']);return this;};return Module;});
/*! $53 webfan/frdl-jQuery */
define('webfan/frdl-jQuery',function(){
/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)
throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:(global||frdl),function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)
if(null!=(a=arguments[h]))
for(b in a)
c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)
return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)
if(d=b.apply(a[e],c),d===!1)
break}else
for(e in a)
if(d=b.apply(a[e],c),d===!1)
break}else if(g){for(;f>e;e++)
if(d=b.call(a[e],e,a[e]),d===!1)
break}else
for(e in a)
if(d=b.call(a[e],e,a[e]),d===!1)
break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)
a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)
d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)
for(;g>f;f++)
d=b(a[f],f,c),null!=d&&i.push(d);else
for(f in a)
d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}
var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)
if(this[b]===a)
return b;return-1;},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}
function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)
return d;if(1!==(k=b.nodeType)&&9!==k)
return[];if(p&&!e){if(f=_.exec(a))
if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)
return d;if(h.id===j)
return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)
return d.push(h),d}else{if(f[2])
return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)
return I.apply(d,b.getElementsByClassName(j)),d}
if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)
o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}
if(x)
try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}
return i(a.replace(R,"$1"),b,d,e)}
function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}
return b}
function hb(a){return a[u]=!0,a}
function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}
function jb(a,b){var c=a.split("|"),e=a.length;while(e--)
d.attrHandle[c[e]]=b}
function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)
return d;if(c)
while(c=c.nextSibling)
if(c===b)
return-1;return a?1:-1}
function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}
function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}
function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)
c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}
function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}
c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])
1===c.nodeType&&d.push(c);return d}
return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)
while(b=b.parentNode)
if(b===a)
return!0;return!1},B=b?function(a,b){if(a===b)
return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)
return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)
return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)
return kb(a,b);c=a;while(c=c.parentNode)
h.unshift(c);c=b;while(c=c.parentNode)
i.unshift(c);while(h[d]===i[d])
d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))
try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)
return d}catch(e){}
return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])
b===a[f]&&(e=d.push(f));while(e--)
a.splice(d[e],1)}
return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)
return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)
c+=e(a)}else if(3===f||4===f)
return a.nodeValue}else
while(b=a[d++])
c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])
if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)
return!1;o=p="only"===a&&!o&&"nextSibling"}
return!0}
if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())
if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)
m=j[1];else
while(l=++n&&l&&l[p]||(m=n=0)||o.pop())
if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))
break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)
d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)
(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do
if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))
return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)
if(a.nodeType<6)
return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)
a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)
a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)
a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)
a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})
d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})
d.pseudos[b]=mb(b);function pb(){}
pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)
return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)
!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)
break}
return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)
d+=a[b].value;return d}
function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])
if(1===b.nodeType||e)
return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])
if((1===b.nodeType||e)&&a(b,c,g))
return!0}else
while(b=b[d])
if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)
return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))
return!0}}}
function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)
if(!a[e](b,c,d))
return!1;return!0}:a[0]}
function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)
fb(a,b[d],c);return c}
function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)
(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}
function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)
(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}
if(f){if(e||a){if(e){j=[],k=r.length;while(k--)
(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}
k=r.length;while(k--)
(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else
r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}
function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)
if(c=d.relative[a[i].type])
m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)
if(d.relative[a[e].type])
break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}
m.push(c)}
return sb(m)}
function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])
if(o(l,g,h)){i.push(l);break}
k&&(w=v)}
c&&((l=!o&&l)&&p--,f&&r.push(l))}
if(p+=q,c&&q!==p){m=0;while(o=b[m++])
o(r,s,g,h);if(f){if(p>0)
while(q--)
r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}
I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}
return k&&(w=v,j=t),r};return c?hb(f):f}
return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)
f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}
return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)
return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}
i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])
break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)
return I.apply(e,f),e;break}}}
return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))
return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)
return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))
return n.filter(b,a,c);b=n.filter(b,a)}
return n.grep(a,function(a){return g.call(b,a)>=0!==c})}
n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)
return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)
if(n.contains(e[b],this))
return!0}));for(b=0;c>b;b++)
n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)
return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)
return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))
for(c in b)
n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}
return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}
return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)
if(1===a.nodeType){if(e&&n(a).is(c))
break;d.push(a)}
return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)
1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)
if(n.contains(this,b[a]))
return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)
for(c=this[d];c&&c!==b;c=c.parentNode)
if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}
return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}
n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}
n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)
if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}
d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}
return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)
h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)
for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)
c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}
n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)
n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))
for(;i>h;h++)
b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}
K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))
return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}
return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)
f[b]=c;else if(n.isEmptyObject(f))
n.extend(this.cache[e],b);else
for(d in b)
f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)
this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)
delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)
if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}
M.set(a,b,c)}else
c=void 0;return c}
n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)
g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}
return e}
return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)
return c;if(c=M.get(f,d),void 0!==c)
return c;if(c=P(f,d,void 0),void 0!==c)
return c}else
this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)
c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}
function $(){return!1}
function _(){try{return l.activeElement}catch(a){}}
n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)
h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)
if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)
k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else
for(o in i)
n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)
p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}
f=0;while((g=p[f++])&&!b.isPropagationStopped())
b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())
(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}
return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))
for(;i!==this;i=i.parentNode||this)
if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)
f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}
return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])
return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)
c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)
this.on(g,b,c,a[g],e);return this}
if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)
d=$;else if(!d)
return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)
return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)
this.off(e,b,a[e]);return this}
return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}
function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}
function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}
function mb(a,b){for(var c=0,d=a.length;d>c;c++)
L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}
function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)
for(c=0,d=j[e].length;d>c;c++)
n.event.add(b,e,j[e][c])}
M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}
function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}
function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}
n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))
for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)
pb(f[d],g[d]);if(b)
if(c)
for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)
nb(f[d],g[d]);else
nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)
if(e=a[m],e||0===e)
if("object"===n.type(e))
n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)
f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else
l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])
if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])
fb.test(e.type||"")&&c.push(e)}
return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)
for(d in b.events)
f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}
delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)
b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)
1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)
return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)
b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}
b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))
return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)
h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)
for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)
h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}
return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)
c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}
function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}
var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}
function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}
a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)
g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)
a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)
return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)
if(b=Eb[e]+c,b in a)
return b;return d}
function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}
function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}
function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))
return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}
return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}
function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)
d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)
d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}
n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)
e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)
f[b[g]]=n.css(a,b[g],!1,d);return f}
return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}
n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do
h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}
return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}
function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)
c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}
function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)
if(d=e[f].call(c,b,a))
return d}
function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)
if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])
continue;p=!0}
m[d]=q&&q[d]||n.style(a,d)}else
j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)
n.style(a,b,m[b])});for(d in m)
g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}
function Wb(a,b){var c,d,e,f,g;for(c in a)
if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)
c in a||(a[c]=f[c],b[c]=e)}else
b[d]=e}
function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)
return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)
j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)
return this;for(e=!0;d>c;c++)
j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)
if(d=Qb[f].call(j,a,k,j.opts))
return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}
n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)
c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)
g[e]&&g[e].stop&&d(g[e]);else
for(e in g)
g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)
f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)
f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)
d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)
a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)
return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)
while(c=f[e++])
d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)
return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))
return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)
for(b=(a||"").match(E)||[];j>i;i++)
if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])
d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}
return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))
return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)
for(b=(a||"").match(E)||[];j>i;i++)
if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])
while(d.indexOf(" "+e+" ")>=0)
d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}
return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])
e.hasClass(b)?e.removeClass(b):e.addClass(b)}else
(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)
if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)
return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)
return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)
return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)
if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)
return b;g.push(b)}
return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)
d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)
return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}
return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=l.createElement("a"),fc.href="",fc=fc.href}
ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))
while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}
function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}
return g(b.dataTypes[0])||!e["*"]&&g("*")}
function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)
void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}
function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])
i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)
for(e in h)
if(h[e]&&h[e].test(d)){i.unshift(e);break}
if(i[0]in c)
f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}
g||(g=e)}
f=f||g}
return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}
function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])
for(g in a.converters)
j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)
if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())
if("*"===f)
f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)
for(e in j)
if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}
if(g!==!0)
if(g&&a["throws"])
b=g(b);else
try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}
return{state:"success",data:b}}
n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded;charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))
f[b[1].toLowerCase()]=b[2]}
b=f[a.toLowerCase()]}
return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)
if(2>t)
for(b in a)
q[b]=[q[b],a[b]];else
v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)
return v;i=k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+";q=0.01":""):k.accepts["*"]);for(j in k.headers)
v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))
return v.abort();u="abort";for(j in{success:1,error:1,complete:1})
v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))
throw w;x(-1,w)}}else
x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}
return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)
a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(n.isArray(b))
n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))
d(a,b);else
for(e in b)
Bc(a+"["+e+"]",b[e],c,d)}
n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))
n.each(a,function(){e(this.name,this.value)});else
for(c in a)
Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Dc)
Dc[a]()}),k.cors=!!Fc&&"withCredentials"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)
for(e in a.xhrFields)
f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)
f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)
throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)
return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)
return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}
n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)
return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)
return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))
a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"===typeof define&&define.amd&&define("jquery",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n});return global.jQuery;});
/*! $54 idle */
define('idle',['webfan/bootcache!webfan/frdl-jQuery'],function(jQuery){'use strict';(function($){'use strict';$.fn.idle=function(options){var defaults={idle:60000,events:'mousemove keydown mousedown touchstart',onIdle:function(){},onActive:function(){},onHide:function(){},onShow:function(){},keepTracking:true,startAtIdle:false,recurIdleCall:false},idle=options.startAtIdle||false,visible=!options.startAtIdle||true,settings=$.extend({},defaults,options),lastId=null,resetTimeout,timeout;$(this).on("idle:stop",{},function(event){$(this).off(settings.events);settings.keepTracking=false;resetTimeout(lastId,settings);});$(this).on("idle:set",{},function(event,option,value){settings[option]=value;});resetTimeout=function(id,settings){if(idle){idle=false;settings.onActive.call();}
clearTimeout(id);if(settings.keepTracking){return timeout(settings);}};timeout=function(settings){var timer=(settings.recurIdleCall?setInterval:setTimeout),id;id=timer(function(){idle=true;settings.onIdle.call();},settings.idle);return id;};return this.each(function(){lastId=timeout(settings);$(this).on(settings.events,function(e){lastId=resetTimeout(lastId,settings);});if(settings.onShow||settings.onHide){$(document).on("visibilitychange webkitvisibilitychange mozvisibilitychange msvisibilitychange",function(){if(document.hidden||document.webkitHidden||document.mozHidden||document.msHidden){if(visible){visible=false;settings.onHide.call();}}else{if(!visible){visible=true;settings.onShow.call();}}});}});};}(jQuery));return jQuery.fn.idle;});
/*! $55 angular-frdl */
/*!*
 * @license AngularJS v1.5.3
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
define('angular-frdl',function(){(function(window,document,undefined){'use strict';function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;return function(){var SKIP_INDEXES=2;var templateArgs=arguments,code=templateArgs[0],message='['+(module?module+':':'')+code+'] ',template=templateArgs[1],paramPrefix,i;message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1),shiftedIndex=index+SKIP_INDEXES;if(shiftedIndex<templateArgs.length){return toDebugString(templateArgs[shiftedIndex]);}
return match;});message+='\nhttp://errors.angularjs.org/1.5.3/'+
(module?module+'/':'')+code;for(i=SKIP_INDEXES,paramPrefix='?';i<templateArgs.length;i++,paramPrefix='&'){message+=paramPrefix+'p'+(i-SKIP_INDEXES)+'='+
encodeURIComponent(toDebugString(templateArgs[i]));}
return new ErrorConstructor(message);};}
var frdl_ql_DATABASE='angular';var frdl_ql_table_name_caches='caches';var frdl_ql_table_caches=frdl_ql_DATABASE+'.'+frdl_ql_table_name_caches;var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/;var VALIDITY_STATE_PROPERTY='validity';var hasOwnProperty=Object.prototype.hasOwnProperty;var lowercase=function(string){return isString(string)?string.toLowerCase():string;};var uppercase=function(string){return isString(string)?string.toUpperCase():string;};var manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)|32);}):s;};var manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)&~32);}):s;};if('i'!=='I'.toLowerCase()){lowercase=manualLowercase;uppercase=manualUppercase;}
var
msie,jqLite,jQuery,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr('ng'),angular=window.angular||(window.angular={}),angularModule,uid=0;msie=document.documentMode;function isArrayLike(obj){if(obj==null||isWindow(obj))return false;if(isArray(obj)||isString(obj)||(jqLite&&obj instanceof jqLite))return true;var length="length"in Object(obj)&&obj.length;return isNumber(length)&&(length>=0&&((length-1)in obj||obj instanceof Array)||typeof obj.item=='function');}
function forEach(obj,iterator,context){var key,length;if(obj){if(isFunction(obj)){for(key in obj){if(key!='prototype'&&key!='length'&&key!='name'&&(!obj.hasOwnProperty||obj.hasOwnProperty(key))){iterator.call(context,obj[key],key,obj);}}}else if(isArray(obj)||isArrayLike(obj)){var isPrimitive=typeof obj!=='object';for(key=0,length=obj.length;key<length;key++){if(isPrimitive||key in obj){iterator.call(context,obj[key],key,obj);}}}else if(obj.forEach&&obj.forEach!==forEach){obj.forEach(iterator,context,obj);}else if(isBlankObject(obj)){for(key in obj){iterator.call(context,obj[key],key,obj);}}else if(typeof obj.hasOwnProperty==='function'){for(key in obj){if(obj.hasOwnProperty(key)){iterator.call(context,obj[key],key,obj);}}}else{for(key in obj){if(hasOwnProperty.call(obj,key)){iterator.call(context,obj[key],key,obj);}}}}
return obj;}
function forEachSorted(obj,iterator,context){var keys=Object.keys(obj).sort();for(var i=0;i<keys.length;i++){iterator.call(context,obj[keys[i]],keys[i]);}
return keys;}
function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value);};}
function nextUid(){return++uid;}
function setHashKey(obj,h){if(h){obj.$$hashKey=h;}else{delete obj.$$hashKey;}}
function baseExtend(dst,objs,deep){var h=dst.$$hashKey;for(var i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(!isObject(obj)&&!isFunction(obj))continue;var keys=Object.keys(obj);for(var j=0,jj=keys.length;j<jj;j++){var key=keys[j];var src=obj[key];if(deep&&isObject(src)){if(isDate(src)){dst[key]=new Date(src.valueOf());}else if(isRegExp(src)){dst[key]=new RegExp(src);}else if(src.nodeName){dst[key]=src.cloneNode(true);}else if(isElement(src)){dst[key]=src.clone();}else{if(!isObject(dst[key]))dst[key]=isArray(src)?[]:{};baseExtend(dst[key],[src],true);}}else{dst[key]=src;}}}
setHashKey(dst,h);return dst;}
function extend(dst){return baseExtend(dst,slice.call(arguments,1),false);}
function merge(dst){return baseExtend(dst,slice.call(arguments,1),true);}
function toInt(str){return parseInt(str,10);}
function inherit(parent,extra){return extend(Object.create(parent),extra);}
function noop(){}
noop.$inject=[];function identity($){return $;}
identity.$inject=[];function valueFn(value){return function valueRef(){return value;};}
function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==toString;}
function isUndefined(value){return typeof value==='undefined';}
function isDefined(value){return typeof value!=='undefined';}
function isObject(value){return value!==null&&typeof value==='object';}
function isBlankObject(value){return value!==null&&typeof value==='object'&&!getPrototypeOf(value);}
function isString(value){return typeof value==='string';}
function isNumber(value){return typeof value==='number';}
function isDate(value){return toString.call(value)==='[object Date]';}
var isArray=Array.isArray;function isFunction(value){return typeof value==='function';}
function isRegExp(value){return toString.call(value)==='[object RegExp]';}
function isWindow(obj){return obj&&obj.window===obj;}
function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch;}
function isFile(obj){return toString.call(obj)==='[object File]';}
function isFormData(obj){return toString.call(obj)==='[object FormData]';}
function isBlob(obj){return toString.call(obj)==='[object Blob]';}
function isBoolean(value){return typeof value==='boolean';}
function isPromiseLike(obj){return obj&&isFunction(obj.then);}
var TYPED_ARRAY_REGEXP=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function isTypedArray(value){return value&&isNumber(value.length)&&TYPED_ARRAY_REGEXP.test(toString.call(value));}
function isArrayBuffer(obj){return toString.call(obj)==='[object ArrayBuffer]';}
var trim=function(value){return isString(value)?value.trim():value;};var escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,'\\$1').replace(/\x08/g,'\\x08');};function isElement(node){return!!(node&&(node.nodeName||(node.prop&&node.attr&&node.find)));}
function makeMap(str){var obj={},items=str.split(','),i;for(i=0;i<items.length;i++){obj[items[i]]=true;}
return obj;}
function nodeName_(element){return lowercase(element.nodeName||(element[0]&&element[0].nodeName));}
function includes(array,obj){return Array.prototype.indexOf.call(array,obj)!=-1;}
function arrayRemove(array,value){var index=array.indexOf(value);if(index>=0){array.splice(index,1);}
return index;}
function copy(source,destination){var stackSource=[];var stackDest=[];if(destination){if(isTypedArray(destination)||isArrayBuffer(destination)){throw ngMinErr('cpta',"Can't copy! TypedArray destination cannot be mutated.");}
if(source===destination){throw ngMinErr('cpi',"Can't copy! Source and destination are identical.");}
if(isArray(destination)){destination.length=0;}else{forEach(destination,function(value,key){if(key!=='$$hashKey'){delete destination[key];}});}
stackSource.push(source);stackDest.push(destination);return copyRecurse(source,destination);}
return copyElement(source);function copyRecurse(source,destination){var h=destination.$$hashKey;var key;if(isArray(source)){for(var i=0,ii=source.length;i<ii;i++){destination.push(copyElement(source[i]));}}else if(isBlankObject(source)){for(key in source){destination[key]=copyElement(source[key]);}}else if(source&&typeof source.hasOwnProperty==='function'){for(key in source){if(source.hasOwnProperty(key)){destination[key]=copyElement(source[key]);}}}else{for(key in source){if(hasOwnProperty.call(source,key)){destination[key]=copyElement(source[key]);}}}
setHashKey(destination,h);return destination;}
function copyElement(source){if(!isObject(source)){return source;}
var index=stackSource.indexOf(source);if(index!==-1){return stackDest[index];}
if(isWindow(source)||isScope(source)){throw ngMinErr('cpws',"Can't copy! Making copies of Window or Scope instances is not supported.");}
var needsRecurse=false;var destination=copyType(source);if(destination===undefined){destination=isArray(source)?[]:Object.create(getPrototypeOf(source));needsRecurse=true;}
stackSource.push(source);stackDest.push(destination);return needsRecurse?copyRecurse(source,destination):destination;}
function copyType(source){switch(toString.call(source)){case'[object Int8Array]':case'[object Int16Array]':case'[object Int32Array]':case'[object Float32Array]':case'[object Float64Array]':case'[object Uint8Array]':case'[object Uint8ClampedArray]':case'[object Uint16Array]':case'[object Uint32Array]':return new source.constructor(copyElement(source.buffer));case'[object ArrayBuffer]':if(!source.slice){var copied=new ArrayBuffer(source.byteLength);new Uint8Array(copied).set(new Uint8Array(source));return copied;}
return source.slice(0);case'[object Boolean]':case'[object Number]':case'[object String]':case'[object Date]':return new source.constructor(source.valueOf());case'[object RegExp]':var re=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]);re.lastIndex=source.lastIndex;return re;case'[object Blob]':return new source.constructor([source],{type:source.type});}
if(isFunction(source.cloneNode)){return source.cloneNode(true);}}}
function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i];}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==='$'&&key.charAt(1)==='$')){dst[key]=src[key];}}}
return dst||src;}
function equals(o1,o2){if(o1===o2)return true;if(o1===null||o2===null)return false;if(o1!==o1&&o2!==o2)return true;var t1=typeof o1,t2=typeof o2,length,key,keySet;if(t1==t2&&t1=='object'){if(isArray(o1)){if(!isArray(o2))return false;if((length=o1.length)==o2.length){for(key=0;key<length;key++){if(!equals(o1[key],o2[key]))return false;}
return true;}}else if(isDate(o1)){if(!isDate(o2))return false;return equals(o1.getTime(),o2.getTime());}else if(isRegExp(o1)){if(!isRegExp(o2))return false;return o1.toString()==o2.toString();}else{if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return false;keySet=createMap();for(key in o1){if(key.charAt(0)==='$'||isFunction(o1[key]))continue;if(!equals(o1[key],o2[key]))return false;keySet[key]=true;}
for(key in o2){if(!(key in keySet)&&key.charAt(0)!=='$'&&isDefined(o2[key])&&!isFunction(o2[key]))return false;}
return true;}}
return false;}
var csp=function(){if(!isDefined(csp.rules)){var ngCspElement=(document.querySelector('[ng-csp]')||document.querySelector('[data-ng-csp]'));if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute('ng-csp')||ngCspElement.getAttribute('data-ng-csp');csp.rules={noUnsafeEval:!ngCspAttribute||(ngCspAttribute.indexOf('no-unsafe-eval')!==-1),noInlineStyle:!ngCspAttribute||(ngCspAttribute.indexOf('no-inline-style')!==-1)};}else{csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:false};}}
return csp.rules;function noUnsafeEval(){try{new Function('');return false;}catch(e){return true;}}};var jq=function(){if(isDefined(jq.name_))return jq.name_;var el;var i,ii=ngAttrPrefixes.length,prefix,name;for(i=0;i<ii;++i){prefix=ngAttrPrefixes[i];if(el=document.querySelector('['+prefix.replace(':','\\:')+'jq]')){name=el.getAttribute(prefix+'jq');break;}}
return(jq.name_=name);};function concat(array1,array2,index){return array1.concat(slice.call(array2,index));}
function sliceArgs(args,startIndex){return slice.call(args,startIndex||0);}
function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];if(isFunction(fn)&&!(fn instanceof RegExp)){return curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs);}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self);};}else{return fn;}}
function toJsonReplacer(key,value){var val=value;if(typeof key==='string'&&key.charAt(0)==='$'&&key.charAt(1)==='$'){val=undefined;}else if(isWindow(value)){val='$WINDOW';}else if(value&&document===value){val='$DOCUMENT';}else if(isScope(value)){val='$SCOPE';}
return val;}
function toJson(obj,pretty){if(isUndefined(obj))return undefined;if(!isNumber(pretty)){pretty=pretty?2:null;}
return JSON.stringify(obj,toJsonReplacer,pretty);}
function fromJson(json){return isString(json)?JSON.parse(json):json;}
var ALL_COLONS=/:/g;function timezoneToOffset(timezone,fallback){timezone=timezone.replace(ALL_COLONS,'');var requestedTimezoneOffset=Date.parse('Jan 01, 1970 00:00:00 '+timezone)/60000;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset;}
function addDateMinutes(date,minutes){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+minutes);return date;}
function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();var timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset));}
function startingTag(element){element=jqLite(element).clone();try{element.empty();}catch(e){}
var elemHtml=jqLite('<div>').append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return'<'+lowercase(nodeName);});}catch(e){return lowercase(elemHtml);}}
function tryDecodeURIComponent(value){try{return decodeURIComponent(value);}catch(e){}}
function parseKeyValue(keyValue){var obj={};forEach((keyValue||"").split('&'),function(keyValue){var splitPoint,key,val;if(keyValue){key=keyValue=keyValue.replace(/\+/g,'%20');splitPoint=keyValue.indexOf('=');if(splitPoint!==-1){key=keyValue.substring(0,splitPoint);val=keyValue.substring(splitPoint+1);}
key=tryDecodeURIComponent(key);if(isDefined(key)){val=isDefined(val)?tryDecodeURIComponent(val):true;if(!hasOwnProperty.call(obj,key)){obj[key]=val;}else if(isArray(obj[key])){obj[key].push(val);}else{obj[key]=[obj[key],val];}}}});return obj;}
function toKeyValue(obj){var parts=[];forEach(obj,function(value,key){if(isArray(value)){forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,true)+
(arrayValue===true?'':'='+encodeUriQuery(arrayValue,true)));});}else{parts.push(encodeUriQuery(key,true)+
(value===true?'':'='+encodeUriQuery(value,true)));}});return parts.length?parts.join('&'):'';}
function encodeUriSegment(val){return encodeUriQuery(val,true).replace(/%26/gi,'&').replace(/%3D/gi,'=').replace(/%2B/gi,'+');}
function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,'@').replace(/%3A/gi,':').replace(/%24/g,'$').replace(/%2C/gi,',').replace(/%3B/gi,';').replace(/%20/g,(pctEncodeSpaces?'%20':'+'));}
var ngAttrPrefixes=['ng-','data-ng-','ng:','x-ng-'];function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i){attr=ngAttrPrefixes[i]+ngAttr;if(isString(attr=element.getAttribute(attr))){return attr;}}
return null;}
function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+'app';if(!appElement&&element.hasAttribute&&element.hasAttribute(name)){appElement=element;module=element.getAttribute(name);}});forEach(ngAttrPrefixes,function(prefix){var name=prefix+'app';var candidate;if(!appElement&&(candidate=element.querySelector('['+name.replace(':','\\:')+']'))){appElement=candidate;module=candidate.getAttribute(name);}});if(appElement){config.strictDi=getNgAttribute(appElement,"strict-di")!==null;bootstrap(appElement,module?[module]:[],config);}}
function bootstrap(element,modules,config){if(!isObject(config))config={};var defaultConfig={strictDi:false};config=extend(defaultConfig,config);var doBootstrap=function(){element=jqLite(element);if(element.injector()){var tag=(element[0]===document)?'document':startingTag(element);throw ngMinErr('btstrpd',"App Already Bootstrapped with this Element '{0}'",tag.replace(/</,'&lt;').replace(/>/,'&gt;'));}
modules=modules||[];modules.unshift(['$provide',function($provide){$provide.value('$rootElement',element);}]);if(config.debugInfoEnabled){modules.push(['$compileProvider',function($compileProvider){$compileProvider.debugInfoEnabled(true);}]);}
modules.unshift('ng');var injector=createInjector(modules,config.strictDi);injector.invoke(['$rootScope','$rootElement','$compile','$injector',function bootstrapApply(scope,element,compile,injector){scope.$apply(function(){element.data('$injector',injector);compile(element)(scope);});}]);return injector;};var NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/;var NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;if(window&&NG_ENABLE_DEBUG_INFO.test(window.name)){config.debugInfoEnabled=true;window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,'');}
if(window&&!NG_DEFER_BOOTSTRAP.test(window.name)){return doBootstrap();}
window.name=window.name.replace(NG_DEFER_BOOTSTRAP,'');angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module);});return doBootstrap();};if(isFunction(angular.resumeDeferredBootstrap)){angular.resumeDeferredBootstrap();}}
function reloadWithDebugInfo(){window.name='NG_ENABLE_DEBUG_INFO!'+window.name;window.location.reload();}
function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector){throw ngMinErr('test','no injector found for element argument to getTestability');}
return injector.get('$$testability');}
var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name,separator){separator=separator||'_';return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:'')+letter.toLowerCase();});}
var bindJQueryFired=false;function bindJQuery(){var originalCleanData;if(bindJQueryFired){return;}
var jqName=jq();jQuery=isUndefined(jqName)?window.jQuery:!jqName?undefined:window[jqName];if(jQuery&&jQuery.fn.on){jqLite=jQuery;extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData});originalCleanData=jQuery.cleanData;jQuery.cleanData=function(elems){var events;for(var i=0,elem;(elem=elems[i])!=null;i++){events=jQuery._data(elem,"events");if(events&&events.$destroy){jQuery(elem).triggerHandler('$destroy');}}
originalCleanData(elems);};}else{jqLite=JQLite;}
angular.element=jqLite;bindJQueryFired=true;}
function assertArg(arg,name,reason){if(!arg){throw ngMinErr('areq',"Argument '{0}' is {1}",(name||'?'),(reason||"required"));}
return arg;}
function assertArgFn(arg,name,acceptArrayAnnotation){if(acceptArrayAnnotation&&isArray(arg)){arg=arg[arg.length-1];}
assertArg(isFunction(arg),name,'not a function, got '+
(arg&&typeof arg==='object'?arg.constructor.name||'Object':typeof arg));return arg;}
function assertNotHasOwnProperty(name,context){if(name==='hasOwnProperty'){throw ngMinErr('badname',"hasOwnProperty is not a valid {0} name",context);}}
function getter(obj,path,bindFnToScope){if(!path)return obj;var keys=path.split('.');var key;var lastInstance=obj;var len=keys.length;for(var i=0;i<len;i++){key=keys[i];if(obj){obj=(lastInstance=obj)[key];}}
if(!bindFnToScope&&isFunction(obj)){return bind(lastInstance,obj);}
return obj;}
function getBlockNodes(nodes){var node=nodes[0];var endNode=nodes[nodes.length-1];var blockNodes;for(var i=1;node!==endNode&&(node=node.nextSibling);i++){if(blockNodes||nodes[i]!==node){if(!blockNodes){blockNodes=jqLite(slice.call(nodes,0,i));}
blockNodes.push(node);}}
return blockNodes||nodes;}
function createMap(){return Object.create(null);}
var NODE_TYPE_ELEMENT=1;var NODE_TYPE_ATTRIBUTE=2;var NODE_TYPE_TEXT=3;var NODE_TYPE_COMMENT=8;var NODE_TYPE_DOCUMENT=9;var NODE_TYPE_DOCUMENT_FRAGMENT=11;function setupModuleLoader(window){var $injectorMinErr=minErr('$injector');var ngMinErr=minErr('ng');function ensure(obj,name,factory){return obj[name]||(obj[name]=factory());}
var angular=ensure(window,'angular',Object);angular.$$minErr=angular.$$minErr||minErr;return ensure(angular,'module',function(){var modules={};return function module(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if(name==='hasOwnProperty'){throw ngMinErr('badname','hasOwnProperty is not a valid {0} name',context);}};assertNotHasOwnProperty(name,'module');if(requires&&modules.hasOwnProperty(name)){modules[name]=null;}
return ensure(modules,name,function(){if(!requires){throw $injectorMinErr('nomod',"Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",name);}
var invokeQueue=[];var configBlocks=[];var runBlocks=[];var config=invokeLater('$injector','invoke','push',configBlocks);var moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLaterAndSetModuleName('$provide','provider'),factory:invokeLaterAndSetModuleName('$provide','factory'),service:invokeLaterAndSetModuleName('$provide','service'),value:invokeLater('$provide','value'),constant:invokeLater('$provide','constant','unshift'),decorator:invokeLaterAndSetModuleName('$provide','decorator'),animation:invokeLaterAndSetModuleName('$animateProvider','register'),filter:invokeLaterAndSetModuleName('$filterProvider','register'),controller:invokeLaterAndSetModuleName('$controllerProvider','register'),directive:invokeLaterAndSetModuleName('$compileProvider','directive'),component:invokeLaterAndSetModuleName('$compileProvider','component'),config:config,run:function(block){runBlocks.push(block);return this;}};if(configFn){config(configFn);}
return moduleInstance;function invokeLater(provider,method,insertMethod,queue){if(!queue)queue=invokeQueue;return function(){queue[insertMethod||'push']([provider,method,arguments]);return moduleInstance;};}
function invokeLaterAndSetModuleName(provider,method){return function(recipeName,factoryFunction){if(factoryFunction&&isFunction(factoryFunction))factoryFunction.$$moduleName=name;invokeQueue.push([provider,method,arguments]);return moduleInstance;};}});};});}
function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){val=toJsonReplacer(key,val);if(isObject(val)){if(seen.indexOf(val)>=0)return'...';seen.push(val);}
return val;});}
function toDebugString(obj){if(typeof obj==='function'){return obj.toString().replace(/ \{[\s\S]*$/,'');}else if(isUndefined(obj)){return'undefined';}else if(typeof obj!=='string'){return serializeObject(obj);}
return obj;}
var version={full:'1.5.3',major:1,minor:5,dot:3,codeName:'diplohaplontic-meiosis'};function publishExternalAPI(angular){extend(angular,{'bootstrap':bootstrap,'copy':copy,'extend':extend,'merge':merge,'equals':equals,'element':jqLite,'forEach':forEach,'injector':createInjector,'noop':noop,'bind':bind,'toJson':toJson,'fromJson':fromJson,'identity':identity,'isUndefined':isUndefined,'isDefined':isDefined,'isString':isString,'isFunction':isFunction,'isObject':isObject,'isNumber':isNumber,'isElement':isElement,'isArray':isArray,'version':version,'isDate':isDate,'lowercase':lowercase,'uppercase':uppercase,'callbacks':{counter:0},'getTestability':getTestability,'$$minErr':minErr,'$$csp':csp,'reloadWithDebugInfo':reloadWithDebugInfo});angularModule=setupModuleLoader(window);angularModule('ng',['ngLocale'],['$provide',function ngModule($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider});$provide.provider('$compile',$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives);$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateJs:$$CoreAnimateJsProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$AnimateRunnerFactoryProvider,$$animateAsyncRun:$$AnimateAsyncRunFactoryProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$HashMap:$$HashMapProvider,$$cookieReader:$$CookieReaderProvider});}]);}
JQLite.expando='ng339';var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,false);},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,false);};JQLite._data=function(node){return this.cache[node[this.expando]]||{};};function jqNextId(){return++jqId;}
var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g;var MOZ_HACK_REGEXP=/^moz([A-Z])/;var MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"};var jqLiteMinErr=minErr('jqLite');function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter;}).replace(MOZ_HACK_REGEXP,'Moz$1');}
var SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var HTML_REGEXP=/<|&#?\w+;/;var TAG_NAME_REGEXP=/<([\w:-]+)/;var XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;var wrapMap={'option':[1,'<select multiple="multiple">','</select>'],'thead':[1,'<table>','</table>'],'col':[2,'<table><colgroup>','</colgroup></table>'],'tr':[2,'<table><tbody>','</tbody></table>'],'td':[3,'<table><tbody><tr>','</tr></tbody></table>'],'_default':[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html);}
function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT;}
function jqLiteHasData(node){for(var key in jqCache[node.ng339]){return true;}
return false;}
function jqLiteCleanData(nodes){for(var i=0,ii=nodes.length;i<ii;i++){jqLiteRemoveData(nodes[i]);}}
function jqLiteBuildFragment(html,context){var tmp,tag,wrap,fragment=context.createDocumentFragment(),nodes=[],i;if(jqLiteIsTextNode(html)){nodes.push(context.createTextNode(html));}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2];i=wrap[0];while(i--){tmp=tmp.lastChild;}
nodes=concat(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent="";}
fragment.textContent="";fragment.innerHTML="";forEach(nodes,function(node){fragment.appendChild(node);});return fragment;}
function jqLiteParseHTML(html,context){context=context||document;var parsed;if((parsed=SINGLE_TAG_REGEXP.exec(html))){return[context.createElement(parsed[1])];}
if((parsed=jqLiteBuildFragment(html,context))){return parsed.childNodes;}
return[];}
function jqLiteWrapNode(node,wrapper){var parent=node.parentNode;if(parent){parent.replaceChild(wrapper,node);}
wrapper.appendChild(node);}
var jqLiteContains=Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16);};function JQLite(element){if(element instanceof JQLite){return element;}
var argIsString;if(isString(element)){element=trim(element);argIsString=true;}
if(!(this instanceof JQLite)){if(argIsString&&element.charAt(0)!='<'){throw jqLiteMinErr('nosel','Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element');}
return new JQLite(element);}
if(argIsString){jqLiteAddNodes(this,jqLiteParseHTML(element));}else{jqLiteAddNodes(this,element);}}
function jqLiteClone(element){return element.cloneNode(true);}
function jqLiteDealoc(element,onlyDescendants){if(!onlyDescendants)jqLiteRemoveData(element);if(element.querySelectorAll){var descendants=element.querySelectorAll('*');for(var i=0,l=descendants.length;i<l;i++){jqLiteRemoveData(descendants[i]);}}}
function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr('offargs','jqLite#off() does not support the `selector` argument');var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var handle=expandoStore&&expandoStore.handle;if(!handle)return;if(!type){for(type in events){if(type!=='$destroy'){removeEventListenerFn(element,type,handle);}
delete events[type];}}else{var removeHandler=function(type){var listenerFns=events[type];if(isDefined(fn)){arrayRemove(listenerFns||[],fn);}
if(!(isDefined(fn)&&listenerFns&&listenerFns.length>0)){removeEventListenerFn(element,type,handle);delete events[type];}};forEach(type.split(' '),function(type){removeHandler(type);if(MOUSE_EVENT_MAP[type]){removeHandler(MOUSE_EVENT_MAP[type]);}});}}
function jqLiteRemoveData(element,name){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name){delete expandoStore.data[name];return;}
if(expandoStore.handle){if(expandoStore.events.$destroy){expandoStore.handle({},'$destroy');}
jqLiteOff(element);}
delete jqCache[expandoId];element.ng339=undefined;}}
function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(createIfNecessary&&!expandoStore){element.ng339=expandoId=jqNextId();expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined};}
return expandoStore;}
function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value);var isSimpleGetter=!isSimpleSetter&&key&&!isObject(key);var massGetter=!key;var expandoStore=jqLiteExpandoStore(element,!isSimpleGetter);var data=expandoStore&&expandoStore.data;if(isSimpleSetter){data[key]=value;}else{if(massGetter){return data;}else{if(isSimpleGetter){return data&&data[key];}else{extend(data,key);}}}}}
function jqLiteHasClass(element,selector){if(!element.getAttribute)return false;return((" "+(element.getAttribute('class')||'')+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1);}
function jqLiteRemoveClass(element,cssClasses){if(cssClasses&&element.setAttribute){forEach(cssClasses.split(' '),function(cssClass){element.setAttribute('class',trim((" "+(element.getAttribute('class')||'')+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")));});}}
function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(' '+(element.getAttribute('class')||'')+' ').replace(/[\n\t]/g," ");forEach(cssClasses.split(' '),function(cssClass){cssClass=trim(cssClass);if(existingClasses.indexOf(' '+cssClass+' ')===-1){existingClasses+=cssClass+' ';}});element.setAttribute('class',trim(existingClasses));}}
function jqLiteAddNodes(root,elements){if(elements){if(elements.nodeType){root[root.length++]=elements;}else{var length=elements.length;if(typeof length==='number'&&elements.window!==elements){if(length){for(var i=0;i<length;i++){root[root.length++]=elements[i];}}}else{root[root.length++]=elements;}}}}
function jqLiteController(element,name){return jqLiteInheritedData(element,'$'+(name||'ngController')+'Controller');}
function jqLiteInheritedData(element,name,value){if(element.nodeType==NODE_TYPE_DOCUMENT){element=element.documentElement;}
var names=isArray(name)?name:[name];while(element){for(var i=0,ii=names.length;i<ii;i++){if(isDefined(value=jqLite.data(element,names[i])))return value;}
element=element.parentNode||(element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host);}}
function jqLiteEmpty(element){jqLiteDealoc(element,true);while(element.firstChild){element.removeChild(element.firstChild);}}
function jqLiteRemove(element,keepData){if(!keepData)jqLiteDealoc(element);var parent=element.parentNode;if(parent)parent.removeChild(element);}
function jqLiteDocumentLoaded(action,win){win=win||window;if(win.document.readyState==='complete'){win.setTimeout(action);}else{jqLite(win).on('load',action);}}
var JQLitePrototype=JQLite.prototype={ready:function(fn){var fired=false;function trigger(){if(fired)return;fired=true;fn();}
if(document.readyState==='complete'){setTimeout(trigger);}else{this.on('DOMContentLoaded',trigger);JQLite(window).on('load',trigger);}},toString:function(){var value=[];forEach(this,function(e){value.push(''+e);});return'['+value.join(', ')+']';},eq:function(index){return(index>=0)?jqLite(this[index]):jqLite(this[this.length+index]);},length:0,push:push,sort:[].sort,splice:[].splice};var BOOLEAN_ATTR={};forEach('multiple,selected,checked,disabled,readOnly,required,open'.split(','),function(value){BOOLEAN_ATTR[lowercase(value)]=value;});var BOOLEAN_ELEMENTS={};forEach('input,select,option,textarea,button,form,details'.split(','),function(value){BOOLEAN_ELEMENTS[value]=true;});var ALIASED_ATTR={'ngMinlength':'minlength','ngMaxlength':'maxlength','ngMin':'min','ngMax':'max','ngPattern':'pattern'};function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr;}
function getAliasedAttrName(name){return ALIASED_ATTR[name];}
forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:jqLiteCleanData},function(fn,name){JQLite[name]=fn;});forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,'$scope')||jqLiteInheritedData(element.parentNode||element,['$isolateScope','$scope']);},isolateScope:function(element){return jqLite.data(element,'$isolateScope')||jqLite.data(element,'$isolateScopeNoTemplate');},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,'$injector');},removeAttr:function(element,name){element.removeAttribute(name);},hasClass:jqLiteHasClass,css:function(element,name,value){name=camelCase(name);if(isDefined(value)){element.style[name]=value;}else{return element.style[name];}},attr:function(element,name,value){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_TEXT||nodeType===NODE_TYPE_ATTRIBUTE||nodeType===NODE_TYPE_COMMENT){return;}
var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(isDefined(value)){if(!!value){element[name]=true;element.setAttribute(name,lowercasedName);}else{element[name]=false;element.removeAttribute(lowercasedName);}}else{return(element[name]||(element.attributes.getNamedItem(name)||noop).specified)?lowercasedName:undefined;}}else if(isDefined(value)){element.setAttribute(name,value);}else if(element.getAttribute){var ret=element.getAttribute(name,2);return ret===null?undefined:ret;}},prop:function(element,name,value){if(isDefined(value)){element[name]=value;}else{return element[name];}},text:(function(){getText.$dv='';return getText;function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT)?element.textContent:'';}
element.textContent=value;}})(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&nodeName_(element)==='select'){var result=[];forEach(element.options,function(option){if(option.selected){result.push(option.value||option.text);}});return result.length===0?null:result;}
return element.value;}
element.value=value;},html:function(element,value){if(isUndefined(value)){return element.innerHTML;}
jqLiteDealoc(element,true);element.innerHTML=value;},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;var nodeCount=this.length;if(fn!==jqLiteEmpty&&(isUndefined((fn.length==2&&(fn!==jqLiteHasClass&&fn!==jqLiteController))?arg1:arg2))){if(isObject(arg1)){for(i=0;i<nodeCount;i++){if(fn===jqLiteData){fn(this[i],arg1);}else{for(key in arg1){fn(this[i],key,arg1[key]);}}}
return this;}else{var value=fn.$dv;var jj=(isUndefined(value))?Math.min(nodeCount,1):nodeCount;for(var j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue;}
return value;}}else{for(i=0;i<nodeCount;i++){fn(this[i],arg1,arg2);}
return this;}};});function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented;};var eventFns=events[type||event.type];var eventFnsLength=eventFns?eventFns.length:0;if(!eventFnsLength)return;if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=true;if(event.stopPropagation){event.stopPropagation();}
if(originalStopImmediatePropagation){originalStopImmediatePropagation.call(event);}};}
event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===true;};var handlerWrapper=eventFns.specialHandlerWrapper||defaultHandlerWrapper;if((eventFnsLength>1)){eventFns=shallowCopy(eventFns);}
for(var i=0;i<eventFnsLength;i++){if(!event.isImmediatePropagationStopped()){handlerWrapper(element,event,eventFns[i]);}}};eventHandler.elem=element;return eventHandler;}
function defaultHandlerWrapper(element,event,handler){handler.call(element,event);}
function specialMouseHandlerWrapper(target,event,handler){var related=event.relatedTarget;if(!related||(related!==target&&!jqLiteContains.call(target,related))){handler.call(target,event);}}
forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr('onargs','jqLite#on() does not support the `selector` or `eventData` parameters');if(!jqLiteAcceptsData(element)){return;}
var expandoStore=jqLiteExpandoStore(element,true);var events=expandoStore.events;var handle=expandoStore.handle;if(!handle){handle=expandoStore.handle=createEventHandler(element,events);}
var types=type.indexOf(' ')>=0?type.split(' '):[type];var i=types.length;var addHandler=function(type,specialHandlerWrapper,noEventListener){var eventFns=events[type];if(!eventFns){eventFns=events[type]=[];eventFns.specialHandlerWrapper=specialHandlerWrapper;if(type!=='$destroy'&&!noEventListener){addEventListenerFn(element,type,handle);}}
eventFns.push(fn);};while(i--){type=types[i];if(MOUSE_EVENT_MAP[type]){addHandler(MOUSE_EVENT_MAP[type],specialMouseHandlerWrapper);addHandler(type,undefined,true);}else{addHandler(type);}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element);element.on(type,function onFn(){element.off(type,fn);element.off(type,onFn);});element.on(type,fn);},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element);forEach(new JQLite(replaceNode),function(node){if(index){parent.insertBefore(node,index.nextSibling);}else{parent.replaceChild(node,element);}
index=node;});},children:function(element){var children=[];forEach(element.childNodes,function(element){if(element.nodeType===NODE_TYPE_ELEMENT){children.push(element);}});return children;},contents:function(element){return element.contentDocument||element.childNodes||[];},append:function(element,node){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_ELEMENT&&nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT)return;node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child);}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index);});}},wrap:function(element,wrapNode){jqLiteWrapNode(element,jqLite(wrapNode).eq(0).clone()[0]);},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,true);},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling);index=node;}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){if(selector){forEach(selector.split(' '),function(className){var classCondition=condition;if(isUndefined(classCondition)){classCondition=!jqLiteHasClass(element,className);}
(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className);});}},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null;},next:function(element){return element.nextElementSibling;},find:function(element,selector){if(element.getElementsByTagName){return element.getElementsByTagName(selector);}else{return[];}},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs;var eventName=event.type||event;var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var eventFns=events&&events[eventName];if(eventFns){dummyEvent={preventDefault:function(){this.defaultPrevented=true;},isDefaultPrevented:function(){return this.defaultPrevented===true;},stopImmediatePropagation:function(){this.immediatePropagationStopped=true;},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true;},stopPropagation:noop,type:eventName,target:element};if(event.type){dummyEvent=extend(dummyEvent,event);}
eventFnsCopy=shallowCopy(eventFns);handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent];forEach(eventFnsCopy,function(fn){if(!dummyEvent.isImmediatePropagationStopped()){fn.apply(element,handlerArgs);}});}}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){var value;for(var i=0,ii=this.length;i<ii;i++){if(isUndefined(value)){value=fn(this[i],arg1,arg2,arg3);if(isDefined(value)){value=jqLite(value);}}else{jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));}}
return isDefined(value)?value:this;};JQLite.prototype.bind=JQLite.prototype.on;JQLite.prototype.unbind=JQLite.prototype.off;});function $$jqLiteProvider(){this.$get=function $$jqLite(){return extend(JQLite,{hasClass:function(node,classes){if(node.attr)node=node[0];return jqLiteHasClass(node,classes);},addClass:function(node,classes){if(node.attr)node=node[0];return jqLiteAddClass(node,classes);},removeClass:function(node,classes){if(node.attr)node=node[0];return jqLiteRemoveClass(node,classes);}});};}
function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key){if(typeof key==='function'){key=obj.$$hashKey();}
return key;}
var objType=typeof obj;if(objType=='function'||(objType=='object'&&obj!==null)){key=obj.$$hashKey=objType+':'+(nextUidFn||nextUid)();}else{key=objType+':'+obj;}
return key;}
function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid;};}
forEach(array,this.put,this);}
HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value;},get:function(key){return this[hashKey(key,this.nextUid)];},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];delete this[key];return value;}};var $$HashMapProvider=[function(){this.$get=[function(){return HashMap;}];}];var ARROW_ARG=/^([^\(]+?)=>/;var FN_ARGS=/^[^\(]*\(\s*([^\)]*)\)/m;var FN_ARG_SPLIT=/,/;var FN_ARG=/^\s*(_?)(\S+?)\1\s*$/;var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;var $injectorMinErr=minErr('$injector');function extractArgs(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,''),args=fnText.match(ARROW_ARG)||fnText.match(FN_ARGS);return args;}
function anonFn(fn){var args=extractArgs(fn);if(args){return'function('+(args[1]||'').replace(/[\s\r\n]+/,' ')+')';}
return'fn';}
function annotate(fn,strictDi,name){var $inject,argDecl,last;if(typeof fn==='function'){if(!($inject=fn.$inject)){$inject=[];if(fn.length){if(strictDi){if(!isString(name)||!name){name=fn.name||anonFn(fn);}
throw $injectorMinErr('strictdi','{0} is not using explicit annotation and cannot be invoked in strict mode',name);}
argDecl=extractArgs(fn);forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name);});});}
fn.$inject=$inject;}}else if(isArray(fn)){last=fn.length-1;assertArgFn(fn[last],'fn');$inject=fn.slice(0,last);}else{assertArgFn(fn,'fn',true);}
return $inject;}
function createInjector(modulesToLoad,strictDi){strictDi=(strictDi===true);var INSTANTIATING={},providerSuffix='Provider',path=[],loadedModules=new HashMap([],true),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=(providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){if(angular.isString(caller)){path.push(caller);}
throw $injectorMinErr('unpr',"Unknown provider: {0}",path.join(' <- '));})),instanceCache={},protoInstanceInjector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName);}),instanceInjector=protoInstanceInjector;providerCache['$injector'+providerSuffix]={$get:valueFn(protoInstanceInjector)};var runBlocks=loadModules(modulesToLoad);instanceInjector=protoInstanceInjector.get('$injector');instanceInjector.strictDi=strictDi;forEach(runBlocks,function(fn){if(fn)instanceInjector.invoke(fn);});return instanceInjector;function supportObject(delegate){return function(key,value){if(isObject(key)){forEach(key,reverseParams(delegate));}else{return delegate(key,value);}};}
function provider(name,provider_){assertNotHasOwnProperty(name,'service');if(isFunction(provider_)||isArray(provider_)){provider_=providerInjector.instantiate(provider_);}
if(!provider_.$get){throw $injectorMinErr('pget',"Provider '{0}' must define $get factory method.",name);}
return providerCache[name+providerSuffix]=provider_;}
function enforceReturnValue(name,factory){return function enforcedReturnValue(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result)){throw $injectorMinErr('undef',"Provider '{0}' must return a value from $get factory method.",name);}
return result;};}
function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==false?enforceReturnValue(name,factoryFn):factoryFn});}
function service(name,constructor){return factory(name,['$injector',function($injector){return $injector.instantiate(constructor);}]);}
function value(name,val){return factory(name,valueFn(val),false);}
function constant(name,value){assertNotHasOwnProperty(name,'constant');providerCache[name]=value;instanceCache[name]=value;}
function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance});};}
function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),'modulesToLoad','not an array');var runBlocks=[],moduleFn;forEach(modulesToLoad,function(module){if(loadedModules.get(module))return;loadedModules.put(module,true);function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2]);}}
try{if(isString(module)){moduleFn=angularModule(module);runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks);runInvokeQueue(moduleFn._invokeQueue);runInvokeQueue(moduleFn._configBlocks);}else if(isFunction(module)){runBlocks.push(providerInjector.invoke(module));}else if(isArray(module)){runBlocks.push(providerInjector.invoke(module));}else{assertArgFn(module,'module');}}catch(e){if(isArray(module)){module=module[module.length-1];}
if(e.message&&e.stack&&e.stack.indexOf(e.message)==-1){e=e.message+'\n'+e.stack;}
throw $injectorMinErr('modulerr',"Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e);}});return runBlocks;}
function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING){throw $injectorMinErr('cdep','Circular dependency found: {0}',serviceName+' <- '+path.join(' <- '));}
return cache[serviceName];}else{try{path.unshift(serviceName);cache[serviceName]=INSTANTIATING;return cache[serviceName]=factory(serviceName,caller);}catch(err){if(cache[serviceName]===INSTANTIATING){delete cache[serviceName];}
throw err;}finally{path.shift();}}}
function injectionArgs(fn,locals,serviceName){var args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(var i=0,length=$inject.length;i<length;i++){var key=$inject[i];if(typeof key!=='string'){throw $injectorMinErr('itkn','Incorrect injection token! Expected service name as string, got {0}',key);}
args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName));}
return args;}
function isClass(func){if(msie<=11){return false;}
return typeof func==='function'&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(func));}
function invoke(fn,self,locals,serviceName){if(typeof locals==='string'){serviceName=locals;locals=null;}
var args=injectionArgs(fn,locals,serviceName);if(isArray(fn)){fn=fn[fn.length-1];}
if(!isClass(fn)&&'undefined'!==typeof fn&&'function'===typeof fn.apply){return fn.apply(self,args);}else{args.unshift(null);return new(Function.prototype.bind.apply(fn,args))();}}
function instantiate(Type,locals,serviceName){var ctor=(isArray(Type)?Type[Type.length-1]:Type);var args=injectionArgs(Type,locals,serviceName);args.unshift(null);return new(Function.prototype.bind.apply(ctor,args))();}
return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name);}};}}
createInjector.$$annotate=annotate;function $AnchorScrollProvider(){var autoScrollingEnabled=true;this.disableAutoScrolling=function(){autoScrollingEnabled=false;};this.$get=['$window','$location','$rootScope',function($window,$location,$rootScope){var document=$window.document;function getFirstAnchor(list){var result=null;Array.prototype.some.call(list,function(element){if(nodeName_(element)==='a'){result=element;return true;}});return result;}
function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset)){offset=offset();}else if(isElement(offset)){var elem=offset[0];var style=$window.getComputedStyle(elem);if(style.position!=='fixed'){offset=0;}else{offset=elem.getBoundingClientRect().bottom;}}else if(!isNumber(offset)){offset=0;}
return offset;}
function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset);}}else{$window.scrollTo(0,0);}}
function scroll(hash){hash=isString(hash)?hash:$location.hash();var elm;if(!hash)scrollTo(null);else if((elm=document.getElementById(hash)))scrollTo(elm);else if((elm=getFirstAnchor(document.getElementsByName(hash))))scrollTo(elm);else if(hash==='top')scrollTo(null);}
if(autoScrollingEnabled){$rootScope.$watch(function autoScrollWatch(){return $location.hash();},function autoScrollWatchAction(newVal,oldVal){if(newVal===oldVal&&newVal==='')return;jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll);});});}
return scroll;}];}
var $animateMinErr=minErr('$animate');var ELEMENT_NODE=1;var NG_ANIMATE_CLASSNAME='ng-animate';function mergeClasses(a,b){if(!a&&!b)return'';if(!a)return b;if(!b)return a;if(isArray(a))a=a.join(' ');if(isArray(b))b=b.join(' ');return a+' '+b;}
function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE){return elm;}}}
function splitClasses(classes){if(isString(classes)){classes=classes.split(' ');}
var obj=createMap();forEach(classes,function(klass){if(klass.length){obj[klass]=true;}});return obj;}
function prepareAnimateOptions(options){return isObject(options)?options:{};}
var $$CoreAnimateJsProvider=function(){this.$get=noop;};var $$CoreAnimateQueueProvider=function(){var postDigestQueue=new HashMap();var postDigestElements=[];this.$get=['$$AnimateRunner','$rootScope',function($$AnimateRunner,$rootScope){return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){domOperation&&domOperation();options=options||{};options.from&&element.css(options.from);options.to&&element.css(options.to);if(options.addClass||options.removeClass){addRemoveClassesPostDigest(element,options.addClass,options.removeClass);}
var runner=new $$AnimateRunner();runner.complete();return runner;}};function updateData(data,classes,value){var changed=false;if(classes){classes=isString(classes)?classes.split(' '):isArray(classes)?classes:[];forEach(classes,function(className){if(className){changed=true;data[className]=value;}});}
return changed;}
function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr('class'));var toAdd='';var toRemove='';forEach(data,function(status,className){var hasClass=!!existing[className];if(status!==hasClass){if(status){toAdd+=(toAdd.length?' ':'')+className;}else{toRemove+=(toRemove.length?' ':'')+className;}}});forEach(element,function(elm){toAdd&&jqLiteAddClass(elm,toAdd);toRemove&&jqLiteRemoveClass(elm,toRemove);});postDigestQueue.remove(element);}});postDigestElements.length=0;}
function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{};var classesAdded=updateData(data,add,true);var classesRemoved=updateData(data,remove,false);if(classesAdded||classesRemoved){postDigestQueue.put(element,data);postDigestElements.push(element);if(postDigestElements.length===1){$rootScope.$$postDigest(handleCSSClassChanges);}}}}];};var $AnimateProvider=['$provide',function($provide){var provider=this;this.$$registeredAnimations=Object.create(null);this.register=function(name,factory){if(name&&name.charAt(0)!=='.'){throw $animateMinErr('notcsel',"Expecting class selector starting with '.' got '{0}'.",name);}
var key=name+'-animation';provider.$$registeredAnimations[name.substr(1)]=key;$provide.factory(key,factory);};this.classNameFilter=function(expression){if(arguments.length===1){this.$$classNameFilter=(expression instanceof RegExp)?expression:null;if(this.$$classNameFilter){var reservedRegex=new RegExp("(\\s+|\\/)"+NG_ANIMATE_CLASSNAME+"(\\s+|\\/)");if(reservedRegex.test(this.$$classNameFilter.toString())){throw $animateMinErr('nongcls','$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME);}}}
return this.$$classNameFilter;};this.$get=['$$animateQueue',function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);if(afterNode&&!afterNode.parentNode&&!afterNode.previousElementSibling){afterElement=null;}}
afterElement?afterElement.after(element):parentElement.prepend(element);}
return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){runner.end&&runner.end();},enter:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,'enter',prepareAnimateOptions(options));},move:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,'move',prepareAnimateOptions(options));},leave:function(element,options){return $$animateQueue.push(element,'leave',prepareAnimateOptions(options),function(){element.remove();});},addClass:function(element,className,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addclass,className);return $$animateQueue.push(element,'addClass',options);},removeClass:function(element,className,options){options=prepareAnimateOptions(options);options.removeClass=mergeClasses(options.removeClass,className);return $$animateQueue.push(element,'removeClass',options);},setClass:function(element,add,remove,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addClass,add);options.removeClass=mergeClasses(options.removeClass,remove);return $$animateQueue.push(element,'setClass',options);},animate:function(element,from,to,className,options){options=prepareAnimateOptions(options);options.from=options.from?extend(options.from,from):from;options.to=options.to?extend(options.to,to):to;className=className||'ng-inline-animate';options.tempClasses=mergeClasses(options.tempClasses,className);return $$animateQueue.push(element,'animate',options);}};}];}];var $$AnimateAsyncRunFactoryProvider=function(){this.$get=['$$rAF',function($$rAF){var waitQueue=[];function waitForTick(fn){waitQueue.push(fn);if(waitQueue.length>1)return;$$rAF(function(){for(var i=0;i<waitQueue.length;i++){waitQueue[i]();}
waitQueue=[];});}
return function(){var passed=false;waitForTick(function(){passed=true;});return function(callback){passed?callback():waitForTick(callback);};};}];};var $$AnimateRunnerFactoryProvider=function(){this.$get=['$q','$sniffer','$$animateAsyncRun','$document','$timeout',function($q,$sniffer,$$animateAsyncRun,$document,$timeout){var INITIAL_STATE=0;var DONE_PENDING_STATE=1;var DONE_COMPLETE_STATE=2;AnimateRunner.chain=function(chain,callback){var index=0;next();function next(){if(index===chain.length){callback(true);return;}
chain[index](function(response){if(response===false){callback(false);return;}
index++;next();});}};AnimateRunner.all=function(runners,callback){var count=0;var status=true;forEach(runners,function(runner){runner.done(onProgress);});function onProgress(response){status=status&&response;if(++count===runners.length){callback(status);}}};function AnimateRunner(host){this.setHost(host);var rafTick=$$animateAsyncRun();var timeoutTick=function(fn){$timeout(fn,0,false);};this._doneCallbacks=[];this._tick=function(fn){var doc=$document[0];if(doc&&doc.hidden){timeoutTick(fn);}else{rafTick(fn);}};this._state=0;}
AnimateRunner.prototype={setHost:function(host){this.host=host||{};},done:function(fn){if(this._state===DONE_COMPLETE_STATE){fn();}else{this._doneCallbacks.push(fn);}},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){status===false?reject():resolve();});});}
return this.promise;},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler);},'catch':function(handler){return this.getPromise()['catch'](handler);},'finally':function(handler){return this.getPromise()['finally'](handler);},pause:function(){if(this.host.pause){this.host.pause();}},resume:function(){if(this.host.resume){this.host.resume();}},end:function(){if(this.host.end){this.host.end();}
this._resolve(true);},cancel:function(){if(this.host.cancel){this.host.cancel();}
this._resolve(false);},complete:function(response){var self=this;if(self._state===INITIAL_STATE){self._state=DONE_PENDING_STATE;self._tick(function(){self._resolve(response);});}},_resolve:function(response){if(this._state!==DONE_COMPLETE_STATE){forEach(this._doneCallbacks,function(fn){fn(response);});this._doneCallbacks.length=0;this._state=DONE_COMPLETE_STATE;}}};return AnimateRunner;}];};var $CoreAnimateCssProvider=function(){this.$get=['$$rAF','$q','$$AnimateRunner',function($$rAF,$q,$$AnimateRunner){return function(element,initialOptions){var options=initialOptions||{};if(!options.$$prepared){options=copy(options);}
if(options.cleanupStyles){options.from=options.to=null;}
if(options.from){element.css(options.from);options.from=null;}
var closed,runner=new $$AnimateRunner();return{start:run,end:run};function run(){$$rAF(function(){applyAnimationContents();if(!closed){runner.complete();}
closed=true;});return runner;}
function applyAnimationContents(){if(options.addClass){element.addClass(options.addClass);options.addClass=null;}
if(options.removeClass){element.removeClass(options.removeClass);options.removeClass=null;}
if(options.to){element.css(options.to);options.to=null;}}};}];};function Browser(window,document,$log,$sniffer){var self=this,location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=false;var outstandingRequestCount=0;var outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest;self.$$incOutstandingRequestCount=function(){outstandingRequestCount++;};function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1));}finally{outstandingRequestCount--;if(outstandingRequestCount===0){while(outstandingRequestCallbacks.length){try{outstandingRequestCallbacks.pop()();}catch(e){$log.error(e);}}}}}
function getHash(url){var index=url.indexOf('#');return index===-1?'':url.substr(index);}
self.notifyWhenNoOutstandingRequests=function(callback){if(outstandingRequestCount===0){callback();}else{outstandingRequestCallbacks.push(callback);}};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find('base'),pendingLocation=null,getCurrentState=!$sniffer.history?noop:function getCurrentState(){try{return history.state;}catch(e){}};cacheState();lastHistoryState=cachedState;self.url=function(url,replace,state){if(isUndefined(state)){state=null;}
if(location!==window.location)location=window.location;if(history!==window.history)history=window.history;if(url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState)){return self;}
var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);lastBrowserUrl=url;lastHistoryState=state;if($sniffer.history&&(!sameBase||!sameState)){history[replace?'replaceState':'pushState'](state,'',url);cacheState();lastHistoryState=cachedState;}else{if(!sameBase||pendingLocation){pendingLocation=url;}
if(replace){location.replace(url);}else if(!sameBase){location.href=url;}else{location.hash=getHash(url);}
if(location.href!==url){pendingLocation=url;}}
return self;}else{return pendingLocation||location.href.replace(/%27/g,"'");}};self.state=function(){return cachedState;};var urlChangeListeners=[],urlChangeInit=false;function cacheStateAndFireUrlChange(){pendingLocation=null;cacheState();fireUrlChange();}
var lastCachedState=null;function cacheState(){cachedState=getCurrentState();cachedState=isUndefined(cachedState)?null:cachedState;if(equals(cachedState,lastCachedState)){cachedState=lastCachedState;}
lastCachedState=cachedState;}
function fireUrlChange(){if(lastBrowserUrl===self.url()&&lastHistoryState===cachedState){return;}
lastBrowserUrl=self.url();lastHistoryState=cachedState;forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState);});}
self.onUrlChange=function(callback){if(!urlChangeInit){if($sniffer.history)jqLite(window).on('popstate',cacheStateAndFireUrlChange);jqLite(window).on('hashchange',cacheStateAndFireUrlChange);urlChangeInit=true;}
urlChangeListeners.push(callback);return callback;};self.$$applicationDestroyed=function(){jqLite(window).off('hashchange popstate',cacheStateAndFireUrlChange);};self.$$checkUrlChange=fireUrlChange;self.baseHref=function(){var href=baseElement.attr('href');return href?href.replace(/^(https?\:)?\/\/[^\/]*/,''):'';};self.defer=function(fn,delay){var timeoutId;outstandingRequestCount++;timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId];completeOutstandingRequest(fn);},delay||0);pendingDeferIds[timeoutId]=true;return timeoutId;};self.defer.cancel=function(deferId){if(pendingDeferIds[deferId]){delete pendingDeferIds[deferId];clearTimeout(deferId);completeOutstandingRequest(noop);return true;}
return false;};}
function $BrowserProvider(){this.$get=['$window','$log','$sniffer','$document',function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer);}];}
function $CacheFactoryProvider(){this.$get=function(){var caches={};function cacheFactory(cacheId,options){if(cacheId in caches){throw minErr('$cacheFactory')('iid',"CacheId '{0}' is already taken!",cacheId);}
var size=0,stats=extend({},options,{id:cacheId}),data=createMap(),capacity=(options&&options.capacity)||Number.MAX_VALUE,lruHash=createMap(),freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(isUndefined(value))return;if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry);}
if(!(key in data))size++;data[key]=value;if(size>capacity){this.remove(staleEnd.key);}
return value;},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry);}
return data[key];},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;if(lruEntry==freshEnd)freshEnd=lruEntry.p;if(lruEntry==staleEnd)staleEnd=lruEntry.n;link(lruEntry.n,lruEntry.p);delete lruHash[key];}
if(!(key in data))return;delete data[key];size--;},removeAll:function(){data=createMap();size=0;lruHash=createMap();freshEnd=staleEnd=null;},destroy:function(){data=null;stats=null;lruHash=null;delete caches[cacheId];},info:function(){return extend({},stats,{size:size});}};function refresh(entry){if(entry!=freshEnd){if(!staleEnd){staleEnd=entry;}else if(staleEnd==entry){staleEnd=entry.n;}
link(entry.n,entry.p);link(entry,freshEnd);freshEnd=entry;freshEnd.n=null;}}
function link(nextEntry,prevEntry){if(nextEntry!=prevEntry){if(nextEntry)nextEntry.p=prevEntry;if(prevEntry)prevEntry.n=nextEntry;}}}
cacheFactory.info=function(){var info={};forEach(caches,function(cache,cacheId){info[cacheId]=cache.info();});return info;};cacheFactory.get=function(cacheId){return caches[cacheId];};return cacheFactory;};}
function $TemplateCacheProvider(){this.$get=['$cacheFactory',function($cacheFactory){return $cacheFactory('templates');}];}
var $compileMinErr=minErr('$compile');$CompileProvider.$inject=['$provide','$$sanitizeUriProvider'];function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix='Directive',COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap('ngSrc,ngSrcset,src,srcset'),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;var bindingCache=createMap();function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/;var bindings={};forEach(scope,function(definition,scopeName){if(definition in bindingCache){bindings[scopeName]=bindingCache[definition];return;}
var match=definition.match(LOCAL_REGEXP);if(!match){throw $compileMinErr('iscp',"Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,(isController?"controller bindings definition":"isolate scope definition"));}
bindings[scopeName]={mode:match[1][0],collection:match[2]==='*',optional:match[3]==='?',attrName:match[4]||scopeName};if(match[4]){bindingCache[definition]=bindings[scopeName];}});return bindings;}
function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)){if(directive.bindToController===true){bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,true);bindings.isolateScope={};}else{bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,false);}}
if(isObject(directive.bindToController)){bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,true);}
if(isObject(bindings.bindToController)){var controller=directive.controller;var controllerAs=directive.controllerAs;if(!controller){throw $compileMinErr('noctrl',"Cannot bind to controller without directive '{0}'s controller.",directiveName);}else if(!identifierForController(controller,controllerAs)){throw $compileMinErr('noident',"Cannot bind to controller without identifier for directive '{0}'.",directiveName);}}
return bindings;}
function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter)){throw $compileMinErr('baddir',"Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",name);}
if(name!==name.trim()){throw $compileMinErr('baddir',"Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name);}}
this.directive=function registerDirective(name,directiveFactory){assertNotHasOwnProperty(name,'directive');if(isString(name)){assertValidDirectiveName(name);assertArg(directiveFactory,'directiveFactory');if(!hasDirectives.hasOwnProperty(name)){hasDirectives[name]=[];$provide.factory(name+Suffix,['$injector','$exceptionHandler',function($injector,$exceptionHandler){var directives=[];forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);if(isFunction(directive)){directive={compile:valueFn(directive)};}else if(!directive.compile&&directive.link){directive.compile=valueFn(directive.link);}
directive.priority=directive.priority||0;directive.index=index;directive.name=directive.name||name;directive.require=directive.require||(directive.controller&&directive.name);directive.restrict=directive.restrict||'EA';directive.$$moduleName=directiveFactory.$$moduleName;directives.push(directive);}catch(e){$exceptionHandler(e);}});return directives;}]);}
hasDirectives[name].push(directiveFactory);}else{forEach(name,reverseParams(registerDirective));}
return this;};this.component=function registerComponent(name,options){var controller=options.controller||noop;function factory($injector){function makeInjectable(fn){if(isFunction(fn)||isArray(fn)){return function(tElement,tAttrs){return $injector.invoke(fn,this,{$element:tElement,$attrs:tAttrs});};}else{return fn;}}
var template=(!options.template&&!options.templateUrl?'':options.template);return{controller:controller,controllerAs:identifierForController(options.controller)||options.controllerAs||'$ctrl',template:makeInjectable(template),templateUrl:makeInjectable(options.templateUrl),transclude:options.transclude,scope:{},bindToController:options.bindings||{},restrict:'E',require:options.require};}
forEach(options,function(val,key){if(key.charAt(0)==='$'){factory[key]=val;controller[key]=val;}});factory.$inject=['$injector'];return this.directive(name,factory);};this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp);return this;}else{return $$sanitizeUriProvider.aHrefSanitizationWhitelist();}};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp);return this;}else{return $$sanitizeUriProvider.imgSrcSanitizationWhitelist();}};var debugInfoEnabled=true;this.debugInfoEnabled=function(enabled){if(isDefined(enabled)){debugInfoEnabled=enabled;return this;}
return debugInfoEnabled;};var TTL=10;this.onChangesTtl=function(value){if(arguments.length){TTL=value;return this;}
return TTL;};this.$get=['$injector','$interpolate','$exceptionHandler','$templateRequest','$parse','$controller','$rootScope','$sce','$animate','$$sanitizeUri',function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$sce,$animate,$$sanitizeUri){var SIMPLE_ATTR_NAME=/^\w/;var specialAttrHolder=document.createElement('div');var onChangesTtl=TTL;var onChangesQueue;function flushOnChangesQueue(){try{if(!(--onChangesTtl)){onChangesQueue=undefined;throw $compileMinErr('infchng','{0} $onChanges() iterations reached. Aborting!\n',TTL);}
$rootScope.$apply(function(){for(var i=0,ii=onChangesQueue.length;i<ii;++i){onChangesQueue[i]();}
onChangesQueue=undefined;});}finally{onChangesTtl++;}}
function Attributes(element,attributesToCopy){if(attributesToCopy){var keys=Object.keys(attributesToCopy);var i,l,key;for(i=0,l=keys.length;i<l;i++){key=keys[i];this[key]=attributesToCopy[key];}}else{this.$attr={};}
this.$$element=element;}
Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){if(classVal&&classVal.length>0){$animate.addClass(this.$$element,classVal);}},$removeClass:function(classVal){if(classVal&&classVal.length>0){$animate.removeClass(this.$$element,classVal);}},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);if(toAdd&&toAdd.length){$animate.addClass(this.$$element,toAdd);}
var toRemove=tokenDifference(oldClasses,newClasses);if(toRemove&&toRemove.length){$animate.removeClass(this.$$element,toRemove);}},$set:function(key,value,writeAttr,attrName){var node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(key),observer=key,nodeName;if(booleanKey){this.$$element.prop(key,value);attrName=booleanKey;}else if(aliasedKey){this[aliasedKey]=value;observer=aliasedKey;}
this[key]=value;if(attrName){this.$attr[key]=attrName;}else{attrName=this.$attr[key];if(!attrName){this.$attr[key]=attrName=snake_case(key,'-');}}
nodeName=nodeName_(this.$$element);if((nodeName==='a'&&(key==='href'||key==='xlinkHref'))||(nodeName==='img'&&key==='src')){this[key]=value=$$sanitizeUri(value,key==='src');}else if(nodeName==='img'&&key==='srcset'){var result="";var trimmedSrcset=trim(value);var srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/;var rawUris=trimmedSrcset.split(pattern);var nbrUrisWith2parts=Math.floor(rawUris.length/2);for(var i=0;i<nbrUrisWith2parts;i++){var innerIdx=i*2;result+=$$sanitizeUri(trim(rawUris[innerIdx]),true);result+=(" "+trim(rawUris[innerIdx+1]));}
var lastTuple=trim(rawUris[i*2]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),true);if(lastTuple.length===2){result+=(" "+trim(lastTuple[1]));}
this[key]=value=result;}
if(writeAttr!==false){if(value===null||isUndefined(value)){this.$$element.removeAttr(attrName);}else{if(SIMPLE_ATTR_NAME.test(attrName)){this.$$element.attr(attrName,value);}else{setSpecialAttr(this.$$element[0],attrName,value);}}}
var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value);}catch(e){$exceptionHandler(e);}});},$observe:function(key,fn){var attrs=this,$$observers=(attrs.$$observers||(attrs.$$observers=createMap())),listeners=($$observers[key]||($$observers[key]=[]));listeners.push(fn);$rootScope.$evalAsync(function(){if(!listeners.$$inter&&attrs.hasOwnProperty(key)&&!isUndefined(attrs[key])){fn(attrs[key]);}});return function(){arrayRemove(listeners,fn);};}};function setSpecialAttr(element,attrName,value){specialAttrHolder.innerHTML="<span "+attrName+">";var attributes=specialAttrHolder.firstChild.attributes;var attribute=attributes[0];attributes.removeNamedItem(attribute.name);attribute.value=value;element.attributes.setNamedItem(attribute);}
function safeAddClass($element,className){try{$element.addClass(className);}catch(e){}}
var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate=(startSymbol=='{{'&&endSymbol=='}}')?identity:function denormalizeTemplate(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol);},NG_ATTR_BINDING=/^ngAttr[A-Z]/;var MULTI_ELEMENT_DIR_RE=/^(.+)Start$/;compile.$$addBindingInfo=debugInfoEnabled?function $$addBindingInfo($element,binding){var bindings=$element.data('$binding')||[];if(isArray(binding)){bindings=bindings.concat(binding);}else{bindings.push(binding);}
$element.data('$binding',bindings);}:noop;compile.$$addBindingClass=debugInfoEnabled?function $$addBindingClass($element){safeAddClass($element,'ng-binding');}:noop;compile.$$addScopeInfo=debugInfoEnabled?function $$addScopeInfo($element,scope,isolated,noTemplate){var dataName=isolated?(noTemplate?'$isolateScopeNoTemplate':'$isolateScope'):'$scope';$element.data(dataName,scope);}:noop;compile.$$addScopeClass=debugInfoEnabled?function $$addScopeClass($element,isolated){safeAddClass($element,isolated?'ng-isolate-scope':'ng-scope');}:noop;compile.$$createComment=function(directiveName,comment){var content='';if(debugInfoEnabled){content=' '+(directiveName||'')+': '+(comment||'')+' ';}
return document.createComment(content);};return compile;function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){if(!($compileNodes instanceof jqLite)){$compileNodes=jqLite($compileNodes);}
var NOT_EMPTY=/\S+/;for(var i=0,len=$compileNodes.length;i<len;i++){var domNode=$compileNodes[i];if(domNode.nodeType===NODE_TYPE_TEXT&&domNode.nodeValue.match(NOT_EMPTY)){jqLiteWrapNode(domNode,$compileNodes[i]=document.createElement('span'));}}
var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function publicLinkFn(scope,cloneConnectFn,options){assertArg(scope,'scope');if(previousCompileContext&&previousCompileContext.needsNewScope){scope=scope.$parent.$new();}
options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;if(parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude){parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude;}
if(!namespace){namespace=detectNamespaceForChildElements(futureParentElement);}
var $linkNode;if(namespace!=='html'){$linkNode=jqLite(wrapTemplate(namespace,jqLite('<div>').append($compileNodes).html()));}else if(cloneConnectFn){$linkNode=JQLitePrototype.clone.call($compileNodes);}else{$linkNode=$compileNodes;}
if(transcludeControllers){for(var controllerName in transcludeControllers){$linkNode.data('$'+controllerName+'Controller',transcludeControllers[controllerName].instance);}}
compile.$$addScopeInfo($linkNode,scope);if(cloneConnectFn)cloneConnectFn($linkNode,scope);if(compositeLinkFn)compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn);return $linkNode;};}
function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];if(!node){return'html';}else{return nodeName_(node)!=='foreignobject'&&toString.call(node).match(/SVG/)?'svg':'html';}}
function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){var linkFns=[],attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound;for(var i=0;i<nodeList.length;i++){attrs=new Attributes();directives=collectDirectives(nodeList[i],[],attrs,i===0?maxPriority:undefined,ignoreDirective);nodeLinkFn=(directives.length)?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null;if(nodeLinkFn&&nodeLinkFn.scope){compile.$$addScopeClass(attrs.$$element);}
childLinkFn=(nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length)?null:compileNodes(childNodes,nodeLinkFn?((nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude):transcludeFn);if(nodeLinkFn||childLinkFn){linkFns.push(i,nodeLinkFn,childLinkFn);linkFnFound=true;nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn;}
previousCompileContext=null;}
return linkFnFound?compositeLinkFn:null;function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn;var stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;stableNodeList=new Array(nodeListLength);for(i=0;i<linkFns.length;i+=3){idx=linkFns[i];stableNodeList[idx]=nodeList[idx];}}else{stableNodeList=nodeList;}
for(i=0,ii=linkFns.length;i<ii;){node=stableNodeList[linkFns[i++]];nodeLinkFn=linkFns[i++];childLinkFn=linkFns[i++];if(nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new();compile.$$addScopeInfo(jqLite(node),childScope);}else{childScope=scope;}
if(nodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn);}else if(!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn){childBoundTranscludeFn=parentBoundTranscludeFn;}else if(!parentBoundTranscludeFn&&transcludeFn){childBoundTranscludeFn=createBoundTranscludeFn(scope,transcludeFn);}else{childBoundTranscludeFn=null;}
nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn);}else if(childLinkFn){childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn);}}}}
function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){function boundTranscludeFn(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){if(!transcludedScope){transcludedScope=scope.$new(false,containingScope);transcludedScope.$$transcluded=true;}
return transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement});}
var boundSlots=boundTranscludeFn.$$slots=createMap();for(var slotName in transcludeFn.$$slots){if(transcludeFn.$$slots[slotName]){boundSlots[slotName]=createBoundTranscludeFn(scope,transcludeFn.$$slots[slotName],previousBoundTranscludeFn);}else{boundSlots[slotName]=null;}}
return boundTranscludeFn;}
function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var nodeType=node.nodeType,attrsMap=attrs.$attr,match,className;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),'E',maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=false;var attrEndName=false;attr=nAttrs[j];name=attr.name;value=trim(attr.value);ngAttrName=directiveNormalize(name);if(isNgAttr=NG_ATTR_BINDING.test(ngAttrName)){name=name.replace(PREFIX_REGEXP,'').substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase();});}
var multiElementMatch=ngAttrName.match(MULTI_ELEMENT_DIR_RE);if(multiElementMatch&&directiveIsMultiElement(multiElementMatch[1])){attrStartName=name;attrEndName=name.substr(0,name.length-5)+'end';name=name.substr(0,name.length-6);}
nName=directiveNormalize(name.toLowerCase());attrsMap[nName]=name;if(isNgAttr||!attrs.hasOwnProperty(nName)){attrs[nName]=value;if(getBooleanAttrName(node,nName)){attrs[nName]=true;}}
addAttrInterpolateDirective(node,directives,value,nName,isNgAttr);addDirective(directives,nName,'A',maxPriority,ignoreDirective,attrStartName,attrEndName);}
className=node.className;if(isObject(className)){className=className.animVal;}
if(isString(className)&&className!==''){while(match=CLASS_DIRECTIVE_REGEXP.exec(className)){nName=directiveNormalize(match[2]);if(addDirective(directives,nName,'C',maxPriority,ignoreDirective)){attrs[nName]=trim(match[3]);}
className=className.substr(match.index+match[0].length);}}
break;case NODE_TYPE_TEXT:if(msie===11){while(node.parentNode&&node.nextSibling&&node.nextSibling.nodeType===NODE_TYPE_TEXT){node.nodeValue=node.nodeValue+node.nextSibling.nodeValue;node.parentNode.removeChild(node.nextSibling);}}
addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){nName=directiveNormalize(match[1]);if(addDirective(directives,nName,'M',maxPriority,ignoreDirective)){attrs[nName]=trim(match[2]);}}}catch(e){}
break;}
directives.sort(byPriority);return directives;}
function groupScan(node,attrStart,attrEnd){var nodes=[];var depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node){throw $compileMinErr('uterdir',"Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);}
if(node.nodeType==NODE_TYPE_ELEMENT){if(node.hasAttribute(attrStart))depth++;if(node.hasAttribute(attrEnd))depth--;}
nodes.push(node);node=node.nextSibling;}while(depth>0);}else{nodes.push(node);}
return jqLite(nodes);}
function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function groupedElementsLink(scope,element,attrs,controllers,transcludeFn){element=groupScan(element[0],attrStart,attrEnd);return linkFn(scope,element,attrs,controllers,transcludeFn);};}
function compilationGenerator(eager,$compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){var compiled;if(eager){return compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext);}
return function lazyCompilation(){if(!compiled){compiled=compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext);$compileNodes=transcludeFn=previousCompileContext=null;}
return compiled.apply(this,arguments);};}
function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){previousCompileContext=previousCompileContext||{};var terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=false,hasTemplate=false,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),directive,directiveName,$template,replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,linkFn,didScanForMultipleTransclusion=false,mightHaveMultipleTransclusionError=false,directiveValue;for(var i=0,ii=directives.length;i<ii;i++){directive=directives[i];var attrStart=directive.$$start;var attrEnd=directive.$$end;if(attrStart){$compileNode=groupScan(compileNode,attrStart,attrEnd);}
$template=undefined;if(terminalPriority>directive.priority){break;}
if(directiveValue=directive.scope){if(!directive.templateUrl){if(isObject(directiveValue)){assertNoDuplicate('new/isolated scope',newIsolateScopeDirective||newScopeDirective,directive,$compileNode);newIsolateScopeDirective=directive;}else{assertNoDuplicate('new/isolated scope',newIsolateScopeDirective,directive,$compileNode);}}
newScopeDirective=newScopeDirective||directive;}
directiveName=directive.name;if(!didScanForMultipleTransclusion&&((directive.replace&&(directive.templateUrl||directive.template))||(directive.transclude&&!directive.$$tlb))){var candidateDirective;for(var scanningIndex=i+1;candidateDirective=directives[scanningIndex++];){if((candidateDirective.transclude&&!candidateDirective.$$tlb)||(candidateDirective.replace&&(candidateDirective.templateUrl||candidateDirective.template))){mightHaveMultipleTransclusionError=true;break;}}
didScanForMultipleTransclusion=true;}
if(!directive.templateUrl&&directive.controller){directiveValue=directive.controller;controllerDirectives=controllerDirectives||createMap();assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode);controllerDirectives[directiveName]=directive;}
if(directiveValue=directive.transclude){hasTranscludeDirective=true;if(!directive.$$tlb){assertNoDuplicate('transclusion',nonTlbTranscludeDirective,directive,$compileNode);nonTlbTranscludeDirective=directive;}
if(directiveValue=='element'){hasElementTranscludeDirective=true;terminalPriority=directive.priority;$template=$compileNode;$compileNode=templateAttrs.$$element=jqLite(compile.$$createComment(directiveName,templateAttrs[directiveName]));compileNode=$compileNode[0];replaceWith(jqCollection,sliceArgs($template),compileNode);$template[0].$$parentNode=$template[0].parentNode;childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective});}else{var slots=createMap();$template=jqLite(jqLiteClone(compileNode)).contents();if(isObject(directiveValue)){$template=[];var slotMap=createMap();var filledSlots=createMap();forEach(directiveValue,function(elementSelector,slotName){var optional=(elementSelector.charAt(0)==='?');elementSelector=optional?elementSelector.substring(1):elementSelector;slotMap[elementSelector]=slotName;slots[slotName]=null;filledSlots[slotName]=optional;});forEach($compileNode.contents(),function(node){var slotName=slotMap[directiveNormalize(nodeName_(node))];if(slotName){filledSlots[slotName]=true;slots[slotName]=slots[slotName]||[];slots[slotName].push(node);}else{$template.push(node);}});forEach(filledSlots,function(filled,slotName){if(!filled){throw $compileMinErr('reqslot','Required transclusion slot `{0}` was not filled.',slotName);}});for(var slotName in slots){if(slots[slotName]){slots[slotName]=compilationGenerator(mightHaveMultipleTransclusionError,slots[slotName],transcludeFn);}}}
$compileNode.empty();childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,undefined,undefined,{needsNewScope:directive.$$isolateScope||directive.$$newScope});childTranscludeFn.$$slots=slots;}}
if(directive.template){hasTemplate=true;assertNoDuplicate('template',templateDirective,directive,$compileNode);templateDirective=directive;directiveValue=(isFunction(directive.template))?directive.template($compileNode,templateAttrs):directive.template;directiveValue=denormalizeTemplate(directiveValue);if(directive.replace){replaceDirective=directive;if(jqLiteIsTextNode(directiveValue)){$template=[];}else{$template=removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue)));}
compileNode=$template[0];if($template.length!=1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr('tplrt',"Template for directive '{0}' must have exactly one root element. {1}",directiveName,'');}
replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}};var templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs);var unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));if(newIsolateScopeDirective||newScopeDirective){markDirectiveScope(templateDirectives,newIsolateScopeDirective,newScopeDirective);}
directives=directives.concat(templateDirectives).concat(unprocessedDirectives);mergeTemplateAttributes(templateAttrs,newTemplateAttrs);ii=directives.length;}else{$compileNode.html(directiveValue);}}
if(directive.templateUrl){hasTemplate=true;assertNoDuplicate('template',templateDirective,directive,$compileNode);templateDirective=directive;if(directive.replace){replaceDirective=directive;}
nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:(newScopeDirective!==directive)&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective});ii=directives.length;}else if(directive.compile){try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);if(isFunction(linkFn)){addLinkFns(null,linkFn,attrStart,attrEnd);}else if(linkFn){addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd);}}catch(e){$exceptionHandler(e,startingTag($compileNode));}}
if(directive.terminal){nodeLinkFn.terminal=true;terminalPriority=Math.max(terminalPriority,directive.priority);}}
nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===true;nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective;nodeLinkFn.templateOnThisElement=hasTemplate;nodeLinkFn.transclude=childTranscludeFn;previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective;return nodeLinkFn;function addLinkFns(pre,post,attrStart,attrEnd){if(pre){if(attrStart)pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd);pre.require=directive.require;pre.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){pre=cloneAndAnnotateFn(pre,{isolateScope:true});}
preLinkFns.push(pre);}
if(post){if(attrStart)post=groupElementsLinkFnWrapper(post,attrStart,attrEnd);post.require=directive.require;post.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){post=cloneAndAnnotateFn(post,{isolateScope:true});}
postLinkFns.push(post);}}
function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){var i,ii,linkFn,isolateScope,controllerScope,elementControllers,transcludeFn,$element,attrs,removeScopeBindingWatches,removeControllerBindingWatches;if(compileNode===linkNode){attrs=templateAttrs;$element=templateAttrs.$$element;}else{$element=jqLite(linkNode);attrs=new Attributes($element,templateAttrs);}
controllerScope=scope;if(newIsolateScopeDirective){isolateScope=scope.$new(true);}else if(newScopeDirective){controllerScope=scope.$parent;}
if(boundTranscludeFn){transcludeFn=controllersBoundTransclude;transcludeFn.$$boundTransclude=boundTranscludeFn;transcludeFn.isSlotFilled=function(slotName){return!!boundTranscludeFn.$$slots[slotName];};}
if(controllerDirectives){elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective);}
if(newIsolateScopeDirective){compile.$$addScopeInfo($element,isolateScope,true,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective)));compile.$$addScopeClass($element,true);isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings;removeScopeBindingWatches=initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective);if(removeScopeBindingWatches){isolateScope.$on('$destroy',removeScopeBindingWatches);}}
for(var name in elementControllers){var controllerDirective=controllerDirectives[name];var controller=elementControllers[name];var bindings=controllerDirective.$$bindings.bindToController;if(controller.identifier&&bindings){removeControllerBindingWatches=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective);}
var controllerResult=controller();if(controllerResult!==controller.instance){controller.instance=controllerResult;$element.data('$'+controllerDirective.name+'Controller',controllerResult);removeControllerBindingWatches&&removeControllerBindingWatches();removeControllerBindingWatches=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective);}}
forEach(controllerDirectives,function(controllerDirective,name){var require=controllerDirective.require;if(controllerDirective.bindToController&&!isArray(require)&&isObject(require)){extend(elementControllers[name].instance,getControllers(name,require,$element,elementControllers));}});forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$onInit)){controllerInstance.$onInit();}
if(isFunction(controllerInstance.$onDestroy)){controllerScope.$on('$destroy',function callOnDestroyHook(){controllerInstance.$onDestroy();});}});for(i=0,ii=preLinkFns.length;i<ii;i++){linkFn=preLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);}
var scopeToChild=scope;if(newIsolateScopeDirective&&(newIsolateScopeDirective.template||newIsolateScopeDirective.templateUrl===null)){scopeToChild=isolateScope;}
childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn);for(i=postLinkFns.length-1;i>=0;i--){linkFn=postLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);}
forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$postLink)){controllerInstance.$postLink();}});function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement,slotName){var transcludeControllers;if(!isScope(scope)){slotName=futureParentElement;futureParentElement=cloneAttachFn;cloneAttachFn=scope;scope=undefined;}
if(hasElementTranscludeDirective){transcludeControllers=elementControllers;}
if(!futureParentElement){futureParentElement=hasElementTranscludeDirective?$element.parent():$element;}
if(slotName){var slotTranscludeFn=boundTranscludeFn.$$slots[slotName];if(slotTranscludeFn){return slotTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild);}else if(isUndefined(slotTranscludeFn)){throw $compileMinErr('noslot','No parent directive that requires a transclusion with slot name "{0}". '+'Element: {1}',slotName,startingTag($element));}}else{return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild);}}}}
function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP);var name=require.substring(match[0].length);var inheritType=match[1]||match[3];var optional=match[2]==='?';if(inheritType==='^^'){$element=$element.parent();}else{value=elementControllers&&elementControllers[name];value=value&&value.instance;}
if(!value){var dataName='$'+name+'Controller';value=inheritType?$element.inheritedData(dataName):$element.data(dataName);}
if(!value&&!optional){throw $compileMinErr('ctreq',"Controller '{0}', required by directive '{1}', can't be found!",name,directiveName);}}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++){value[i]=getControllers(directiveName,require[i],$element,elementControllers);}}else if(isObject(require)){value={};forEach(require,function(controller,property){value[property]=getControllers(directiveName,controller,$element,elementControllers);});}
return value||null;}
function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey];var locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};var controller=directive.controller;if(controller=='@'){controller=attrs[directive.name];}
var controllerInstance=$controller(controller,locals,true,directive.controllerAs);elementControllers[directive.name]=controllerInstance;$element.data('$'+directive.name+'Controller',controllerInstance.instance);}
return elementControllers;}
function markDirectiveScope(directives,isolateScope,newScope){for(var j=0,jj=directives.length;j<jj;j++){directives[j]=inherit(directives[j],{$$isolateScope:isolateScope,$$newScope:newScope});}}
function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){try{directive=directives[i];if((isUndefined(maxPriority)||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!=-1){if(startAttrName){directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName});}
if(!directive.$$bindings){var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);if(isObject(bindings.isolateScope)){directive.$$isolateBindings=bindings.isolateScope;}}
tDirectives.push(directive);match=directive;}}catch(e){$exceptionHandler(e);}}}
return match;}
function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if(directive.multiElement){return true;}}}
return false;}
function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){if(key.charAt(0)!='$'){if(src[key]&&src[key]!==value){value+=(key==='style'?';':' ')+src[key];}
dst.$set(key,value,true,srcAttr[key]);}});forEach(src,function(value,key){if(key=='class'){safeAddClass($element,value);dst['class']=(dst['class']?dst['class']+' ':'')+value;}else if(key=='style'){$element.attr('style',$element.attr('style')+';'+value);dst['style']=(dst['style']?dst['style']+';':'')+value;}else if(key.charAt(0)!='$'&&!dst.hasOwnProperty(key)){dst[key]=value;dstAttr[key]=srcAttr[key];}});}
function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var linkQueue=[],afterTemplateNodeLinkFn,afterTemplateChildLinkFn,beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=(isFunction(origAsyncDirective.templateUrl))?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;$compileNode.empty();if(angular.modules.defined(templateUrl)){$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;content=denormalizeTemplate(content);if(origAsyncDirective.replace){if(jqLiteIsTextNode(content)){$template=[];}else{$template=removeComments(wrapTemplate(templateNamespace,trim(content)));}
compileNode=$template[0];if($template.length!=1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr('tplrt',"Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);}
tempTemplateAttrs={$attr:{}};replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);if(isObject(origAsyncDirective.scope)){markDirectiveScope(templateDirectives,true);}
directives=templateDirectives.concat(directives);mergeTemplateAttributes(tAttrs,tempTemplateAttrs);}else{compileNode=beforeTemplateCompileNode;$compileNode.html(content);}
directives.unshift(derivedSyncDirective);afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext);forEach($rootElement,function(node,i){if(node==compileNode){$rootElement[i]=$compileNode[0];}});afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);while(linkQueue.length){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(scope.$$destroyed)continue;if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;if(!(previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace)){linkNode=jqLiteClone(compileNode);}
replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode);safeAddClass(jqLite(linkNode),oldClasses);}
if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn);}else{childBoundTranscludeFn=boundTranscludeFn;}
afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn);}
linkQueue=null;});}else{require(['loadPlain!'+templateUrl],function(C){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn,content=C.content;content=denormalizeTemplate(content);if(origAsyncDirective.replace){if(jqLiteIsTextNode(content)){$template=[];}else{$template=removeComments(wrapTemplate(templateNamespace,trim(content)));}
compileNode=$template[0];if($template.length!=1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr('tplrt',"Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);}
tempTemplateAttrs={$attr:{}};replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);if(isObject(origAsyncDirective.scope)){markDirectiveScope(templateDirectives,true);}
directives=templateDirectives.concat(directives);mergeTemplateAttributes(tAttrs,tempTemplateAttrs);}else{compileNode=beforeTemplateCompileNode;$compileNode.html(content);}
directives.unshift(derivedSyncDirective);afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext);forEach($rootElement,function(node,i){if(node==compileNode){$rootElement[i]=$compileNode[0];}});afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);while(linkQueue.length){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(scope.$$destroyed)continue;if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;if(!(previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace)){linkNode=jqLiteClone(compileNode);}
replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode);safeAddClass(jqLite(linkNode),oldClasses);}
if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn);}else{childBoundTranscludeFn=boundTranscludeFn;}
afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn);}
linkQueue=null;});}
return function delayedNodeLinkFn(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;if(scope.$$destroyed)return;if(linkQueue){linkQueue.push(scope,node,rootElement,childBoundTranscludeFn);}else{if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn);}
afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn);}};}
function byPriority(a,b){var diff=b.priority-a.priority;if(diff!==0)return diff;if(a.name!==b.name)return(a.name<b.name)?-1:1;return a.index-b.index;}
function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?(' (module: '+moduleName+')'):'';}
if(previousDirective){throw $compileMinErr('multidir','Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}',previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element));}}
function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,true);if(interpolateFn){directives.push({priority:0,compile:function textInterpolateCompileFn(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;if(hasCompileParent)compile.$$addBindingClass(templateNodeParent);return function textInterpolateLinkFn(scope,node){var parent=node.parent();if(!hasCompileParent)compile.$$addBindingClass(parent);compile.$$addBindingInfo(parent,interpolateFn.expressions);scope.$watch(interpolateFn,function interpolateFnWatchAction(value){node[0].nodeValue=value;});};}});}}
function wrapTemplate(type,template){type=lowercase(type||'html');switch(type){case'svg':case'math':var wrapper=document.createElement('div');wrapper.innerHTML='<'+type+'>'+template+'</'+type+'>';return wrapper.childNodes[0].childNodes;default:return template;}}
function getTrustedContext(node,attrNormalizedName){if(attrNormalizedName=="srcdoc"){return $sce.HTML;}
var tag=nodeName_(node);if(attrNormalizedName=="xlinkHref"||(tag=="form"&&attrNormalizedName=="action")||(tag!="img"&&(attrNormalizedName=="src"||attrNormalizedName=="ngSrc"))){return $sce.RESOURCE_URL;}}
function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,true,trustedContext,allOrNothing);if(!interpolateFn)return;if(name==="multiple"&&nodeName_(node)==="select"){throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));}
directives.push({priority:100,compile:function(){return{pre:function attrInterpolatePreLinkFn(scope,element,attr){var $$observers=(attr.$$observers||(attr.$$observers=createMap()));if(EVENT_HANDLER_ATTR_REGEXP.test(name)){throw $compileMinErr('nodomevents',"Interpolations for HTML DOM event attributes are disallowed.  Please use the "+"ng- versions (such as ng-click instead of onclick) instead.");}
var newValue=attr[name];if(newValue!==value){interpolateFn=newValue&&$interpolate(newValue,true,trustedContext,allOrNothing);value=newValue;}
if(!interpolateFn)return;attr[name]=interpolateFn(scope);($$observers[name]||($$observers[name]=[])).$$inter=true;(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function interpolateFnWatchAction(newValue,oldValue){if(name==='class'&&newValue!=oldValue){attr.$updateClass(newValue,oldValue);}else{attr.$set(name,newValue);}});}};}});}
function replaceWith($rootElement,elementsToRemove,newNode){var firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode,i,ii;if($rootElement){for(i=0,ii=$rootElement.length;i<ii;i++){if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++){if(j2<jj){$rootElement[j]=$rootElement[j2];}else{delete $rootElement[j];}}
$rootElement.length-=removeCount-1;if($rootElement.context===firstElementToRemove){$rootElement.context=newNode;}
break;}}}
if(parent){parent.replaceChild(newNode,firstElementToRemove);}
var fragment=document.createDocumentFragment();for(i=0;i<removeCount;i++){fragment.appendChild(elementsToRemove[i]);}
if(jqLite.hasData(firstElementToRemove)){jqLite.data(newNode,jqLite.data(firstElementToRemove));jqLite(firstElementToRemove).off('$destroy');}
jqLite.cleanData(fragment.querySelectorAll('*'));for(i=1;i<removeCount;i++){delete elementsToRemove[i];}
elementsToRemove[0]=newNode;elementsToRemove.length=1;}
function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments);},fn,annotation);}
function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn);}catch(e){$exceptionHandler(e,startingTag($element));}}
function initializeDirectiveBindings(scope,attrs,destination,bindings,directive){var removeWatchCollection=[];var changes;forEach(bindings,function initializeBinding(definition,scopeName){var attrName=definition.attrName,optional=definition.optional,mode=definition.mode,lastValue,parentGet,parentSet,compare,removeWatch;switch(mode){case'@':if(!optional&&!hasOwnProperty.call(attrs,attrName)){destination[scopeName]=attrs[attrName]=void 0;}
attrs.$observe(attrName,function(value){if(isString(value)){var oldValue=destination[scopeName];recordChanges(scopeName,value,oldValue);destination[scopeName]=value;}});attrs.$$observers[attrName].$$scope=scope;lastValue=attrs[attrName];if(isString(lastValue)){destination[scopeName]=$interpolate(lastValue)(scope);}else if(isBoolean(lastValue)){destination[scopeName]=lastValue;}
break;case'=':if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;attrs[attrName]=void 0;}
if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);if(parentGet.literal){compare=equals;}else{compare=function simpleCompare(a,b){return a===b||(a!==a&&b!==b);};}
parentSet=parentGet.assign||function(){lastValue=destination[scopeName]=parentGet(scope);throw $compileMinErr('nonassign',"Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",attrs[attrName],attrName,directive.name);};lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function parentValueWatch(parentValue){if(!compare(parentValue,destination[scopeName])){if(!compare(parentValue,lastValue)){destination[scopeName]=parentValue;}else{parentSet(scope,parentValue=destination[scopeName]);}}
return lastValue=parentValue;};parentValueWatch.$stateful=true;if(definition.collection){removeWatch=scope.$watchCollection(attrs[attrName],parentValueWatch);}else{removeWatch=scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal);}
removeWatchCollection.push(removeWatch);break;case'<':if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;attrs[attrName]=void 0;}
if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);destination[scopeName]=parentGet(scope);removeWatch=scope.$watch(parentGet,function parentValueWatchAction(newParentValue){var oldValue=destination[scopeName];recordChanges(scopeName,newParentValue,oldValue);destination[scopeName]=newParentValue;},parentGet.literal);removeWatchCollection.push(removeWatch);break;case'&':parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop;if(parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals);};break;}});function recordChanges(key,currentValue,previousValue){if(isFunction(destination.$onChanges)&&currentValue!==previousValue){if(!onChangesQueue){scope.$$postDigest(flushOnChangesQueue);onChangesQueue=[];}
if(!changes){changes={};onChangesQueue.push(triggerOnChangesHook);}
if(changes[key]){previousValue=changes[key].previousValue;}
changes[key]={previousValue:previousValue,currentValue:currentValue};}}
function triggerOnChangesHook(){destination.$onChanges(changes);changes=undefined;}
return removeWatchCollection.length&&function removeWatches(){for(var i=0,ii=removeWatchCollection.length;i<ii;++i){removeWatchCollection[i]();}};}}];}
var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i;function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,''));}
function nodesetLinkingFn(scope,nodeList,rootElement,boundTranscludeFn){}
function directiveLinkingFn(nodesetLinkingFn,scope,node,rootElement,boundTranscludeFn){}
function tokenDifference(str1,str2){var values='',tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token==tokens2[j])continue outer;}
values+=(values.length>0?' ':'')+token;}
return values;}
function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(i<=1){return jqNodes;}
while(i--){var node=jqNodes[i];if(node.nodeType===NODE_TYPE_COMMENT){splice.call(jqNodes,i,1);}}
return jqNodes;}
var $controllerMinErr=minErr('$controller');var CNTRL_REG=/^(\S+)(\s+as\s+([\w$]+))?$/;function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3];}}
function $ControllerProvider(){var controllers={},globals=false;this.has=function(name){return controllers.hasOwnProperty(name);};this.register=function(name,constructor){assertNotHasOwnProperty(name,'controller');if(isObject(name)){extend(controllers,name);}else{controllers[name]=constructor;}};this.allowGlobals=function(){globals=true;};this.$get=['$injector','$window',function($injector,$window){return function $controller(expression,locals,later,ident){var instance,match,constructor,identifier;later=later===true;if(ident&&isString(ident)){identifier=ident;}
if(isString(expression)){match=expression.match(CNTRL_REG);if(!match){throw $controllerMinErr('ctrlfmt',"Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",expression);}
constructor=match[1],identifier=identifier||match[3];expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,true)||(globals?getter($window,constructor,true):undefined);assertArgFn(expression,constructor,true);}
if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name);}
var instantiate;return instantiate=extend(function $controllerInit(){var result=$injector.invoke(expression,instance,locals,constructor);if(result!==instance&&(isObject(result)||isFunction(result))){instance=result;if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name);}}
return instance;},{instance:instance,identifier:identifier});}
instance=$injector.instantiate(expression,locals,constructor);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name);}
return instance;};function addIdentifier(locals,identifier,instance,name){if(!(locals&&isObject(locals.$scope))){throw minErr('$controller')('noscp',"Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);}
locals.$scope[identifier]=instance;}}];}
function $DocumentProvider(){this.$get=['$window',function(window){return jqLite(window.document);}];}
function $ExceptionHandlerProvider(){this.$get=['$log',function($log){return function(exception,cause){$log.error.apply($log,arguments);};}];}
var $$ForceReflowProvider=function(){this.$get=['$document',function($document){return function(domNode){if(domNode){if(!domNode.nodeType&&domNode instanceof jqLite){domNode=domNode[0];}}else{domNode=$document[0].body;}
return domNode.offsetWidth+1;};}];};var APPLICATION_JSON='application/json';var CONTENT_TYPE_APPLICATION_JSON={'Content-Type':APPLICATION_JSON+';charset=utf-8'};var JSON_START=/^\[|^\{(?!\{)/;var JSON_ENDS={'[':/]$/,'{':/}$/};var JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/;var $httpMinErr=minErr('$http');var $httpMinErrLegacyFn=function(method){return function(){throw $httpMinErr('legacy','The method `{0}` on the promise returned from `$http` has been disabled.',method);};};function serializeValue(v){if(isObject(v)){return isDate(v)?v.toISOString():toJson(v);}
return v;}
function $HttpParamSerializerProvider(){this.$get=function(){return function ngParamSerializer(params){if(!params)return'';var parts=[];forEachSorted(params,function(value,key){if(value===null||isUndefined(value))return;if(isArray(value)){forEach(value,function(v){parts.push(encodeUriQuery(key)+'='+encodeUriQuery(serializeValue(v)));});}else{parts.push(encodeUriQuery(key)+'='+encodeUriQuery(serializeValue(value)));}});return parts.join('&');};};}
function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function jQueryLikeParamSerializer(params){if(!params)return'';var parts=[];serialize(params,'',true);return parts.join('&');function serialize(toSerialize,prefix,topLevel){if(toSerialize===null||isUndefined(toSerialize))return;if(isArray(toSerialize)){forEach(toSerialize,function(value,index){serialize(value,prefix+'['+(isObject(value)?index:'')+']');});}else if(isObject(toSerialize)&&!isDate(toSerialize)){forEachSorted(toSerialize,function(value,key){serialize(value,prefix+
(topLevel?'':'[')+
key+
(topLevel?'':']'));});}else{parts.push(encodeUriQuery(prefix)+'='+encodeUriQuery(serializeValue(toSerialize)));}}};};}
function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,'').trim();if(tempData){var contentType=headers('Content-Type');if((contentType&&(contentType.indexOf(APPLICATION_JSON)===0))||isJsonLike(tempData)){data=fromJson(tempData);}}}
return data;}
function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str);}
function parseHeaders(headers){var parsed=createMap(),i;function fillInParsed(key,val){if(key){parsed[key]=parsed[key]?parsed[key]+', '+val:val;}}
if(isString(headers)){forEach(headers.split('\n'),function(line){i=line.indexOf(':');fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)));});}else if(isObject(headers)){forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal));});}
return parsed;}
function headersGetter(headers){var headersObj;return function(name){if(!headersObj)headersObj=parseHeaders(headers);if(name){var value=headersObj[lowercase(name)];if(value===void 0){value=null;}
return value;}
return headersObj;};}
function transformData(data,headers,status,fns){if(isFunction(fns)){return fns(data,headers,status);}
forEach(fns,function(fn){data=fn(data,headers,status);});return data;}
function isSuccess(status){return 200<=status&&status<300;}
function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return isObject(d)&&!isFile(d)&&!isBlob(d)&&!isFormData(d)?toJson(d):d;}],headers:{common:{'Accept':'application/json, text/plain, */*'},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:'XSRF-TOKEN',xsrfHeaderName:'X-XSRF-TOKEN',paramSerializer:'$httpParamSerializer'};var useApplyAsync=false;this.useApplyAsync=function(value){if(isDefined(value)){useApplyAsync=!!value;return this;}
return useApplyAsync;};var useLegacyPromise=true;this.useLegacyPromiseExtensions=function(value){if(isDefined(value)){useLegacyPromise=!!value;return this;}
return useLegacyPromise;};var interceptorFactories=this.interceptors=[];this.$get=['$httpBackend','$$cookieReader','$cacheFactory','$rootScope','$q','$injector',function($httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector){var defaultCache=$cacheFactory('$http');defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory));});function $http(requestConfig){if(!isObject(requestConfig)){throw minErr('$http')('badreq','Http request configuration must be an object.  Received: {0}',requestConfig);}
if(!isString(requestConfig.url)){throw minErr('$http')('badreq','Http request configuration url must be a string.  Received: {0}',requestConfig.url);}
var config=extend({method:'get',transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer},requestConfig);config.headers=mergeHeaders(requestConfig);config.method=uppercase(config.method);config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;var serverRequest=function(config){var headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);if(isUndefined(reqData)){forEach(headers,function(value,header){if(lowercase(header)==='content-type'){delete headers[header];}});}
if(isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)){config.withCredentials=defaults.withCredentials;}
return sendReq(config,reqData).then(transformResponse,transformResponse);};var chain=[serverRequest,undefined];var promise=$q.when(config);forEach(reversedInterceptors,function(interceptor){if(interceptor.request||interceptor.requestError){chain.unshift(interceptor.request,interceptor.requestError);}
if(interceptor.response||interceptor.responseError){chain.push(interceptor.response,interceptor.responseError);}});while(chain.length){var thenFn=chain.shift();var rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn);}
if(useLegacyPromise){promise.success=function(fn){assertArgFn(fn,'fn');promise.then(function(response){fn(response.data,response.status,response.headers,config);});return promise;};promise.error=function(fn){assertArgFn(fn,'fn');promise.then(null,function(response){fn(response.data,response.status,response.headers,config);});return promise;};}else{promise.success=$httpMinErrLegacyFn('success');promise.error=$httpMinErrLegacyFn('error');}
return promise;function transformResponse(response){var resp=extend({},response);resp.data=transformData(response.data,response.headers,response.status,config.transformResponse);return(isSuccess(response.status))?resp:$q.reject(resp);}
function executeHeaderFns(headers,config){var headerContent,processedHeaders={};forEach(headers,function(headerFn,header){if(isFunction(headerFn)){headerContent=headerFn(config);if(headerContent!=null){processedHeaders[header]=headerContent;}}else{processedHeaders[header]=headerFn;}});return processedHeaders;}
function mergeHeaders(config){var defHeaders=defaults.headers,reqHeaders=extend({},config.headers),defHeaderName,lowercaseDefHeaderName,reqHeaderName;defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders){if(lowercase(reqHeaderName)===lowercaseDefHeaderName){continue defaultHeadersIteration;}}
reqHeaders[defHeaderName]=defHeaders[defHeaderName];}
return executeHeaderFns(reqHeaders,shallowCopy(config));}}
$http.pendingRequests=[];createShortMethods('get','delete','head','jsonp');createShortMethodsWithData('post','put','patch');$http.defaults=defaults;return $http;function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}));};});}
function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}));};});}
function sendReq(config,reqData){var deferred=$q.defer(),promise=deferred.promise,cache,cachedResp,reqHeaders=config.headers,url=buildUrl(config.url,config.paramSerializer(config.params));$http.pendingRequests.push(config);promise.then(removePendingReq,removePendingReq);if((config.cache||defaults.cache)&&config.cache!==false&&(config.method==='GET'||config.method==='JSONP')){cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache;}
if(cache){cachedResp=cache.get(url);if(isDefined(cachedResp)){if(isPromiseLike(cachedResp)){cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult);}else{if(isArray(cachedResp)){resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]);}else{resolvePromise(cachedResp,200,{},'OK');}}}else{cache.put(url,promise);}}
if(isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;if(xsrfValue){reqHeaders[(config.xsrfHeaderName||defaults.xsrfHeaderName)]=xsrfValue;}
$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType);}
return promise;function done(status,response,headersString,statusText){if(cache){if(isSuccess(status)){cache.put(url,[status,response,parseHeaders(headersString),statusText]);}else{cache.remove(url);}}
function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText);}
if(useApplyAsync){$rootScope.$applyAsync(resolveHttpPromise);}else{resolveHttpPromise();if(!$rootScope.$$phase)$rootScope.$apply();}}
function resolvePromise(response,status,headers,statusText){status=status>=-1?status:0;(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText});}
function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText);}
function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);if(idx!==-1)$http.pendingRequests.splice(idx,1);}}
function buildUrl(url,serializedParams){if(serializedParams.length>0){url+=((url.indexOf('?')==-1)?'?':'&')+serializedParams;}
return url;}}];}
function $xhrFactoryProvider(){this.$get=function(){return function createXhr(){return new window.XMLHttpRequest();};};}
function $HttpBackendProvider(){this.$get=['$browser','$window','$document','$xhrFactory',function($browser,$window,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$window.angular.callbacks,$document[0]);}];}
function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){return function(method,url,post,callback,headers,timeout,withCredentials,responseType){$browser.$$incOutstandingRequestCount();url=url||$browser.url();if(lowercase(method)=='jsonp'){var callbackId='_'+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data;callbacks[callbackId].called=true;};var jsonpDone=jsonpReq(url.replace('JSON_CALLBACK','angular.callbacks.'+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text);callbacks[callbackId]=noop;});}else{var xhr=createXhr(method,url);xhr.open(method,url,true);forEach(headers,function(value,key){if(isDefined(value)){xhr.setRequestHeader(key,value);}});xhr.onload=function requestLoaded(){var statusText=xhr.statusText||'';var response=('response'in xhr)?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0){status=response?200:urlResolve(url).protocol=='file'?404:0;}
completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText);};var requestError=function(){completeRequest(callback,-1,null,null,'');};xhr.onerror=requestError;xhr.onabort=requestError;if(withCredentials){xhr.withCredentials=true;}
if(responseType){try{xhr.responseType=responseType;}catch(e){if(responseType!=='json'){throw e;}}}
xhr.send(isUndefined(post)?null:post);}
if(timeout>0){var timeoutId=$browserDefer(timeoutRequest,timeout);}else if(isPromiseLike(timeout)){timeout.then(timeoutRequest);}
function timeoutRequest(){jsonpDone&&jsonpDone();xhr&&xhr.abort();}
function completeRequest(callback,status,response,headersString,statusText){if(isDefined(timeoutId)){$browserDefer.cancel(timeoutId);}
jsonpDone=xhr=null;callback(status,response,headersString,statusText);$browser.$$completeOutstandingRequest(noop);}};function jsonpReq(url,callbackId,done){var script=rawDocument.createElement('script'),callback=null;script.type="text/javascript";script.src=url;script.async=true;callback=function(event){removeEventListenerFn(script,"load",callback);removeEventListenerFn(script,"error",callback);rawDocument.body.removeChild(script);script=null;var status=-1;var text="unknown";if(event){if(event.type==="load"&&!callbacks[callbackId].called){event={type:"error"};}
text=event.type;status=event.type==="error"?404:200;}
if(done){done(status,text);}};addEventListenerFn(script,"load",callback);addEventListenerFn(script,"error",callback);rawDocument.body.appendChild(script);return callback;}}
var $interpolateMinErr=angular.$interpolateMinErr=minErr('$interpolate');$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr('noconcat',"Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",text);};$interpolateMinErr.interr=function(text,err){return $interpolateMinErr('interr',"Can't interpolate: {0}\n{1}",text,err.toString());};function $InterpolateProvider(){var startSymbol='{{';var endSymbol='}}';this.startSymbol=function(value){if(value){startSymbol=value;return this;}else{return startSymbol;}};this.endSymbol=function(value){if(value){endSymbol=value;return this;}else{return endSymbol;}};this.$get=['$parse','$exceptionHandler','$sce',function($parse,$exceptionHandler,$sce){var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),'g'),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),'g');function escape(ch){return'\\\\\\'+ch;}
function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol);}
function stringify(value){if(value==null){return'';}
switch(typeof value){case'string':break;case'number':value=''+value;break;default:value=toJson(value);}
return value;}
function constantWatchDelegate(scope,listener,objectEquality,constantInterp){var unwatch;return unwatch=scope.$watch(function constantInterpolateWatch(scope){unwatch();return constantInterp(scope);},listener,objectEquality);}
function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){if(!text.length||text.indexOf(startSymbol)===-1){var constantInterp;if(!mustHaveExpression){var unescapedText=unescapeText(text);constantInterp=valueFn(unescapedText);constantInterp.exp=text;constantInterp.expressions=[];constantInterp.$$watchDelegate=constantWatchDelegate;}
return constantInterp;}
allOrNothing=!!allOrNothing;var startIndex,endIndex,index=0,expressions=[],parseFns=[],textLength=text.length,exp,concat=[],expressionPositions=[];while(index<textLength){if(((startIndex=text.indexOf(startSymbol,index))!=-1)&&((endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))!=-1)){if(index!==startIndex){concat.push(unescapeText(text.substring(index,startIndex)));}
exp=text.substring(startIndex+startSymbolLength,endIndex);expressions.push(exp);parseFns.push($parse(exp,parseStringifyInterceptor));index=endIndex+endSymbolLength;expressionPositions.push(concat.length);concat.push('');}else{if(index!==textLength){concat.push(unescapeText(text.substring(index)));}
break;}}
if(trustedContext&&concat.length>1){$interpolateMinErr.throwNoconcat(text);}
if(!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i];}
return concat.join('');};var getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value);};return extend(function interpolationFn(context){var i=0;var ii=expressions.length;var values=new Array(ii);try{for(;i<ii;i++){values[i]=parseFns[i](context);}
return compute(values);}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err));}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function interpolateFnWatcher(values,oldValues){var currValue=compute(values);if(isFunction(listener)){listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope);}
lastValue=currValue;});}});}
function parseStringifyInterceptor(value){try{value=getValue(value);return allOrNothing&&!isDefined(value)?value:stringify(value);}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err));}}}
$interpolate.startSymbol=function(){return startSymbol;};$interpolate.endSymbol=function(){return endSymbol;};return $interpolate;}];}
function $IntervalProvider(){this.$get=['$rootScope','$window','$q','$$q','$browser',function($rootScope,$window,$q,$$q,$browser){var intervals={};function interval(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=(isDefined(invokeApply)&&!invokeApply),deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;count=isDefined(count)?count:0;promise.$$intervalId=setInterval(function tick(){if(skipApply){$browser.defer(callback);}else{$rootScope.$evalAsync(callback);}
deferred.notify(iteration++);if(count>0&&iteration>=count){deferred.resolve(iteration);clearInterval(promise.$$intervalId);delete intervals[promise.$$intervalId];}
if(!skipApply)$rootScope.$apply();},delay);intervals[promise.$$intervalId]=deferred;return promise;function callback(){if(!hasParams){fn(iteration);}else{fn.apply(null,args);}}}
interval.cancel=function(promise){if(promise&&promise.$$intervalId in intervals){intervals[promise.$$intervalId].reject('canceled');$window.clearInterval(promise.$$intervalId);delete intervals[promise.$$intervalId];return true;}
return false;};return interval;}];}
var PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={'http':80,'https':443,'ftp':21};var $locationMinErr=minErr('$location');function encodePath(path){var segments=path.split('/'),i=segments.length;while(i--){segments[i]=encodeUriSegment(segments[i]);}
return segments.join('/');}
function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol;locationObj.$$host=parsedUrl.hostname;locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null;}
function parseAppUrl(relativeUrl,locationObj){var prefixed=(relativeUrl.charAt(0)!=='/');if(prefixed){relativeUrl='/'+relativeUrl;}
var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&match.pathname.charAt(0)==='/'?match.pathname.substring(1):match.pathname);locationObj.$$search=parseKeyValue(match.search);locationObj.$$hash=decodeURIComponent(match.hash);if(locationObj.$$path&&locationObj.$$path.charAt(0)!='/'){locationObj.$$path='/'+locationObj.$$path;}}
function beginsWith(begin,whole){if(whole.indexOf(begin)===0){return whole.substr(begin.length);}}
function stripHash(url){var index=url.indexOf('#');return index==-1?url:url.substr(0,index);}
function trimEmptyHash(url){return url.replace(/(#.+)|#$/,'$1');}
function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf('/')+1);}
function serverBase(url){return url.substring(0,url.indexOf('/',url.indexOf('//')+2));}
function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=true;basePrefix=basePrefix||'';parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl)){throw $locationMinErr('ipthprfx','Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);}
parseAppUrl(pathUrl,this);if(!this.$$path){this.$$path='/';}
this.$$compose();};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?'#'+encodeUriSegment(this.$$hash):'';this.$$url=encodePath(this.$$path)+(search?'?'+search:'')+hash;this.$$absUrl=appBaseNoFile+this.$$url.substr(1);};this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==='#'){this.hash(relHref.slice(1));return true;}
var appUrl,prevAppUrl;var rewrittenUrl;if(isDefined(appUrl=beginsWith(appBase,url))){prevAppUrl=appUrl;if(isDefined(appUrl=beginsWith(basePrefix,appUrl))){rewrittenUrl=appBaseNoFile+(beginsWith('/',appUrl)||appUrl);}else{rewrittenUrl=appBase+prevAppUrl;}}else if(isDefined(appUrl=beginsWith(appBaseNoFile,url))){rewrittenUrl=appBaseNoFile+appUrl;}else if(appBaseNoFile==url+'/'){rewrittenUrl=appBaseNoFile;}
if(rewrittenUrl){this.$$parse(rewrittenUrl);}
return!!rewrittenUrl;};}
function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);var withoutHashUrl;if(!isUndefined(withoutBaseUrl)&&withoutBaseUrl.charAt(0)==='#'){withoutHashUrl=beginsWith(hashPrefix,withoutBaseUrl);if(isUndefined(withoutHashUrl)){withoutHashUrl=withoutBaseUrl;}}else{if(this.$$html5){withoutHashUrl=withoutBaseUrl;}else{withoutHashUrl='';if(isUndefined(withoutBaseUrl)){appBase=url;this.replace();}}}
parseAppUrl(withoutHashUrl,this);this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase);this.$$compose();function removeWindowsDriveName(path,url,base){var windowsFilePathExp=/^\/[A-Z]:(\/.*)/;var firstPathSegmentMatch;if(url.indexOf(base)===0){url=url.replace(base,'');}
if(windowsFilePathExp.exec(url)){return path;}
firstPathSegmentMatch=windowsFilePathExp.exec(path);return firstPathSegmentMatch?firstPathSegmentMatch[1]:path;}};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?'#'+encodeUriSegment(this.$$hash):'';this.$$url=encodePath(this.$$path)+(search?'?'+search:'')+hash;this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:'');};this.$$parseLinkUrl=function(url,relHref){if(stripHash(appBase)==stripHash(url)){this.$$parse(url);return true;}
return false;};}
function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=true;LocationHashbangUrl.apply(this,arguments);this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==='#'){this.hash(relHref.slice(1));return true;}
var rewrittenUrl;var appUrl;if(appBase==stripHash(url)){rewrittenUrl=url;}else if((appUrl=beginsWith(appBaseNoFile,url))){rewrittenUrl=appBase+hashPrefix+appUrl;}else if(appBaseNoFile===url+'/'){rewrittenUrl=appBaseNoFile;}
if(rewrittenUrl){this.$$parse(rewrittenUrl);}
return!!rewrittenUrl;};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?'#'+encodeUriSegment(this.$$hash):'';this.$$url=encodePath(this.$$path)+(search?'?'+search:'')+hash;this.$$absUrl=appBase+hashPrefix+this.$$url;};}
var locationPrototype={$$html5:false,$$replace:false,absUrl:locationGetter('$$absUrl'),url:function(url){if(isUndefined(url)){return this.$$url;}
var match=PATH_MATCH.exec(url);if(match[1]||url==='')this.path(decodeURIComponent(match[1]));if(match[2]||match[1]||url==='')this.search(match[3]||'');this.hash(match[5]||'');return this;},protocol:locationGetter('$$protocol'),host:locationGetter('$$host'),port:locationGetter('$$port'),path:locationGetterSetter('$$path',function(path){path=path!==null?path.toString():'';return path.charAt(0)=='/'?path:'/'+path;}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search)){search=search.toString();this.$$search=parseKeyValue(search);}else if(isObject(search)){search=copy(search,{});forEach(search,function(value,key){if(value==null)delete search[key];});this.$$search=search;}else{throw $locationMinErr('isrcharg','The first argument of the `$location#search()` call must be a string or an object.');}
break;default:if(isUndefined(paramValue)||paramValue===null){delete this.$$search[search];}else{this.$$search[search]=paramValue;}}
this.$$compose();return this;},hash:locationGetterSetter('$$hash',function(hash){return hash!==null?hash.toString():'';}),replace:function(){this.$$replace=true;return this;}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype);Location.prototype.state=function(state){if(!arguments.length){return this.$$state;}
if(Location!==LocationHtml5Url||!this.$$html5){throw $locationMinErr('nostate','History API state support is available only '+'in HTML5 mode and only in browsers supporting HTML5 History API');}
this.$$state=isUndefined(state)?null:state;return this;};});function locationGetter(property){return function(){return this[property];};}
function locationGetterSetter(property,preprocess){return function(value){if(isUndefined(value)){return this[property];}
this[property]=preprocess(value);this.$$compose();return this;};}
function $LocationProvider(){var hashPrefix='',html5Mode={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(prefix){if(isDefined(prefix)){hashPrefix=prefix;return this;}else{return hashPrefix;}};this.html5Mode=function(mode){if(isBoolean(mode)){html5Mode.enabled=mode;return this;}else if(isObject(mode)){if(isBoolean(mode.enabled)){html5Mode.enabled=mode.enabled;}
if(isBoolean(mode.requireBase)){html5Mode.requireBase=mode.requireBase;}
if(isBoolean(mode.rewriteLinks)){html5Mode.rewriteLinks=mode.rewriteLinks;}
return this;}else{return html5Mode;}};this.$get=['$rootScope','$browser','$sniffer','$rootElement','$window',function($rootScope,$browser,$sniffer,$rootElement,$window){var $location,LocationMode,baseHref=$browser.baseHref(),initialUrl=$browser.url(),appBase;if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase){throw $locationMinErr('nobase',"$location in HTML5 mode requires a <base> tag to be present!");}
appBase=serverBase(initialUrl)+(baseHref||'/');LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url;}else{appBase=stripHash(initialUrl);LocationMode=LocationHashbangUrl;}
var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,'#'+hashPrefix);$location.$$parseLinkUrl(initialUrl,initialUrl);$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url();var oldState=$location.$$state;try{$browser.url(url,replace,state);$location.$$state=$browser.state();}catch(e){$location.url(oldUrl);$location.$$state=oldState;throw e;}}
$rootElement.on('click',function(event){if(!html5Mode.rewriteLinks||event.ctrlKey||event.metaKey||event.shiftKey||event.which==2||event.button==2)return;var elm=jqLite(event.target);while(nodeName_(elm[0])!=='a'){if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;}
var absHref=elm.prop('href');var relHref=elm.attr('href')||elm.attr('xlink:href');if(isObject(absHref)&&absHref.toString()==='[object SVGAnimatedString]'){absHref=urlResolve(absHref.animVal).href;}
if(IGNORE_URI_REGEXP.test(absHref))return;if(absHref&&!elm.attr('target')&&!event.isDefaultPrevented()){if($location.$$parseLinkUrl(absHref,relHref)){event.preventDefault();if($location.absUrl()!=$browser.url()){$rootScope.$apply();$window.angular['ff-684208-preventDefault']=true;}}}});if(trimEmptyHash($location.absUrl())!=trimEmptyHash(initialUrl)){$browser.url($location.absUrl(),true);}
var initializing=true;$browser.onUrlChange(function(newUrl,newState){if(isUndefined(beginsWith(appBaseNoFile,newUrl))){$window.location.href=newUrl;return;}
$rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();var oldState=$location.$$state;var defaultPrevented;newUrl=trimEmptyHash(newUrl);$location.$$parse(newUrl);$location.$$state=newState;defaultPrevented=$rootScope.$broadcast('$locationChangeStart',newUrl,oldUrl,newState,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState;setBrowserUrlWithFallback(oldUrl,false,oldState);}else{initializing=false;afterLocationChange(oldUrl,oldState);}});if(!$rootScope.$$phase)$rootScope.$digest();});$rootScope.$watch(function $locationWatch(){var oldUrl=trimEmptyHash($browser.url());var newUrl=trimEmptyHash($location.absUrl());var oldState=$browser.state();var currentReplace=$location.$$replace;var urlOrStateChanged=oldUrl!==newUrl||($location.$$html5&&$sniffer.history&&oldState!==$location.$$state);if(initializing||urlOrStateChanged){initializing=false;$rootScope.$evalAsync(function(){var newUrl=$location.absUrl();var defaultPrevented=$rootScope.$broadcast('$locationChangeStart',newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState;}else{if(urlOrStateChanged){setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state);}
afterLocationChange(oldUrl,oldState);}});}
$location.$$replace=false;});return $location;function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast('$locationChangeSuccess',$location.absUrl(),oldUrl,$location.$$state,oldState);}}];}
function $LogProvider(){var debug=true,self=this;this.debugEnabled=function(flag){if(isDefined(flag)){debug=flag;return this;}else{return debug;}};this.$get=['$window',function($window){return{log:consoleLog('log'),info:consoleLog('info'),warn:consoleLog('warn'),error:consoleLog('error'),debug:(function(){var fn=consoleLog('debug');return function(){if(debug){fn.apply(self,arguments);}};}())};function formatError(arg){if(arg instanceof Error){if(arg.stack){arg=(arg.message&&arg.stack.indexOf(arg.message)===-1)?'Error: '+arg.message+'\n'+arg.stack:arg.stack;}else if(arg.sourceURL){arg=arg.message+'\n'+arg.sourceURL+':'+arg.line;}}
return arg;}
function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=false;try{hasApply=!!logFn.apply;}catch(e){}
if(hasApply){return function(){var args=[];forEach(arguments,function(arg){args.push(formatError(arg));});return logFn.apply(console,args);};}
return function(arg1,arg2){logFn(arg1,arg2==null?'':arg2);};}}];}
var $parseMinErr=minErr('$parse');function ensureSafeMemberName(name,fullExpression){if(name==="__defineGetter__"||name==="__defineSetter__"||name==="__lookupGetter__"||name==="__lookupSetter__"||name==="__proto__"){throw $parseMinErr('isecfld','Attempting to access a disallowed field in Angular expressions! '
+'Expression: {0}',fullExpression);}
return name;}
function getStringValue(name){return name+'';}
function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj){throw $parseMinErr('isecfn','Referencing Function in Angular expressions is disallowed! Expression: {0}',fullExpression);}else if(obj.window===obj){throw $parseMinErr('isecwindow','Referencing the Window in Angular expressions is disallowed! Expression: {0}',fullExpression);}else if(obj.children&&(obj.nodeName||(obj.prop&&obj.attr&&obj.find))){throw $parseMinErr('isecdom','Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}',fullExpression);}else if(obj===Object){throw $parseMinErr('isecobj','Referencing Object in Angular expressions is disallowed! Expression: {0}',fullExpression);}}
return obj;}
var CALL=Function.prototype.call;var APPLY=Function.prototype.apply;var BIND=Function.prototype.bind;function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj){throw $parseMinErr('isecfn','Referencing Function in Angular expressions is disallowed! Expression: {0}',fullExpression);}else if(obj===CALL||obj===APPLY||obj===BIND){throw $parseMinErr('isecff','Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}',fullExpression);}}}
function ensureSafeAssignContext(obj,fullExpression){if(obj){if(obj===(0).constructor||obj===(false).constructor||obj===''.constructor||obj==={}.constructor||obj===[].constructor||obj===Function.constructor){throw $parseMinErr('isecaf','Assigning to a constructor is disallowed! Expression: {0}',fullExpression);}}}
var OPERATORS=createMap();forEach('+ - * / % === !== == != < > <= >= && || ! = |'.split(' '),function(operator){OPERATORS[operator]=true;});var ESCAPE={"n":"\n","f":"\f","r":"\r","t":"\t","v":"\v","'":"'",'"':'"'};var Lexer=function(options){this.options=options;};Lexer.prototype={constructor:Lexer,lex:function(text){this.text=text;this.index=0;this.tokens=[];while(this.index<this.text.length){var ch=this.text.charAt(this.index);if(ch==='"'||ch==="'"){this.readString(ch);}else if(this.isNumber(ch)||ch==='.'&&this.isNumber(this.peek())){this.readNumber();}else if(this.isIdent(ch)){this.readIdent();}else if(this.is(ch,'(){}[].,;:?')){this.tokens.push({index:this.index,text:ch});this.index++;}else if(this.isWhitespace(ch)){this.index++;}else{var ch2=ch+this.peek();var ch3=ch2+this.peek(2);var op1=OPERATORS[ch];var op2=OPERATORS[ch2];var op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:(op2?ch2:ch);this.tokens.push({index:this.index,text:token,operator:true});this.index+=token.length;}else{this.throwError('Unexpected next character ',this.index,this.index+1);}}}
return this.tokens;},is:function(ch,chars){return chars.indexOf(ch)!==-1;},peek:function(i){var num=i||1;return(this.index+num<this.text.length)?this.text.charAt(this.index+num):false;},isNumber:function(ch){return('0'<=ch&&ch<='9')&&typeof ch==="string";},isWhitespace:function(ch){return(ch===' '||ch==='\r'||ch==='\t'||ch==='\n'||ch==='\v'||ch==='\u00A0');},isIdent:function(ch){return('a'<=ch&&ch<='z'||'A'<=ch&&ch<='Z'||'_'===ch||ch==='$');},isExpOperator:function(ch){return(ch==='-'||ch==='+'||this.isNumber(ch));},throwError:function(error,start,end){end=end||this.index;var colStr=(isDefined(start)?'s '+start+'-'+this.index+' ['+this.text.substring(start,end)+']':' '+end);throw $parseMinErr('lexerr','Lexer Error: {0} at column{1} in expression [{2}].',error,colStr,this.text);},readNumber:function(){var number='';var start=this.index;while(this.index<this.text.length){var ch=lowercase(this.text.charAt(this.index));if(ch=='.'||this.isNumber(ch)){number+=ch;}else{var peekCh=this.peek();if(ch=='e'&&this.isExpOperator(peekCh)){number+=ch;}else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&number.charAt(number.length-1)=='e'){number+=ch;}else if(this.isExpOperator(ch)&&(!peekCh||!this.isNumber(peekCh))&&number.charAt(number.length-1)=='e'){this.throwError('Invalid exponent');}else{break;}}
this.index++;}
this.tokens.push({index:start,text:number,constant:true,value:Number(number)});},readIdent:function(){var start=this.index;while(this.index<this.text.length){var ch=this.text.charAt(this.index);if(!(this.isIdent(ch)||this.isNumber(ch))){break;}
this.index++;}
this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:true});},readString:function(quote){var start=this.index;this.index++;var string='';var rawString=quote;var escape=false;while(this.index<this.text.length){var ch=this.text.charAt(this.index);rawString+=ch;if(escape){if(ch==='u'){var hex=this.text.substring(this.index+1,this.index+5);if(!hex.match(/[\da-f]{4}/i)){this.throwError('Invalid unicode escape [\\u'+hex+']');}
this.index+=4;string+=String.fromCharCode(parseInt(hex,16));}else{var rep=ESCAPE[ch];string=string+(rep||ch);}
escape=false;}else if(ch==='\\'){escape=true;}else if(ch===quote){this.index++;this.tokens.push({index:start,text:rawString,constant:true,value:string});return;}else{string+=ch;}
this.index++;}
this.throwError('Unterminated quote',start);}};var AST=function(lexer,options){this.lexer=lexer;this.options=options;};AST.Program='Program';AST.ExpressionStatement='ExpressionStatement';AST.AssignmentExpression='AssignmentExpression';AST.ConditionalExpression='ConditionalExpression';AST.LogicalExpression='LogicalExpression';AST.BinaryExpression='BinaryExpression';AST.UnaryExpression='UnaryExpression';AST.CallExpression='CallExpression';AST.MemberExpression='MemberExpression';AST.Identifier='Identifier';AST.Literal='Literal';AST.ArrayExpression='ArrayExpression';AST.Property='Property';AST.ObjectExpression='ObjectExpression';AST.ThisExpression='ThisExpression';AST.LocalsExpression='LocalsExpression';AST.NGValueParameter='NGValueParameter';AST.prototype={ast:function(text){this.text=text;this.tokens=this.lexer.lex(text);var value=this.program();if(this.tokens.length!==0){this.throwError('is an unexpected token',this.tokens[0]);}
return value;},program:function(){var body=[];while(true){if(this.tokens.length>0&&!this.peek('}',')',';',']'))
body.push(this.expressionStatement());if(!this.expect(';')){return{type:AST.Program,body:body};}}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()};},filterChain:function(){var left=this.expression();var token;while((token=this.expect('|'))){left=this.filter(left);}
return left;},expression:function(){return this.assignment();},assignment:function(){var result=this.ternary();if(this.expect('=')){result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:'='};}
return result;},ternary:function(){var test=this.logicalOR();var alternate;var consequent;if(this.expect('?')){alternate=this.expression();if(this.consume(':')){consequent=this.expression();return{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent};}}
return test;},logicalOR:function(){var left=this.logicalAND();while(this.expect('||')){left={type:AST.LogicalExpression,operator:'||',left:left,right:this.logicalAND()};}
return left;},logicalAND:function(){var left=this.equality();while(this.expect('&&')){left={type:AST.LogicalExpression,operator:'&&',left:left,right:this.equality()};}
return left;},equality:function(){var left=this.relational();var token;while((token=this.expect('==','!=','===','!=='))){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()};}
return left;},relational:function(){var left=this.additive();var token;while((token=this.expect('<','>','<=','>='))){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()};}
return left;},additive:function(){var left=this.multiplicative();var token;while((token=this.expect('+','-'))){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()};}
return left;},multiplicative:function(){var left=this.unary();var token;while((token=this.expect('*','/','%'))){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()};}
return left;},unary:function(){var token;if((token=this.expect('+','-','!'))){return{type:AST.UnaryExpression,operator:token.text,prefix:true,argument:this.unary()};}else{return this.primary();}},primary:function(){var primary;if(this.expect('(')){primary=this.filterChain();this.consume(')');}else if(this.expect('[')){primary=this.arrayDeclaration();}else if(this.expect('{')){primary=this.object();}else if(this.selfReferential.hasOwnProperty(this.peek().text)){primary=copy(this.selfReferential[this.consume().text]);}else if(this.options.literals.hasOwnProperty(this.peek().text)){primary={type:AST.Literal,value:this.options.literals[this.consume().text]};}else if(this.peek().identifier){primary=this.identifier();}else if(this.peek().constant){primary=this.constant();}else{this.throwError('not a primary expression',this.peek());}
var next;while((next=this.expect('(','[','.'))){if(next.text==='('){primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()};this.consume(')');}else if(next.text==='['){primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:true};this.consume(']');}else if(next.text==='.'){primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:false};}else{this.throwError('IMPOSSIBLE');}}
return primary;},filter:function(baseExpression){var args=[baseExpression];var result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:true};while(this.expect(':')){args.push(this.expression());}
return result;},parseArguments:function(){var args=[];if(this.peekToken().text!==')'){do{args.push(this.expression());}while(this.expect(','));}
return args;},identifier:function(){var token=this.consume();if(!token.identifier){this.throwError('is not a valid identifier',token);}
return{type:AST.Identifier,name:token.text};},constant:function(){return{type:AST.Literal,value:this.consume().value};},arrayDeclaration:function(){var elements=[];if(this.peekToken().text!==']'){do{if(this.peek(']')){break;}
elements.push(this.expression());}while(this.expect(','));}
this.consume(']');return{type:AST.ArrayExpression,elements:elements};},object:function(){var properties=[],property;if(this.peekToken().text!=='}'){do{if(this.peek('}')){break;}
property={type:AST.Property,kind:'init'};if(this.peek().constant){property.key=this.constant();}else if(this.peek().identifier){property.key=this.identifier();}else{this.throwError("invalid key",this.peek());}
this.consume(':');property.value=this.expression();properties.push(property);}while(this.expect(','));}
this.consume('}');return{type:AST.ObjectExpression,properties:properties};},throwError:function(msg,token){throw $parseMinErr('syntax','Syntax Error: Token \'{0}\' {1} at column {2} of the expression [{3}] starting at [{4}].',token.text,msg,(token.index+1),this.text,this.text.substring(token.index));},consume:function(e1){if(this.tokens.length===0){throw $parseMinErr('ueoe','Unexpected end of expression: {0}',this.text);}
var token=this.expect(e1);if(!token){this.throwError('is unexpected, expecting ['+e1+']',this.peek());}
return token;},peekToken:function(){if(this.tokens.length===0){throw $parseMinErr('ueoe','Unexpected end of expression: {0}',this.text);}
return this.tokens[0];},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4);},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i];var t=token.text;if(t===e1||t===e2||t===e3||t===e4||(!e1&&!e2&&!e3&&!e4)){return token;}}
return false;},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);if(token){this.tokens.shift();return token;}
return false;},selfReferential:{'this':{type:AST.ThisExpression},'$locals':{type:AST.LocalsExpression}}};function ifDefined(v,d){return typeof v!=='undefined'?v:d;}
function plusFn(l,r){if(typeof l==='undefined')return r;if(typeof r==='undefined')return l;return l+r;}
function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful;}
function findConstantAndWatchExpressions(ast,$filter){var allConstants;var argsToWatch;switch(ast.type){case AST.Program:allConstants=true;forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter);allConstants=allConstants&&expr.expression.constant;});ast.constant=allConstants;break;case AST.Literal:ast.constant=true;ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter);ast.constant=ast.argument.constant;ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter);findConstantAndWatchExpressions(ast.right,$filter);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter);findConstantAndWatchExpressions(ast.right,$filter);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter);findConstantAndWatchExpressions(ast.alternate,$filter);findConstantAndWatchExpressions(ast.consequent,$filter);ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=false;ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter);if(ast.computed){findConstantAndWatchExpressions(ast.property,$filter);}
ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant);ast.toWatch=[ast];break;case AST.CallExpression:allConstants=ast.filter?isStateless($filter,ast.callee.name):false;argsToWatch=[];forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter);allConstants=allConstants&&expr.constant;if(!expr.constant){argsToWatch.push.apply(argsToWatch,expr.toWatch);}});ast.constant=allConstants;ast.toWatch=ast.filter&&isStateless($filter,ast.callee.name)?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter);findConstantAndWatchExpressions(ast.right,$filter);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=true;argsToWatch=[];forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter);allConstants=allConstants&&expr.constant;if(!expr.constant){argsToWatch.push.apply(argsToWatch,expr.toWatch);}});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=true;argsToWatch=[];forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter);allConstants=allConstants&&property.value.constant;if(!property.value.constant){argsToWatch.push.apply(argsToWatch,property.value.toWatch);}});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=false;ast.toWatch=[];break;case AST.LocalsExpression:ast.constant=false;ast.toWatch=[];break;}}
function getInputs(body){if(body.length!=1)return;var lastExpression=body[0].expression;var candidate=lastExpression.toWatch;if(candidate.length!==1)return candidate;return candidate[0]!==lastExpression?candidate:undefined;}
function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression;}
function assignableAST(ast){if(ast.body.length===1&&isAssignable(ast.body[0].expression)){return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:'='};}}
function isLiteral(ast){return ast.body.length===0||ast.body.length===1&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression);}
function isConstant(ast){return ast.constant;}
function ASTCompiler(astBuilder,$filter){this.astBuilder=astBuilder;this.$filter=$filter;}
ASTCompiler.prototype={compile:function(expression,expensiveChecks){var self=this;var ast=this.astBuilder.ast(expression);this.state={nextId:0,filters:{},expensiveChecks:expensiveChecks,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};findConstantAndWatchExpressions(ast,self.$filter);var extra='';var assignable;this.stage='assign';if((assignable=assignableAST(ast))){this.state.computing='assign';var result=this.nextId();this.recurse(assignable,result);this.return_(result);extra='fn.assign='+this.generateFunction('assign','s,v,l');}
var toWatch=getInputs(ast.body);self.stage='inputs';forEach(toWatch,function(watch,key){var fnKey='fn'+key;self.state[fnKey]={vars:[],body:[],own:{}};self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId);self.return_(intoId);self.state.inputs.push(fnKey);watch.watchId=key;});this.state.computing='fn';this.stage='main';this.recurse(ast);var fnString='"'+this.USE+' '+this.STRICT+'";\n'+
this.filterPrefix()+'var fn='+this.generateFunction('fn','s,l,a,i')+
extra+
this.watchFns()+'return fn;';var fn=(new Function('$filter','ensureSafeMemberName','ensureSafeObject','ensureSafeFunction','getStringValue','ensureSafeAssignContext','ifDefined','plus','text',fnString))(this.$filter,ensureSafeMemberName,ensureSafeObject,ensureSafeFunction,getStringValue,ensureSafeAssignContext,ifDefined,plusFn,expression);this.state=this.stage=undefined;fn.literal=isLiteral(ast);fn.constant=isConstant(ast);return fn;},USE:'use',STRICT:'strict',watchFns:function(){var result=[];var fns=this.state.inputs;var self=this;forEach(fns,function(name){result.push('var '+name+'='+self.generateFunction(name,'s'));});if(fns.length){result.push('fn.inputs=['+fns.join(',')+'];');}
return result.join('');},generateFunction:function(name,params){return'function('+params+'){'+
this.varsPrefix(name)+
this.body(name)+'};';},filterPrefix:function(){var parts=[];var self=this;forEach(this.state.filters,function(id,filter){parts.push(id+'=$filter('+self.escape(filter)+')');});if(parts.length)return'var '+parts.join(',')+';';return'';},varsPrefix:function(section){return this.state[section].vars.length?'var '+this.state[section].vars.join(',')+';':'';},body:function(section){return this.state[section].body.join('');},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,self=this,args,expression;recursionFn=recursionFn||noop;if(!skipWatchIdCheck&&isDefined(ast.watchId)){intoId=intoId||this.nextId();this.if_('i',this.lazyAssign(intoId,this.computedMember('i',ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,true));return;}
switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr;});if(pos!==ast.body.length-1){self.current().body.push(right,';');}else{self.return_(right);}});break;case AST.Literal:expression=this.escape(ast.value);this.assign(intoId,expression);recursionFn(expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr;});expression=ast.operator+'('+this.ifDefined(right,0)+')';this.assign(intoId,expression);recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr;});this.recurse(ast.right,undefined,undefined,function(expr){right=expr;});if(ast.operator==='+'){expression=this.plus(left,right);}else if(ast.operator==='-'){expression=this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0);}else{expression='('+left+')'+ast.operator+'('+right+')';}
this.assign(intoId,expression);recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId();self.recurse(ast.left,intoId);self.if_(ast.operator==='&&'?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId));recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId();self.recurse(ast.test,intoId);self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId));recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId();if(nameId){nameId.context=self.stage==='inputs'?'s':this.assign(this.nextId(),this.getHasOwnProperty('l',ast.name)+'?l:s');nameId.computed=false;nameId.name=ast.name;}
ensureSafeMemberName(ast.name);self.if_(self.stage==='inputs'||self.not(self.getHasOwnProperty('l',ast.name)),function(){self.if_(self.stage==='inputs'||'s',function(){if(create&&create!==1){self.if_(self.not(self.nonComputedMember('s',ast.name)),self.lazyAssign(self.nonComputedMember('s',ast.name),'{}'));}
self.assign(intoId,self.nonComputedMember('s',ast.name));});},intoId&&self.lazyAssign(intoId,self.nonComputedMember('l',ast.name)));if(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.name)){self.addEnsureSafeObject(intoId);}
recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId();intoId=intoId||this.nextId();self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){if(create&&create!==1){self.addEnsureSafeAssignContext(left);}
if(ast.computed){right=self.nextId();self.recurse(ast.property,right);self.getStringValue(right);self.addEnsureSafeMemberName(right);if(create&&create!==1){self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),'{}'));}
expression=self.ensureSafeObject(self.computedMember(left,right));self.assign(intoId,expression);if(nameId){nameId.computed=true;nameId.name=right;}}else{ensureSafeMemberName(ast.property.name);if(create&&create!==1){self.if_(self.not(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),'{}'));}
expression=self.nonComputedMember(left,ast.property.name);if(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.property.name)){expression=self.ensureSafeObject(expression);}
self.assign(intoId,expression);if(nameId){nameId.computed=false;nameId.name=ast.property.name;}}},function(){self.assign(intoId,'undefined');});recursionFn(intoId);},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId();if(ast.filter){right=self.filter(ast.callee.name);args=[];forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument);args.push(argument);});expression=right+'('+args.join(',')+')';self.assign(intoId,expression);recursionFn(intoId);}else{right=self.nextId();left={};args=[];self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){self.addEnsureSafeFunction(right);forEach(ast.arguments,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(self.ensureSafeObject(argument));});});if(left.name){if(!self.state.expensiveChecks){self.addEnsureSafeObject(left.context);}
expression=self.member(left.context,left.name,left.computed)+'('+args.join(',')+')';}else{expression=right+'('+args.join(',')+')';}
expression=self.ensureSafeObject(expression);self.assign(intoId,expression);},function(){self.assign(intoId,'undefined');});recursionFn(intoId);});}
break;case AST.AssignmentExpression:right=this.nextId();left={};if(!isAssignable(ast.left)){throw $parseMinErr('lval','Trying to assign a value to a non l-value');}
this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right);self.addEnsureSafeObject(self.member(left.context,left.name,left.computed));self.addEnsureSafeAssignContext(left.context);expression=self.member(left.context,left.name,left.computed)+ast.operator+right;self.assign(intoId,expression);recursionFn(intoId||expression);});},1);break;case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(argument);});});expression='['+args.join(',')+']';this.assign(intoId,expression);recursionFn(expression);break;case AST.ObjectExpression:args=[];forEach(ast.properties,function(property){self.recurse(property.value,self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:(''+property.key.value))+':'+expr);});});expression='{'+args.join(',')+'}';this.assign(intoId,expression);recursionFn(expression);break;case AST.ThisExpression:this.assign(intoId,'s');recursionFn('s');break;case AST.LocalsExpression:this.assign(intoId,'l');recursionFn('l');break;case AST.NGValueParameter:this.assign(intoId,'v');recursionFn('v');break;}},getHasOwnProperty:function(element,property){var key=element+'.'+property;var own=this.current().own;if(!own.hasOwnProperty(key)){own[key]=this.nextId(false,element+'&&('+this.escape(property)+' in '+element+')');}
return own[key];},assign:function(id,value){if(!id)return;this.current().body.push(id,'=',value,';');return id;},filter:function(filterName){if(!this.state.filters.hasOwnProperty(filterName)){this.state.filters[filterName]=this.nextId(true);}
return this.state.filters[filterName];},ifDefined:function(id,defaultValue){return'ifDefined('+id+','+this.escape(defaultValue)+')';},plus:function(left,right){return'plus('+left+','+right+')';},return_:function(id){this.current().body.push('return ',id,';');},if_:function(test,alternate,consequent){if(test===true){alternate();}else{var body=this.current().body;body.push('if(',test,'){');alternate();body.push('}');if(consequent){body.push('else{');consequent();body.push('}');}}},not:function(expression){return'!('+expression+')';},notNull:function(expression){return expression+'!=null';},nonComputedMember:function(left,right){return left+'.'+right;},computedMember:function(left,right){return left+'['+right+']';},member:function(left,right,computed){if(computed)return this.computedMember(left,right);return this.nonComputedMember(left,right);},addEnsureSafeObject:function(item){this.current().body.push(this.ensureSafeObject(item),';');},addEnsureSafeMemberName:function(item){this.current().body.push(this.ensureSafeMemberName(item),';');},addEnsureSafeFunction:function(item){this.current().body.push(this.ensureSafeFunction(item),';');},addEnsureSafeAssignContext:function(item){this.current().body.push(this.ensureSafeAssignContext(item),';');},ensureSafeObject:function(item){return'ensureSafeObject('+item+',text)';},ensureSafeMemberName:function(item){return'ensureSafeMemberName('+item+',text)';},ensureSafeFunction:function(item){return'ensureSafeFunction('+item+',text)';},getStringValue:function(item){this.assign(item,'getStringValue('+item+')');},ensureSafeAssignContext:function(item){return'ensureSafeAssignContext('+item+',text)';},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck);};},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value);};},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return'\\u'+('0000'+c.charCodeAt(0).toString(16)).slice(-4);},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===true)return'true';if(value===false)return'false';if(value===null)return'null';if(typeof value==='undefined')return'undefined';throw $parseMinErr('esc','IMPOSSIBLE');},nextId:function(skip,init){var id='v'+(this.state.nextId++);if(!skip){this.current().vars.push(id+(init?'='+init:''));}
return id;},current:function(){return this.state[this.state.computing];}};function ASTInterpreter(astBuilder,$filter){this.astBuilder=astBuilder;this.$filter=$filter;}
ASTInterpreter.prototype={compile:function(expression,expensiveChecks){var self=this;var ast=this.astBuilder.ast(expression);this.expression=expression;this.expensiveChecks=expensiveChecks;findConstantAndWatchExpressions(ast,self.$filter);var assignable;var assign;if((assignable=assignableAST(ast))){assign=this.recurse(assignable);}
var toWatch=getInputs(ast.body);var inputs;if(toWatch){inputs=[];forEach(toWatch,function(watch,key){var input=self.recurse(watch);watch.input=input;inputs.push(input);watch.watchId=key;});}
var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression));});var fn=ast.body.length===0?noop:ast.body.length===1?expressions[0]:function(scope,locals){var lastValue;forEach(expressions,function(exp){lastValue=exp(scope,locals);});return lastValue;};if(assign){fn.assign=function(scope,value,locals){return assign(scope,locals,value);};}
if(inputs){fn.inputs=inputs;}
fn.literal=isLiteral(ast);fn.constant=isConstant(ast);return fn;},recurse:function(ast,context,create){var left,right,self=this,args,expression;if(ast.input){return this.inputs(ast.input,ast.watchId);}
switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:right=this.recurse(ast.argument);return this['unary'+ast.operator](right,context);case AST.BinaryExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this['binary'+ast.operator](left,right,context);case AST.LogicalExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this['binary'+ast.operator](left,right,context);case AST.ConditionalExpression:return this['ternary?:'](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:ensureSafeMemberName(ast.name,self.expression);return self.identifier(ast.name,self.expensiveChecks||isPossiblyDangerousMemberName(ast.name),context,create,self.expression);case AST.MemberExpression:left=this.recurse(ast.object,false,!!create);if(!ast.computed){ensureSafeMemberName(ast.property.name,self.expression);right=ast.property.name;}
if(ast.computed)right=this.recurse(ast.property);return ast.computed?this.computedMember(left,right,context,create,self.expression):this.nonComputedMember(left,right,self.expensiveChecks,context,create,self.expression);case AST.CallExpression:args=[];forEach(ast.arguments,function(expr){args.push(self.recurse(expr));});if(ast.filter)right=this.$filter(ast.callee.name);if(!ast.filter)right=this.recurse(ast.callee,true);return ast.filter?function(scope,locals,assign,inputs){var values=[];for(var i=0;i<args.length;++i){values.push(args[i](scope,locals,assign,inputs));}
var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value;}:function(scope,locals,assign,inputs){var rhs=right(scope,locals,assign,inputs);var value;if(rhs.value!=null){ensureSafeObject(rhs.context,self.expression);ensureSafeFunction(rhs.value,self.expression);var values=[];for(var i=0;i<args.length;++i){values.push(ensureSafeObject(args[i](scope,locals,assign,inputs),self.expression));}
value=ensureSafeObject(rhs.value.apply(rhs.context,values),self.expression);}
return context?{value:value}:value;};case AST.AssignmentExpression:left=this.recurse(ast.left,true,1);right=this.recurse(ast.right);return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);ensureSafeObject(lhs.value,self.expression);ensureSafeAssignContext(lhs.context);lhs.context[lhs.name]=rhs;return context?{value:rhs}:rhs;};case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){args.push(self.recurse(expr));});return function(scope,locals,assign,inputs){var value=[];for(var i=0;i<args.length;++i){value.push(args[i](scope,locals,assign,inputs));}
return context?{value:value}:value;};case AST.ObjectExpression:args=[];forEach(ast.properties,function(property){args.push({key:property.key.type===AST.Identifier?property.key.name:(''+property.key.value),value:self.recurse(property.value)});});return function(scope,locals,assign,inputs){var value={};for(var i=0;i<args.length;++i){value[args[i].key]=args[i].value(scope,locals,assign,inputs);}
return context?{value:value}:value;};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope;};case AST.LocalsExpression:return function(scope,locals){return context?{value:locals}:locals;};case AST.NGValueParameter:return function(scope,locals,assign){return context?{value:assign}:assign;};}},'unary+':function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg)){arg=+arg;}else{arg=0;}
return context?{value:arg}:arg;};},'unary-':function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg)){arg=-arg;}else{arg=0;}
return context?{value:arg}:arg;};},'unary!':function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary+':function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=plusFn(lhs,rhs);return context?{value:arg}:arg;};},'binary-':function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg;};},'binary*':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary/':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary%':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary===':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary!==':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary==':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary!=':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary<':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary>':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary<=':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary>=':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary&&':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'binary||':function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg;};},'ternary?:':function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg;};},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value;};},identifier:function(name,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var base=locals&&(name in locals)?locals:scope;if(create&&create!==1&&base&&!(base[name])){base[name]={};}
var value=base?base[name]:undefined;if(expensiveChecks){ensureSafeObject(value,expression);}
if(context){return{context:base,name:name,value:value};}else{return value;}};},computedMember:function(left,right,context,create,expression){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs;var value;if(lhs!=null){rhs=right(scope,locals,assign,inputs);rhs=getStringValue(rhs);ensureSafeMemberName(rhs,expression);if(create&&create!==1){ensureSafeAssignContext(lhs);if(lhs&&!(lhs[rhs])){lhs[rhs]={};}}
value=lhs[rhs];ensureSafeObject(value,expression);}
if(context){return{context:lhs,name:rhs,value:value};}else{return value;}};},nonComputedMember:function(left,right,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);if(create&&create!==1){ensureSafeAssignContext(lhs);if(lhs&&!(lhs[right])){lhs[right]={};}}
var value=lhs!=null?lhs[right]:undefined;if(expensiveChecks||isPossiblyDangerousMemberName(right)){ensureSafeObject(value,expression);}
if(context){return{context:lhs,name:right,value:value};}else{return value;}};},inputs:function(input,watchId){return function(scope,value,locals,inputs){if(inputs)return inputs[watchId];return input(scope,value,locals);};}};var Parser=function(lexer,$filter,options){this.lexer=lexer;this.$filter=$filter;this.options=options;this.ast=new AST(lexer,options);this.astCompiler=options.csp?new ASTInterpreter(this.ast,$filter):new ASTCompiler(this.ast,$filter);};Parser.prototype={constructor:Parser,parse:function(text){return this.astCompiler.compile(text,this.options.expensiveChecks);}};function isPossiblyDangerousMemberName(name){return name=='constructor';}
var objectValueOf=Object.prototype.valueOf;function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value);}
function $ParseProvider(){var cacheDefault=createMap();var cacheExpensive=createMap();var literals={'true':true,'false':false,'null':null,'undefined':undefined};this.addLiteral=function(literalName,literalValue){literals[literalName]=literalValue;};this.$get=['$filter',function($filter){var noUnsafeEval=csp().noUnsafeEval;var $parseOptions={csp:noUnsafeEval,expensiveChecks:false,literals:copy(literals)},$parseOptionsExpensive={csp:noUnsafeEval,expensiveChecks:true,literals:copy(literals)};var runningChecksEnabled=false;$parse.$$runningExpensiveChecks=function(){return runningChecksEnabled;};return $parse;function $parse(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;expensiveChecks=expensiveChecks||runningChecksEnabled;switch(typeof exp){case'string':exp=exp.trim();cacheKey=exp;var cache=(expensiveChecks?cacheExpensive:cacheDefault);parsedExpression=cache[cacheKey];if(!parsedExpression){if(exp.charAt(0)===':'&&exp.charAt(1)===':'){oneTime=true;exp=exp.substring(2);}
var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions;var lexer=new Lexer(parseOptions);var parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp);if(parsedExpression.constant){parsedExpression.$$watchDelegate=constantWatchDelegate;}else if(oneTime){parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate;}else if(parsedExpression.inputs){parsedExpression.$$watchDelegate=inputsWatchDelegate;}
if(expensiveChecks){parsedExpression=expensiveChecksInterceptor(parsedExpression);}
cache[cacheKey]=parsedExpression;}
return addInterceptor(parsedExpression,interceptorFn);case'function':return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn);}}
function expensiveChecksInterceptor(fn){if(!fn)return fn;expensiveCheckFn.$$watchDelegate=fn.$$watchDelegate;expensiveCheckFn.assign=expensiveChecksInterceptor(fn.assign);expensiveCheckFn.constant=fn.constant;expensiveCheckFn.literal=fn.literal;for(var i=0;fn.inputs&&i<fn.inputs.length;++i){fn.inputs[i]=expensiveChecksInterceptor(fn.inputs[i]);}
expensiveCheckFn.inputs=fn.inputs;return expensiveCheckFn;function expensiveCheckFn(scope,locals,assign,inputs){var expensiveCheckOldValue=runningChecksEnabled;runningChecksEnabled=true;try{return fn(scope,locals,assign,inputs);}finally{runningChecksEnabled=expensiveCheckOldValue;}}}
function expressionInputDirtyCheck(newValue,oldValueOfValue){if(newValue==null||oldValueOfValue==null){return newValue===oldValueOfValue;}
if(typeof newValue==='object'){newValue=getValueOf(newValue);if(typeof newValue==='object'){return false;}}
return newValue===oldValueOfValue||(newValue!==newValue&&oldValueOfValue!==oldValueOfValue);}
function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var inputExpressions=parsedExpression.inputs;var lastResult;if(inputExpressions.length===1){var oldInputValueOf=expressionInputDirtyCheck;inputExpressions=inputExpressions[0];return scope.$watch(function expressionInputWatch(scope){var newInputValue=inputExpressions(scope);if(!expressionInputDirtyCheck(newInputValue,oldInputValueOf)){lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]);oldInputValueOf=newInputValue&&getValueOf(newInputValue);}
return lastResult;},listener,objectEquality,prettyPrintExpression);}
var oldInputValueOfValues=[];var oldInputValues=[];for(var i=0,ii=inputExpressions.length;i<ii;i++){oldInputValueOfValues[i]=expressionInputDirtyCheck;oldInputValues[i]=null;}
return scope.$watch(function expressionInputsWatch(scope){var changed=false;for(var i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);if(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i]))){oldInputValues[i]=newInputValue;oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue);}}
if(changed){lastResult=parsedExpression(scope,undefined,undefined,oldInputValues);}
return lastResult;},listener,objectEquality,prettyPrintExpression);}
function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function oneTimeWatch(scope){return parsedExpression(scope);},function oneTimeListener(value,old,scope){lastValue=value;if(isFunction(listener)){listener.apply(this,arguments);}
if(isDefined(value)){scope.$$postDigest(function(){if(isDefined(lastValue)){unwatch();}});}},objectEquality);}
function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function oneTimeWatch(scope){return parsedExpression(scope);},function oneTimeListener(value,old,scope){lastValue=value;if(isFunction(listener)){listener.call(this,value,old,scope);}
if(isAllDefined(value)){scope.$$postDigest(function(){if(isAllDefined(lastValue))unwatch();});}},objectEquality);function isAllDefined(value){var allDefined=true;forEach(value,function(val){if(!isDefined(val))allDefined=false;});return allDefined;}}
function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function constantWatch(scope){unwatch();return parsedExpression(scope);},listener,objectEquality);}
function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate;var useInputs=false;var regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate;var fn=regularWatch?function regularInterceptedExpression(scope,locals,assign,inputs){var value=useInputs&&inputs?inputs[0]:parsedExpression(scope,locals,assign,inputs);return interceptorFn(value,scope,locals);}:function oneTimeInterceptedExpression(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs);var result=interceptorFn(value,scope,locals);return isDefined(value)?result:value;};if(parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate){fn.$$watchDelegate=parsedExpression.$$watchDelegate;}else if(!interceptorFn.$stateful){fn.$$watchDelegate=inputsWatchDelegate;useInputs=!parsedExpression.inputs;fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression];}
return fn;}}];}
function $QProvider(){this.$get=['$rootScope','$exceptionHandler',function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback);},$exceptionHandler);}];}
function $$QProvider(){this.$get=['$browser','$exceptionHandler',function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback);},$exceptionHandler);}];}
function qFactory(nextTick,exceptionHandler){var $qMinErr=minErr('$q',TypeError);var defer=function(){var d=new Deferred();d.resolve=simpleBind(d,d.resolve);d.reject=simpleBind(d,d.reject);d.notify=simpleBind(d,d.notify);return d;};function Promise(){this.$$state={status:0};}
extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack)){return this;}
var result=new Deferred();this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]);if(this.$$state.status>0)scheduleProcessQueue(this.$$state);return result.promise;},"catch":function(callback){return this.then(null,callback);},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,true,callback);},function(error){return handleCallback(error,false,callback);},progressBack);}});function simpleBind(context,fn){return function(value){fn.call(context,value);};}
function processQueue(state){var fn,deferred,pending;pending=state.pending;state.processScheduled=false;state.pending=undefined;for(var i=0,ii=pending.length;i<ii;++i){deferred=pending[i][0];fn=pending[i][state.status];try{if(isFunction(fn)){deferred.resolve(fn(state.value));}else if(state.status===1){deferred.resolve(state.value);}else{deferred.reject(state.value);}}catch(e){deferred.reject(e);exceptionHandler(e);}}}
function scheduleProcessQueue(state){if(state.processScheduled||!state.pending)return;state.processScheduled=true;nextTick(function(){processQueue(state);});}
function Deferred(){this.promise=new Promise();}
extend(Deferred.prototype,{resolve:function(val){if(this.promise.$$state.status)return;if(val===this.promise){this.$$reject($qMinErr('qcycle',"Expected promise to be resolved with value other than itself '{0}'",val));}else{this.$$resolve(val);}},$$resolve:function(val){var then;var that=this;var done=false;try{if((isObject(val)||isFunction(val)))then=val&&val.then;if(isFunction(then)){this.promise.$$state.status=-1;then.call(val,resolvePromise,rejectPromise,simpleBind(this,this.notify));}else{this.promise.$$state.value=val;this.promise.$$state.status=1;scheduleProcessQueue(this.promise.$$state);}}catch(e){rejectPromise(e);exceptionHandler(e);}
function resolvePromise(val){if(done)return;done=true;that.$$resolve(val);}
function rejectPromise(val){if(done)return;done=true;that.$$reject(val);}},reject:function(reason){if(this.promise.$$state.status)return;this.$$reject(reason);},$$reject:function(reason){this.promise.$$state.value=reason;this.promise.$$state.status=2;scheduleProcessQueue(this.promise.$$state);},notify:function(progress){var callbacks=this.promise.$$state.pending;if((this.promise.$$state.status<=0)&&callbacks&&callbacks.length){nextTick(function(){var callback,result;for(var i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0];callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress);}catch(e){exceptionHandler(e);}}});}}});var reject=function(reason){var result=new Deferred();result.reject(reason);return result.promise;};var makePromise=function makePromise(value,resolved){var result=new Deferred();if(resolved){result.resolve(value);}else{result.reject(value);}
return result.promise;};var handleCallback=function handleCallback(value,isResolved,callback){var callbackOutput=null;try{if(isFunction(callback))callbackOutput=callback();}catch(e){return makePromise(e,false);}
if(isPromiseLike(callbackOutput)){return callbackOutput.then(function(){return makePromise(value,isResolved);},function(error){return makePromise(error,false);});}else{return makePromise(value,isResolved);}};var when=function(value,callback,errback,progressBack){var result=new Deferred();result.resolve(value);return result.promise.then(callback,errback,progressBack);};var resolve=when;function all(promises){var deferred=new Deferred(),counter=0,results=isArray(promises)?[]:{};forEach(promises,function(promise,key){counter++;when(promise).then(function(value){if(results.hasOwnProperty(key))return;results[key]=value;if(!(--counter))deferred.resolve(results);},function(reason){if(results.hasOwnProperty(key))return;deferred.reject(reason);});});if(counter===0){deferred.resolve(results);}
return deferred.promise;}
var $Q=function Q(resolver){if(!isFunction(resolver)){throw $qMinErr('norslvr',"Expected resolverFn, got '{0}'",resolver);}
var deferred=new Deferred();function resolveFn(value){deferred.resolve(value);}
function rejectFn(reason){deferred.reject(reason);}
resolver(resolveFn,rejectFn);return deferred.promise;};$Q.prototype=Promise.prototype;$Q.defer=defer;$Q.reject=reject;$Q.when=when;$Q.resolve=resolve;$Q.all=all;return $Q;}
function $$RAFProvider(){this.$get=['$window','$timeout',function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame;var cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame;var rafSupported=!!requestAnimationFrame;var raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id);};}:function(fn){var timer=$timeout(fn,16.66,false);return function(){$timeout.cancel(timer);};};raf.supported=rafSupported;return raf;}];}
function $RootScopeProvider(){var TTL=10;var $rootScopeMinErr=minErr('$rootScope');var lastDirtyWatch=null;var applyAsyncId=null;this.digestTtl=function(value){if(arguments.length){TTL=value;}
return TTL;};function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=nextUid();this.$$ChildScope=null;}
ChildScope.prototype=parent;return ChildScope;}
this.$get=['$exceptionHandler','$parse','$browser',function($exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=true;}
function cleanUpScope($scope){if(msie===9){$scope.$$childHead&&cleanUpScope($scope.$$childHead);$scope.$$nextSibling&&cleanUpScope($scope.$$nextSibling);}
$scope.$parent=$scope.$$nextSibling=$scope.$$prevSibling=$scope.$$childHead=$scope.$$childTail=$scope.$root=$scope.$$watchers=null;}
function Scope(){this.$id=nextUid();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null;}
Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;parent=parent||this;if(isolate){child=new Scope();child.$root=this.$root;}else{if(!this.$$ChildScope){this.$$ChildScope=createChildScopeClass(this);}
child=new this.$$ChildScope();}
child.$parent=parent;child.$$prevSibling=parent.$$childTail;if(parent.$$childHead){parent.$$childTail.$$nextSibling=child;parent.$$childTail=child;}else{parent.$$childHead=parent.$$childTail=child;}
if(isolate||parent!=this)child.$on('$destroy',destroyChildScope);return child;},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);if(get.$$watchDelegate){return get.$$watchDelegate(this,listener,objectEquality,get,watchExp);}
var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};lastDirtyWatch=null;if(!isFunction(listener)){watcher.fn=noop;}
if(!array){array=scope.$$watchers=[];}
array.unshift(watcher);incrementWatchersCount(this,1);return function deregisterWatch(){if(arrayRemove(array,watcher)>=0){incrementWatchersCount(scope,-1);}
lastDirtyWatch=null;};},$watchGroup:function(watchExpressions,listener){var oldValues=new Array(watchExpressions.length);var newValues=new Array(watchExpressions.length);var deregisterFns=[];var self=this;var changeReactionScheduled=false;var firstRun=true;if(!watchExpressions.length){var shouldCall=true;self.$evalAsync(function(){if(shouldCall)listener(newValues,newValues,self);});return function deregisterWatchGroup(){shouldCall=false;};}
if(watchExpressions.length===1){return this.$watch(watchExpressions[0],function watchGroupAction(value,oldValue,scope){newValues[0]=value;oldValues[0]=oldValue;listener(newValues,(value===oldValue)?newValues:oldValues,scope);});}
forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function watchGroupSubAction(value,oldValue){newValues[i]=value;oldValues[i]=oldValue;if(!changeReactionScheduled){changeReactionScheduled=true;self.$evalAsync(watchGroupAction);}});deregisterFns.push(unwatchFn);});function watchGroupAction(){changeReactionScheduled=false;if(firstRun){firstRun=false;listener(newValues,newValues,self);}else{listener(newValues,oldValues,self);}}
return function deregisterWatchGroup(){while(deregisterFns.length){deregisterFns.shift()();}};},$watchCollection:function(obj,listener){$watchCollectionInterceptor.$stateful=true;var self=this;var newValue;var oldValue;var veryOldValue;var trackVeryOldValue=(listener.length>1);var changeDetected=0;var changeDetector=$parse(obj,$watchCollectionInterceptor);var internalArray=[];var internalObject={};var initRun=true;var oldLength=0;function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(isUndefined(newValue))return;if(!isObject(newValue)){if(oldValue!==newValue){oldValue=newValue;changeDetected++;}}else if(isArrayLike(newValue)){if(oldValue!==internalArray){oldValue=internalArray;oldLength=oldValue.length=0;changeDetected++;}
newLength=newValue.length;if(oldLength!==newLength){changeDetected++;oldValue.length=oldLength=newLength;}
for(var i=0;i<newLength;i++){oldItem=oldValue[i];newItem=newValue[i];bothNaN=(oldItem!==oldItem)&&(newItem!==newItem);if(!bothNaN&&(oldItem!==newItem)){changeDetected++;oldValue[i]=newItem;}}}else{if(oldValue!==internalObject){oldValue=internalObject={};oldLength=0;changeDetected++;}
newLength=0;for(key in newValue){if(hasOwnProperty.call(newValue,key)){newLength++;newItem=newValue[key];oldItem=oldValue[key];if(key in oldValue){bothNaN=(oldItem!==oldItem)&&(newItem!==newItem);if(!bothNaN&&(oldItem!==newItem)){changeDetected++;oldValue[key]=newItem;}}else{oldLength++;oldValue[key]=newItem;changeDetected++;}}}
if(oldLength>newLength){changeDetected++;for(key in oldValue){if(!hasOwnProperty.call(newValue,key)){oldLength--;delete oldValue[key];}}}}
return changeDetected;}
function $watchCollectionAction(){if(initRun){initRun=false;listener(newValue,newValue,self);}else{listener(newValue,veryOldValue,self);}
if(trackVeryOldValue){if(!isObject(newValue)){veryOldValue=newValue;}else if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++){veryOldValue[i]=newValue[i];}}else{veryOldValue={};for(var key in newValue){if(hasOwnProperty.call(newValue,key)){veryOldValue[key]=newValue[key];}}}}}
return this.$watch(changeDetector,$watchCollectionAction);},$digest:function(){var watch,value,last,fn,get,watchers,length,dirty,ttl=TTL,next,current,target=this,watchLog=[],logIdx,asyncTask;beginPhase('$digest');$browser.$$checkUrlChange();if(this===$rootScope&&applyAsyncId!==null){$browser.defer.cancel(applyAsyncId);flushApplyAsync();}
lastDirtyWatch=null;do{dirty=false;current=target;while(asyncQueue.length){try{asyncTask=asyncQueue.shift();asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals);}catch(e){$exceptionHandler(e);}
lastDirtyWatch=null;}
traverseScopesLoop:do{if((watchers=current.$$watchers)){length=watchers.length;while(length--){try{watch=watchers[length];if(watch){get=watch.get;if((value=get(current))!==(last=watch.last)&&!(watch.eq?equals(value,last):(typeof value==='number'&&typeof last==='number'&&isNaN(value)&&isNaN(last)))){dirty=true;lastDirtyWatch=watch;watch.last=watch.eq?copy(value,null):value;fn=watch.fn;fn(value,((last===initWatchVal)?value:last),current);if(ttl<5){logIdx=4-ttl;if(!watchLog[logIdx])watchLog[logIdx]=[];watchLog[logIdx].push({msg:isFunction(watch.exp)?'fn: '+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last});}}else if(watch===lastDirtyWatch){dirty=false;break traverseScopesLoop;}}}catch(e){$exceptionHandler(e);}}}
if(!(next=((current.$$watchersCount&&current.$$childHead)||(current!==target&&current.$$nextSibling)))){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent;}}}while((current=next));if((dirty||asyncQueue.length)&&!(ttl--)){clearPhase();throw $rootScopeMinErr('infdig','{0} $digest() iterations reached. Aborting!\n'+'Watchers fired in the last 5 iterations: {1}',TTL,watchLog);}}while(dirty||asyncQueue.length);clearPhase();while(postDigestQueue.length){try{postDigestQueue.shift()();}catch(e){$exceptionHandler(e);}}},$destroy:function(){if(this.$$destroyed)return;var parent=this.$parent;this.$broadcast('$destroy');this.$$destroyed=true;if(this===$rootScope){$browser.$$applicationDestroyed();}
incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount){decrementListenerCount(this,this.$$listenerCount[eventName],eventName);}
if(parent&&parent.$$childHead==this)parent.$$childHead=this.$$nextSibling;if(parent&&parent.$$childTail==this)parent.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop;this.$on=this.$watch=this.$watchGroup=function(){return noop;};this.$$listeners={};this.$$nextSibling=null;cleanUpScope(this);},$eval:function(expr,locals){return $parse(expr)(this,locals);},$evalAsync:function(expr,locals){if(!$rootScope.$$phase&&!asyncQueue.length){$browser.defer(function(){if(asyncQueue.length){$rootScope.$digest();}});}
asyncQueue.push({scope:this,expression:$parse(expr),locals:locals});},$$postDigest:function(fn){postDigestQueue.push(fn);},$apply:function(expr){try{beginPhase('$apply');try{return this.$eval(expr);}finally{clearPhase();}}catch(e){$exceptionHandler(e);}finally{try{$rootScope.$digest();}catch(e){$exceptionHandler(e);throw e;}}},$applyAsync:function(expr){var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression);expr=$parse(expr);scheduleApplyAsync();function $applyAsyncExpression(){scope.$eval(expr);}},$on:function(name,listener){var namedListeners=this.$$listeners[name];if(!namedListeners){this.$$listeners[name]=namedListeners=[];}
namedListeners.push(listener);var current=this;do{if(!current.$$listenerCount[name]){current.$$listenerCount[name]=0;}
current.$$listenerCount[name]++;}while((current=current.$parent));var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);if(indexOfListener!==-1){namedListeners[indexOfListener]=null;decrementListenerCount(self,1,name);}};},$emit:function(name,args){var empty=[],namedListeners,scope=this,stopPropagation=false,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=true;},preventDefault:function(){event.defaultPrevented=true;},defaultPrevented:false},listenerArgs=concat([event],arguments,1),i,length;do{namedListeners=scope.$$listeners[name]||empty;event.currentScope=scope;for(i=0,length=namedListeners.length;i<length;i++){if(!namedListeners[i]){namedListeners.splice(i,1);i--;length--;continue;}
try{namedListeners[i].apply(null,listenerArgs);}catch(e){$exceptionHandler(e);}}
if(stopPropagation){event.currentScope=null;return event;}
scope=scope.$parent;}while(scope);event.currentScope=null;return event;},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=true;},defaultPrevented:false};if(!target.$$listenerCount[name])return event;var listenerArgs=concat([event],arguments,1),listeners,i,length;while((current=next)){event.currentScope=current;listeners=current.$$listeners[name]||[];for(i=0,length=listeners.length;i<length;i++){if(!listeners[i]){listeners.splice(i,1);i--;length--;continue;}
try{listeners[i].apply(null,listenerArgs);}catch(e){$exceptionHandler(e);}}
if(!(next=((current.$$listenerCount[name]&&current.$$childHead)||(current!==target&&current.$$nextSibling)))){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent;}}}
event.currentScope=null;return event;}};var $rootScope=new Scope();var asyncQueue=$rootScope.$$asyncQueue=[];var postDigestQueue=$rootScope.$$postDigestQueue=[];var applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope;function beginPhase(phase){if($rootScope.$$phase){throw $rootScopeMinErr('inprog','{0} already in progress',$rootScope.$$phase);}
$rootScope.$$phase=phase;}
function clearPhase(){$rootScope.$$phase=null;}
function incrementWatchersCount(current,count){do{current.$$watchersCount+=count;}while((current=current.$parent));}
function decrementListenerCount(current,count,name){do{current.$$listenerCount[name]-=count;if(current.$$listenerCount[name]===0){delete current.$$listenerCount[name];}}while((current=current.$parent));}
function initWatchVal(){}
function flushApplyAsync(){while(applyAsyncQueue.length){try{applyAsyncQueue.shift()();}catch(e){$exceptionHandler(e);}}
applyAsyncId=null;}
function scheduleApplyAsync(){if(applyAsyncId===null){applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync);});}}}];}
function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){aHrefSanitizationWhitelist=regexp;return this;}
return aHrefSanitizationWhitelist;};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){imgSrcSanitizationWhitelist=regexp;return this;}
return imgSrcSanitizationWhitelist;};this.$get=function(){return function sanitizeUri(uri,isImage){var regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;var normalizedVal;normalizedVal=urlResolve(uri).href;if(normalizedVal!==''&&!normalizedVal.match(regex)){return'unsafe:'+normalizedVal;}
return uri;};};}
var $sceMinErr=minErr('$sce');var SCE_CONTEXTS={HTML:'html',CSS:'css',URL:'url',RESOURCE_URL:'resourceUrl',JS:'js'};function adjustMatcher(matcher){if(matcher==='self'){return matcher;}else if(isString(matcher)){if(matcher.indexOf('***')>-1){throw $sceMinErr('iwcard','Illegal sequence *** in string matcher.  String: {0}',matcher);}
matcher=escapeForRegexp(matcher).replace('\\*\\*','.*').replace('\\*','[^:/.?&;]*');return new RegExp('^'+matcher+'$');}else if(isRegExp(matcher)){return new RegExp('^'+matcher.source+'$');}else{throw $sceMinErr('imatcher','Matchers may only be "self", string patterns or RegExp objects');}}
function adjustMatchers(matchers){var adjustedMatchers=[];if(isDefined(matchers)){forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher));});}
return adjustedMatchers;}
function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=['self'],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){if(arguments.length){resourceUrlWhitelist=adjustMatchers(value);}
return resourceUrlWhitelist;};this.resourceUrlBlacklist=function(value){if(arguments.length){resourceUrlBlacklist=adjustMatchers(value);}
return resourceUrlBlacklist;};this.$get=['$injector',function($injector){var htmlSanitizer=function htmlSanitizer(html){throw $sceMinErr('unsafe','Attempting to use an unsafe value in a safe context.');};if($injector.has('$sanitize')){htmlSanitizer=$injector.get('$sanitize');}
function matchUrl(matcher,parsedUrl){if(matcher==='self'){return urlIsSameOrigin(parsedUrl);}else{return!!matcher.exec(parsedUrl.href);}}
function isResourceUrlAllowedByPolicy(url){var parsedUrl=urlResolve(url.toString());var i,n,allowed=false;for(i=0,n=resourceUrlWhitelist.length;i<n;i++){if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=true;break;}}
if(allowed){for(i=0,n=resourceUrlBlacklist.length;i<n;i++){if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=false;break;}}}
return allowed;}
function generateHolderType(Base){var holderType=function TrustedValueHolderType(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue;};};if(Base){holderType.prototype=new Base();}
holderType.prototype.valueOf=function sceValueOf(){return this.$$unwrapTrustedValue();};holderType.prototype.toString=function sceToString(){return this.$$unwrapTrustedValue().toString();};return holderType;}
var trustedValueHolderBase=generateHolderType(),byType={};byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]);function trustAs(type,trustedValue){var Constructor=(byType.hasOwnProperty(type)?byType[type]:null);if(!Constructor){throw $sceMinErr('icontext','Attempted to trust a value in invalid context. Context: {0}; Value: {1}',type,trustedValue);}
if(trustedValue===null||isUndefined(trustedValue)||trustedValue===''){return trustedValue;}
if(typeof trustedValue!=='string'){throw $sceMinErr('itype','Attempted to trust a non-string value in a content requiring a string: Context: {0}',type);}
return new Constructor(trustedValue);}
function valueOf(maybeTrusted){if(maybeTrusted instanceof trustedValueHolderBase){return maybeTrusted.$$unwrapTrustedValue();}else{return maybeTrusted;}}
function getTrusted(type,maybeTrusted){if(maybeTrusted===null||isUndefined(maybeTrusted)||maybeTrusted===''){return maybeTrusted;}
var constructor=(byType.hasOwnProperty(type)?byType[type]:null);if(constructor&&maybeTrusted instanceof constructor){return maybeTrusted.$$unwrapTrustedValue();}
if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted)){return maybeTrusted;}else{throw $sceMinErr('insecurl','Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}',maybeTrusted.toString());}}else if(type===SCE_CONTEXTS.HTML){return htmlSanitizer(maybeTrusted);}
throw $sceMinErr('unsafe','Attempting to use an unsafe value in a safe context.');}
return{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf};}];}
function $SceProvider(){var enabled=true;this.enabled=function(value){if(arguments.length){enabled=!!value;}
return enabled;};this.$get=['$parse','$sceDelegate',function($parse,$sceDelegate){if(enabled&&msie<8){throw $sceMinErr('iequirks','Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks '+'mode.  You can fix this by adding the text <!doctype html> to the top of your HTML '+'document.  See http://docs.angularjs.org/api/ng.$sce for more information.');}
var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled;};sce.trustAs=$sceDelegate.trustAs;sce.getTrusted=$sceDelegate.getTrusted;sce.valueOf=$sceDelegate.valueOf;if(!enabled){sce.trustAs=sce.getTrusted=function(type,value){return value;};sce.valueOf=identity;}
sce.parseAs=function sceParseAs(type,expr){var parsed=$parse(expr);if(parsed.literal&&parsed.constant){return parsed;}else{return $parse(expr,function(value){return sce.getTrusted(type,value);});}};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr);};sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value);};sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value);};});return sce;}];}
function $SnifferProvider(){this.$get=['$window','$document',function($window,$document){var eventSupport={},isChromePackagedApp=$window.chrome&&$window.chrome.app&&$window.chrome.app.runtime,hasHistoryPushState=!isChromePackagedApp&&$window.history&&$window.history.pushState,android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorPrefix,vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=false,animations=false,match;if(bodyStyle){for(var prop in bodyStyle){if(match=vendorRegex.exec(prop)){vendorPrefix=match[0];vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break;}}
if(!vendorPrefix){vendorPrefix=('WebkitOpacity'in bodyStyle)&&'webkit';}
transitions=!!(('transition'in bodyStyle)||(vendorPrefix+'Transition'in bodyStyle));animations=!!(('animation'in bodyStyle)||(vendorPrefix+'Animation'in bodyStyle));if(android&&(!transitions||!animations)){transitions=isString(bodyStyle.webkitTransition);animations=isString(bodyStyle.webkitAnimation);}}
return{history:!!(hasHistoryPushState&&!(android<4)&&!boxee),hasEvent:function(event){if(event==='input'&&msie<=11)return false;if(isUndefined(eventSupport[event])){var divElm=document.createElement('div');eventSupport[event]='on'+event in divElm;}
return eventSupport[event];},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android};}];}
var $templateRequestMinErr=minErr('$compile');function $TemplateRequestProvider(){var httpOptions;this.httpOptions=function(val){if(val){httpOptions=val;return this;}
return httpOptions;};this.$get=['$templateCache','$http','$q','$sce',function($templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){handleRequestFn.totalPendingRequests++;if(!isString(tpl)||!$templateCache.get(tpl)){tpl=$sce.getTrustedResourceUrl(tpl);}
var transformResponse=$http.defaults&&$http.defaults.transformResponse;if(isArray(transformResponse)){transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform;});}else if(transformResponse===defaultHttpResponseTransform){transformResponse=null;}
return $http.get(tpl,extend({cache:$templateCache,transformResponse:transformResponse},httpOptions))
['finally'](function(){handleRequestFn.totalPendingRequests--;}).then(function(response){$templateCache.put(tpl,response.data);return response.data;},handleError);function handleError(resp){if(!ignoreRequestError){throw $templateRequestMinErr('tpload','Failed to load template: {0} (HTTP status: {1} {2})',tpl,resp.status,resp.statusText);}
return $q.reject(resp);}}
handleRequestFn.totalPendingRequests=0;return handleRequestFn;}];}
function $$TestabilityProvider(){this.$get=['$rootScope','$browser','$location',function($rootScope,$browser,$location){var testability={};testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName('ng-binding');var matches=[];forEach(bindings,function(binding){var dataBinding=angular.element(binding).data('$binding');if(dataBinding){forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp('(^|\\s)'+escapeForRegexp(expression)+'(\\s|\\||$)');if(matcher.test(bindingName)){matches.push(binding);}}else{if(bindingName.indexOf(expression)!=-1){matches.push(binding);}}});}});return matches;};testability.findModels=function(element,expression,opt_exactMatch){var prefixes=['ng-','data-ng-','ng\\:'];for(var p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?'=':'*=';var selector='['+prefixes[p]+'model'+attributeEquals+'"'+expression+'"]';var elements=element.querySelectorAll(selector);if(elements.length){return elements;}}};testability.getLocation=function(){return $location.url();};testability.setLocation=function(url){if(url!==$location.url()){$location.url(url);$rootScope.$digest();}};testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback);};return testability;}];}
function $TimeoutProvider(){this.$get=['$rootScope','$browser','$q','$$q','$exceptionHandler',function($rootScope,$browser,$q,$$q,$exceptionHandler){var deferreds={};function timeout(fn,delay,invokeApply){if(!isFunction(fn)){invokeApply=delay;delay=fn;fn=noop;}
var args=sliceArgs(arguments,3),skipApply=(isDefined(invokeApply)&&!invokeApply),deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise,timeoutId;timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args));}catch(e){deferred.reject(e);$exceptionHandler(e);}
finally{delete deferreds[promise.$$timeoutId];}
if(!skipApply)$rootScope.$apply();},delay);promise.$$timeoutId=timeoutId;deferreds[timeoutId]=deferred;return promise;}
timeout.cancel=function(promise){if(promise&&promise.$$timeoutId in deferreds){deferreds[promise.$$timeoutId].reject('canceled');delete deferreds[promise.$$timeoutId];return $browser.defer.cancel(promise.$$timeoutId);}
return false;};return timeout;}];}
var urlParsingNode=document.createElement("a");var originUrl=urlResolve(window.location.href);function urlResolve(url){var href=url;if(msie){urlParsingNode.setAttribute("href",href);href=urlParsingNode.href;}
urlParsingNode.setAttribute('href',href);return{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,''):'',host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,''):'',hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,''):'',hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:(urlParsingNode.pathname.charAt(0)==='/')?urlParsingNode.pathname:'/'+urlParsingNode.pathname};}
function urlIsSameOrigin(requestUrl){var parsed=(isString(requestUrl))?urlResolve(requestUrl):requestUrl;return(parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host);}
function $WindowProvider(){this.$get=valueFn(window);}
function $$CookieReader($document){var rawDocument=$document[0]||{};var lastCookies={};var lastCookieString='';function safeDecodeURIComponent(str){try{return decodeURIComponent(str);}catch(e){return str;}}
return function(){var cookieArray,cookie,i,index,name;var currentCookieString=rawDocument.cookie||'';if(currentCookieString!==lastCookieString){lastCookieString=currentCookieString;cookieArray=lastCookieString.split('; ');lastCookies={};for(i=0;i<cookieArray.length;i++){cookie=cookieArray[i];index=cookie.indexOf('=');if(index>0){name=safeDecodeURIComponent(cookie.substring(0,index));if(isUndefined(lastCookies[name])){lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1));}}}}
return lastCookies;};}
$$CookieReader.$inject=['$document'];function $$CookieReaderProvider(){this.$get=$$CookieReader;}
$FilterProvider.$inject=['$provide'];function $FilterProvider($provide){var suffix='Filter';function register(name,factory){if(isObject(name)){var filters={};forEach(name,function(filter,key){filters[key]=register(key,filter);});return filters;}else{return $provide.factory(name+suffix,factory);}}
this.register=register;this.$get=['$injector',function($injector){return function(name){return $injector.get(name+suffix);};}];register('currency',currencyFilter);register('date',dateFilter);register('filter',filterFilter);register('json',jsonFilter);register('limitTo',limitToFilter);register('lowercase',lowercaseFilter);register('number',numberFilter);register('orderBy',orderByFilter);register('uppercase',uppercaseFilter);}
function filterFilter(){return function(array,expression,comparator){if(!isArrayLike(array)){if(array==null){return array;}else{throw minErr('filter')('notarray','Expected array but received: {0}',array);}}
var expressionType=getTypeForFilter(expression);var predicateFn;var matchAgainstAnyProp;switch(expressionType){case'function':predicateFn=expression;break;case'boolean':case'null':case'number':case'string':matchAgainstAnyProp=true;case'object':predicateFn=createPredicateFn(expression,comparator,matchAgainstAnyProp);break;default:return array;}
return Array.prototype.filter.call(array,predicateFn);};}
function createPredicateFn(expression,comparator,matchAgainstAnyProp){var shouldMatchPrimitives=isObject(expression)&&('$'in expression);var predicateFn;if(comparator===true){comparator=equals;}else if(!isFunction(comparator)){comparator=function(actual,expected){if(isUndefined(actual)){return false;}
if((actual===null)||(expected===null)){return actual===expected;}
if(isObject(expected)||(isObject(actual)&&!hasCustomToString(actual))){return false;}
actual=lowercase(''+actual);expected=lowercase(''+expected);return actual.indexOf(expected)!==-1;};}
predicateFn=function(item){if(shouldMatchPrimitives&&!isObject(item)){return deepCompare(item,expression.$,comparator,false);}
return deepCompare(item,expression,comparator,matchAgainstAnyProp);};return predicateFn;}
function deepCompare(actual,expected,comparator,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual);var expectedType=getTypeForFilter(expected);if((expectedType==='string')&&(expected.charAt(0)==='!')){return!deepCompare(actual,expected.substring(1),comparator,matchAgainstAnyProp);}else if(isArray(actual)){return actual.some(function(item){return deepCompare(item,expected,comparator,matchAgainstAnyProp);});}
switch(actualType){case'object':var key;if(matchAgainstAnyProp){for(key in actual){if((key.charAt(0)!=='$')&&deepCompare(actual[key],expected,comparator,true)){return true;}}
return dontMatchWholeObject?false:deepCompare(actual,expected,comparator,false);}else if(expectedType==='object'){for(key in expected){var expectedVal=expected[key];if(isFunction(expectedVal)||isUndefined(expectedVal)){continue;}
var matchAnyProperty=key==='$';var actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,matchAnyProperty,matchAnyProperty)){return false;}}
return true;}else{return comparator(actual,expected);}
break;case'function':return false;default:return comparator(actual,expected);}}
function getTypeForFilter(val){return(val===null)?'null':typeof val;}
var MAX_DIGITS=22;var DECIMAL_SEP='.';var ZERO_CHAR='0';currencyFilter.$inject=['$locale'];function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){if(isUndefined(currencySymbol)){currencySymbol=formats.CURRENCY_SYM;}
if(isUndefined(fractionSize)){fractionSize=formats.PATTERNS[1].maxFrac;}
return(amount==null)?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol);};}
numberFilter.$inject=['$locale'];function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return(number==null)?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize);};}
function parse(numStr){var exponent=0,digits,numberOfIntegerDigits;var i,j,zeros;if((numberOfIntegerDigits=numStr.indexOf(DECIMAL_SEP))>-1){numStr=numStr.replace(DECIMAL_SEP,'');}
if((i=numStr.search(/e/i))>0){if(numberOfIntegerDigits<0)numberOfIntegerDigits=i;numberOfIntegerDigits+=+numStr.slice(i+1);numStr=numStr.substring(0,i);}else if(numberOfIntegerDigits<0){numberOfIntegerDigits=numStr.length;}
for(i=0;numStr.charAt(i)==ZERO_CHAR;i++){}
if(i==(zeros=numStr.length)){digits=[0];numberOfIntegerDigits=1;}else{zeros--;while(numStr.charAt(zeros)==ZERO_CHAR)zeros--;numberOfIntegerDigits-=i;digits=[];for(j=0;i<=zeros;i++,j++){digits[j]=+numStr.charAt(i);}}
if(numberOfIntegerDigits>MAX_DIGITS){digits=digits.splice(0,MAX_DIGITS-1);exponent=numberOfIntegerDigits-1;numberOfIntegerDigits=1;}
return{d:digits,e:exponent,i:numberOfIntegerDigits};}
function roundNumber(parsedNumber,fractionSize,minFrac,maxFrac){var digits=parsedNumber.d;var fractionLen=digits.length-parsedNumber.i;fractionSize=(isUndefined(fractionSize))?Math.min(Math.max(minFrac,fractionLen),maxFrac):+fractionSize;var roundAt=fractionSize+parsedNumber.i;var digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.i,roundAt));for(var j=roundAt;j<digits.length;j++){digits[j]=0;}}else{fractionLen=Math.max(0,fractionLen);parsedNumber.i=1;digits.length=Math.max(1,roundAt=fractionSize+1);digits[0]=0;for(var i=1;i<roundAt;i++)digits[i]=0;}
if(digit>=5){if(roundAt-1<0){for(var k=0;k>roundAt;k--){digits.unshift(0);parsedNumber.i++;}
digits.unshift(1);parsedNumber.i++;}else{digits[roundAt-1]++;}}
for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);var carry=digits.reduceRight(function(carry,d,i,digits){d=d+carry;digits[i]=d%10;return Math.floor(d/10);},0);if(carry){digits.unshift(carry);parsedNumber.i++;}}
function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!(isString(number)||isNumber(number))||isNaN(number))return'';var isInfinity=!isFinite(number);var isZero=false;var numStr=Math.abs(number)+'',formattedText='',parsedNumber;if(isInfinity){formattedText='\u221e';}else{parsedNumber=parse(numStr);roundNumber(parsedNumber,fractionSize,pattern.minFrac,pattern.maxFrac);var digits=parsedNumber.d;var integerLen=parsedNumber.i;var exponent=parsedNumber.e;var decimals=[];isZero=digits.reduce(function(isZero,d){return isZero&&!d;},true);while(integerLen<0){digits.unshift(0);integerLen++;}
if(integerLen>0){decimals=digits.splice(integerLen);}else{decimals=digits;digits=[0];}
var groups=[];if(digits.length>=pattern.lgSize){groups.unshift(digits.splice(-pattern.lgSize).join(''));}
while(digits.length>pattern.gSize){groups.unshift(digits.splice(-pattern.gSize).join(''));}
if(digits.length){groups.unshift(digits.join(''));}
formattedText=groups.join(groupSep);if(decimals.length){formattedText+=decimalSep+decimals.join('');}
if(exponent){formattedText+='e+'+exponent;}}
if(number<0&&!isZero){return pattern.negPre+formattedText+pattern.negSuf;}else{return pattern.posPre+formattedText+pattern.posSuf;}}
function padNumber(num,digits,trim,negWrap){var neg='';if(num<0||(negWrap&&num<=0)){if(negWrap){num=-num+1;}else{num=-num;neg='-';}}
num=''+num;while(num.length<digits)num=ZERO_CHAR+num;if(trim){num=num.substr(num.length-digits);}
return neg+num;}
function dateGetter(name,size,offset,trim,negWrap){offset=offset||0;return function(date){var value=date['get'+name]();if(offset>0||value>-offset){value+=offset;}
if(value===0&&offset==-12)value=12;return padNumber(value,size,trim,negWrap);};}
function dateStrGetter(name,shortForm,standAlone){return function(date,formats){var value=date['get'+name]();var propPrefix=(standAlone?'STANDALONE':'')+(shortForm?'SHORT':'');var get=uppercase(propPrefix+name);return formats[get][value];};}
function timeZoneGetter(date,formats,offset){var zone=-1*offset;var paddedZone=(zone>=0)?"+":"";paddedZone+=padNumber(Math[zone>0?'floor':'ceil'](zone/60),2)+
padNumber(Math.abs(zone%60),2);return paddedZone;}
function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=(new Date(year,0,1)).getDay();return new Date(year,0,((dayOfWeekOnFirst<=4)?5:12)-dayOfWeekOnFirst);}
function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()));}
function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date);var diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6.048e8);return padNumber(result,size);};}
function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1];}
function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1];}
function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1];}
var DATE_FORMATS={yyyy:dateGetter('FullYear',4,0,false,true),yy:dateGetter('FullYear',2,0,true,true),y:dateGetter('FullYear',1,0,false,true),MMMM:dateStrGetter('Month'),MMM:dateStrGetter('Month',true),MM:dateGetter('Month',2,1),M:dateGetter('Month',1,1),LLLL:dateStrGetter('Month',false,true),dd:dateGetter('Date',2),d:dateGetter('Date',1),HH:dateGetter('Hours',2),H:dateGetter('Hours',1),hh:dateGetter('Hours',2,-12),h:dateGetter('Hours',1,-12),mm:dateGetter('Minutes',2),m:dateGetter('Minutes',1),ss:dateGetter('Seconds',2),s:dateGetter('Seconds',1),sss:dateGetter('Milliseconds',3),EEEE:dateStrGetter('Day'),EEE:dateStrGetter('Day',true),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter};var DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=['$locale'];function dateFilter($locale){var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;if(match[9]){tzHour=toInt(match[9]+match[10]);tzMin=toInt(match[9]+match[11]);}
dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour;var m=toInt(match[5]||0)-tzMin;var s=toInt(match[6]||0);var ms=Math.round(parseFloat('0.'+(match[7]||0))*1000);timeSetter.call(date,h,m,s,ms);return date;}
return string;}
return function(date,format,timezone){var text='',parts=[],fn,match;format=format||'mediumDate';format=$locale.DATETIME_FORMATS[format]||format;if(isString(date)){date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date);}
if(isNumber(date)){date=new Date(date);}
if(!isDate(date)||!isFinite(date.getTime())){return date;}
while(format){match=DATE_FORMATS_SPLIT.exec(format);if(match){parts=concat(parts,match,1);format=parts.pop();}else{parts.push(format);format=null;}}
var dateTimezoneOffset=date.getTimezoneOffset();if(timezone){dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);date=convertTimezoneToLocal(date,timezone,true);}
forEach(parts,function(value){fn=DATE_FORMATS[value];text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value==="''"?"'":value.replace(/(^'|'$)/g,'').replace(/''/g,"'");});return text;};}
function jsonFilter(){return function(object,spacing){if(isUndefined(spacing)){spacing=2;}
return toJson(object,spacing);};}
var lowercaseFilter=valueFn(lowercase);var uppercaseFilter=valueFn(uppercase);function limitToFilter(){return function(input,limit,begin){if(Math.abs(Number(limit))===Infinity){limit=Number(limit);}else{limit=toInt(limit);}
if(isNaN(limit))return input;if(isNumber(input))input=input.toString();if(!isArray(input)&&!isString(input))return input;begin=(!begin||isNaN(begin))?0:toInt(begin);begin=(begin<0)?Math.max(0,input.length+begin):begin;if(limit>=0){return input.slice(begin,begin+limit);}else{if(begin===0){return input.slice(limit,input.length);}else{return input.slice(Math.max(0,begin+limit),begin);}}};}
orderByFilter.$inject=['$parse'];function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){if(array==null)return array;if(!isArrayLike(array)){throw minErr('orderBy')('notarray','Expected array but received: {0}',array);}
if(!isArray(sortPredicate)){sortPredicate=[sortPredicate];}
if(sortPredicate.length===0){sortPredicate=['+'];}
var predicates=processPredicates(sortPredicate,reverseOrder);predicates.push({get:function(){return{};},descending:reverseOrder?-1:1});var compareValues=Array.prototype.map.call(array,getComparisonObject);compareValues.sort(doComparison);array=compareValues.map(function(item){return item.value;});return array;function getComparisonObject(value,index){return{value:value,predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index);})};}
function doComparison(v1,v2){var result=0;for(var index=0,length=predicates.length;index<length;++index){result=compare(v1.predicateValues[index],v2.predicateValues[index])*predicates[index].descending;if(result)break;}
return result;}};function processPredicates(sortPredicate,reverseOrder){reverseOrder=reverseOrder?-1:1;return sortPredicate.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate)){get=predicate;}else if(isString(predicate)){if((predicate.charAt(0)=='+'||predicate.charAt(0)=='-')){descending=predicate.charAt(0)=='-'?-1:1;predicate=predicate.substring(1);}
if(predicate!==''){get=$parse(predicate);if(get.constant){var key=get();get=function(value){return value[key];};}}}
return{get:get,descending:descending*reverseOrder};});}
function isPrimitive(value){switch(typeof value){case'number':case'boolean':case'string':return true;default:return false;}}
function objectValue(value,index){if(typeof value.valueOf==='function'){value=value.valueOf();if(isPrimitive(value))return value;}
if(hasCustomToString(value)){value=value.toString();if(isPrimitive(value))return value;}
return index;}
function getPredicateValue(value,index){var type=typeof value;if(value===null){type='string';value='null';}else if(type==='string'){value=value.toLowerCase();}else if(type==='object'){value=objectValue(value,index);}
return{value:value,type:type};}
function compare(v1,v2){var result=0;if(v1.type===v2.type){if(v1.value!==v2.value){result=v1.value<v2.value?-1:1;}}else{result=v1.type<v2.type?-1:1;}
return result;}}
function ngDirective(directive){if(isFunction(directive)){directive={link:directive};}
directive.restrict=directive.restrict||'AC';return valueFn(directive);}
var htmlAnchorDirective=valueFn({restrict:'E',compile:function(element,attr){if(!attr.href&&!attr.xlinkHref){return function(scope,element){if(element[0].nodeName.toLowerCase()!=='a')return;var href=toString.call(element.prop('href'))==='[object SVGAnimatedString]'?'xlink:href':'href';element.on('click',function(event){if(!element.attr(href)){event.preventDefault();}});};}}});var ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if(propName=="multiple")return;function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function ngBooleanAttrWatchAction(value){attr.$set(attrName,!!value);});}
var normalized=directiveNormalize('ng-'+attrName);var linkFn=defaultLinkFn;if(propName==='checked'){linkFn=function(scope,element,attr){if(attr.ngModel!==attr[normalized]){defaultLinkFn(scope,element,attr);}};}
ngAttributeAliasDirectives[normalized]=function(){return{restrict:'A',priority:100,link:linkFn};};});forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if(ngAttr==="ngPattern"&&attr.ngPattern.charAt(0)=="/"){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match){attr.$set("ngPattern",new RegExp(match[1],match[2]));return;}}
scope.$watch(attr[ngAttr],function ngAttrAliasWatchAction(value){attr.$set(ngAttr,value);});}};};});forEach(['src','srcset','href'],function(attrName){var normalized=directiveNormalize('ng-'+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;if(attrName==='href'&&toString.call(element.prop('href'))==='[object SVGAnimatedString]'){name='xlinkHref';attr.$attr[name]='xlink:href';propName=null;}
attr.$observe(normalized,function(value){if(!value){if(attrName==='href'){attr.$set(name,null);}
return;}
attr.$set(name,value);if(msie&&propName)element.prop(propName,attr[name]);});}};};});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS='ng-submitted';function nullFormRenameControl(control,name){control.$name=name;}
FormController.$inject=['$element','$attrs','$scope','$animate','$interpolate'];function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[];form.$error={};form.$$success={};form.$pending=undefined;form.$name=$interpolate(attrs.name||attrs.ngForm||'')($scope);form.$dirty=false;form.$pristine=true;form.$valid=true;form.$invalid=false;form.$submitted=false;form.$$parentForm=nullFormCtrl;form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue();});};form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue();});};form.$addControl=function(control){assertNotHasOwnProperty(control.$name,'input');controls.push(control);if(control.$name){form[control.$name]=control;}
control.$$parentForm=form;};form.$$renameControl=function(control,newName){var oldName=control.$name;if(form[oldName]===control){delete form[oldName];}
form[newName]=control;control.$name=newName;};form.$removeControl=function(control){if(control.$name&&form[control.$name]===control){delete form[control.$name];}
forEach(form.$pending,function(value,name){form.$setValidity(name,null,control);});forEach(form.$error,function(value,name){form.$setValidity(name,null,control);});forEach(form.$$success,function(value,name){form.$setValidity(name,null,control);});arrayRemove(controls,control);control.$$parentForm=nullFormCtrl;};addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(!list){object[property]=[controller];}else{var index=list.indexOf(controller);if(index===-1){list.push(controller);}}},unset:function(object,property,controller){var list=object[property];if(!list){return;}
arrayRemove(list,controller);if(list.length===0){delete object[property];}},$animate:$animate});form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS);$animate.addClass(element,DIRTY_CLASS);form.$dirty=true;form.$pristine=false;form.$$parentForm.$setDirty();};form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+' '+SUBMITTED_CLASS);form.$dirty=false;form.$pristine=true;form.$submitted=false;forEach(controls,function(control){control.$setPristine();});};form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched();});};form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS);form.$submitted=true;form.$$parentForm.$setSubmitted();};}
var formDirectiveFactory=function(isNgForm){return['$timeout','$parse',function($timeout,$parse){var formDirective={name:'form',restrict:isNgForm?'EAC':'E',require:['form','^^?form'],controller:FormController,compile:function ngFormCompile(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?'name':(isNgForm&&attr.ngForm?'ngForm':false);return{pre:function ngFormPreLink(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!('action'in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue();controller.$setSubmitted();});event.preventDefault();};addEventListenerFn(formElement[0],'submit',handleFormSubmission);formElement.on('$destroy',function(){$timeout(function(){removeEventListenerFn(formElement[0],'submit',handleFormSubmission);},0,false);});}
var parentFormCtrl=ctrls[1]||controller.$$parentForm;parentFormCtrl.$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;if(nameAttr){setter(scope,controller);attr.$observe(nameAttr,function(newValue){if(controller.$name===newValue)return;setter(scope,undefined);controller.$$parentForm.$$renameControl(controller,newValue);setter=getSetter(controller.$name);setter(scope,controller);});}
formElement.on('$destroy',function(){controller.$$parentForm.$removeControl(controller);setter(scope,undefined);extend(controller,nullFormCtrl);});}};}};return formDirective;function getSetter(expression){if(expression===''){return $parse('this[""]').assign;}
return $parse(expression).assign||noop;}}];};var formDirective=formDirectiveFactory();var ngFormDirective=formDirectiveFactory(true);var ISO_DATE_REGEXP=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;var URL_REGEXP=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;var NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var DATE_REGEXP=/^(\d{4,})-(\d{2})-(\d{2})$/;var DATETIMELOCAL_REGEXP=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var WEEK_REGEXP=/^(\d{4,})-W(\d\d)$/;var MONTH_REGEXP=/^(\d{4,})-(\d\d)$/;var TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var PARTIAL_VALIDATION_EVENTS='keydown wheel mousedown';var PARTIAL_VALIDATION_TYPES=createMap();forEach('date,datetime-local,month,time,week'.split(','),function(type){PARTIAL_VALIDATION_TYPES[type]=true;});var inputType={'text':textInputType,'date':createDateInputType('date',DATE_REGEXP,createDateParser(DATE_REGEXP,['yyyy','MM','dd']),'yyyy-MM-dd'),'datetime-local':createDateInputType('datetimelocal',DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,['yyyy','MM','dd','HH','mm','ss','sss']),'yyyy-MM-ddTHH:mm:ss.sss'),'time':createDateInputType('time',TIME_REGEXP,createDateParser(TIME_REGEXP,['HH','mm','ss','sss']),'HH:mm:ss.sss'),'week':createDateInputType('week',WEEK_REGEXP,weekParser,'yyyy-Www'),'month':createDateInputType('month',MONTH_REGEXP,createDateParser(MONTH_REGEXP,['yyyy','MM']),'yyyy-MM'),'number':numberInputType,'url':urlInputType,'email':emailInputType,'radio':radioInputType,'checkbox':checkboxInputType,'hidden':noop,'button':noop,'submit':noop,'reset':noop,'file':noop};function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString();});}
function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);}
function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=false;element.on('compositionstart',function(){composing=true;});element.on('compositionend',function(){composing=false;listener();});}
var timeout;var listener=function(ev){if(timeout){$browser.defer.cancel(timeout);timeout=null;}
if(composing)return;var value=element.val(),event=ev&&ev.type;if(type!=='password'&&(!attr.ngTrim||attr.ngTrim!=='false')){value=trim(value);}
if(ctrl.$viewValue!==value||(value===''&&ctrl.$$hasNativeValidators)){ctrl.$setViewValue(value,event);}};if($sniffer.hasEvent('input')){element.on('input',listener);}else{var deferListener=function(ev,input,origValue){if(!timeout){timeout=$browser.defer(function(){timeout=null;if(!input||input.value!==origValue){listener(ev);}});}};element.on('keydown',function(event){var key=event.keyCode;if(key===91||(15<key&&key<19)||(37<=key&&key<=40))return;deferListener(event,this,this.value);});if($sniffer.hasEvent('paste')){element.on('paste cut',deferListener);}}
element.on('change',listener);if(PARTIAL_VALIDATION_TYPES[type]&&ctrl.$$hasNativeValidators&&type===attr.type){element.on(PARTIAL_VALIDATION_EVENTS,function(ev){if(!timeout){var validity=this[VALIDITY_STATE_PROPERTY];var origBadInput=validity.badInput;var origTypeMismatch=validity.typeMismatch;timeout=$browser.defer(function(){timeout=null;if(validity.badInput!==origBadInput||validity.typeMismatch!==origTypeMismatch){listener(ev);}});}});}
ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?'':ctrl.$viewValue;if(element.val()!==value){element.val(value);}};}
function weekParser(isoWeek,existingDate){if(isDate(isoWeek)){return isoWeek;}
if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=(week-1)*7;if(existingDate){hours=existingDate.getHours();minutes=existingDate.getMinutes();seconds=existingDate.getSeconds();milliseconds=existingDate.getMilliseconds();}
return new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds);}}
return NaN;}
function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso)){return iso;}
if(isString(iso)){if(iso.charAt(0)=='"'&&iso.charAt(iso.length-1)=='"'){iso=iso.substring(1,iso.length-1);}
if(ISO_DATE_REGEXP.test(iso)){return new Date(iso);}
regexp.lastIndex=0;parts=regexp.exec(iso);if(parts){parts.shift();if(date){map={yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1000};}else{map={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0};}
forEach(parts,function(part,index){if(index<mapping.length){map[mapping[index]]=+part;}});return new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,map.sss*1000||0);}}
return NaN;};}
function createDateInputType(type,regexp,parseDate,format){return function dynamicDateInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter){badInputChecker(scope,element,attr,ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;var previousDate;ctrl.$$parserName=type;ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);if(timezone){parsedDate=convertTimezoneToLocal(parsedDate,timezone);}
return parsedDate;}
return undefined;});ctrl.$formatters.push(function(value){if(value&&!isDate(value)){throw ngModelMinErr('datefmt','Expected `{0}` to be a date',value);}
if(isValidDate(value)){previousDate=value;if(previousDate&&timezone){previousDate=convertTimezoneToLocal(previousDate,timezone,true);}
return $filter('date')(value,format,timezone);}else{previousDate=null;return'';}});if(isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal;};attr.$observe('min',function(val){minVal=parseObservedDateValue(val);ctrl.$validate();});}
if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal;};attr.$observe('max',function(val){maxVal=parseObservedDateValue(val);ctrl.$validate();});}
function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime());}
function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDate(val)||undefined:val;}};}
function badInputChecker(scope,element,attr,ctrl){var node=element[0];var nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);if(nativeValidation){ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput||validity.typeMismatch?undefined:value;});}}
function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);ctrl.$$parserName='number';ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(NUMBER_REGEXP.test(value))return parseFloat(value);return undefined;});ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value)){throw ngModelMinErr('numfmt','Expected `{0}` to be a number',value);}
value=value.toString();}
return value;});if(isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal;};attr.$observe('min',function(val){if(isDefined(val)&&!isNumber(val)){val=parseFloat(val,10);}
minVal=isNumber(val)&&!isNaN(val)?val:undefined;ctrl.$validate();});}
if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||value<=maxVal;};attr.$observe('max',function(val){if(isDefined(val)&&!isNumber(val)){val=parseFloat(val,10);}
maxVal=isNumber(val)&&!isNaN(val)?val:undefined;ctrl.$validate();});}}
function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$$parserName='url';ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value);};}
function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$$parserName='email';ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value);};}
function radioInputType(scope,element,attr,ctrl){if(isUndefined(attr.name)){element.attr('name',nextUid());}
var listener=function(ev){if(element[0].checked){ctrl.$setViewValue(attr.value,ev&&ev.type);}};element.on('click',listener);ctrl.$render=function(){var value=attr.value;element[0].checked=(value==ctrl.$viewValue);};attr.$observe('value',ctrl.$render);}
function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){parseFn=$parse(expression);if(!parseFn.constant){throw ngModelMinErr('constexpr','Expected constant expression for `{0}`, but saw '+'`{1}`.',name,expression);}
return parseFn(context);}
return fallback;}
function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,'ngTrueValue',attr.ngTrueValue,true);var falseValue=parseConstantExpr($parse,scope,'ngFalseValue',attr.ngFalseValue,false);var listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type);};element.on('click',listener);ctrl.$render=function(){element[0].checked=ctrl.$viewValue;};ctrl.$isEmpty=function(value){return value===false;};ctrl.$formatters.push(function(value){return equals(value,trueValue);});ctrl.$parsers.push(function(value){return value?trueValue:falseValue;});}
var inputDirective=['$browser','$sniffer','$filter','$parse',function($browser,$sniffer,$filter,$parse){return{restrict:'E',require:['?ngModel'],link:{pre:function(scope,element,attr,ctrls){if(ctrls[0]){(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse);}}}};}];var CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/;var ngValueDirective=function(){return{restrict:'A',priority:100,compile:function(tpl,tplAttr){if(CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)){return function ngValueConstantLink(scope,elm,attr){attr.$set('value',scope.$eval(attr.ngValue));};}else{return function ngValueLink(scope,elm,attr){scope.$watch(attr.ngValue,function valueWatchAction(value){attr.$set('value',value);});};}}};};var ngBindDirective=['$compile',function($compile){return{restrict:'AC',compile:function ngBindCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind);element=element[0];scope.$watch(attr.ngBind,function ngBindWatchAction(value){element.textContent=isUndefined(value)?'':value;});};}};}];var ngBindTemplateDirective=['$interpolate','$compile',function($interpolate,$compile){return{compile:function ngBindTemplateCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindTemplateLink(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions);element=element[0];attr.$observe('ngBindTemplate',function(value){element.textContent=isUndefined(value)?'':value;});};}};}];var ngBindHtmlDirective=['$sce','$parse','$compile',function($sce,$parse,$compile){return{restrict:'A',compile:function ngBindHtmlCompile(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml);var ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function getStringValue(value){return(value||'').toString();});$compile.$$addBindingClass(tElement);return function ngBindHtmlLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml);scope.$watch(ngBindHtmlWatch,function ngBindHtmlWatchAction(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||'');});};}};}];var ngChangeDirective=valueFn({restrict:'A',require:'ngModel',link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange);});}});function classDirective(name,selector){name='ngClass'+name;return['$animate',function($animate){return{restrict:'AC',link:function(scope,element,attr){var oldVal;scope.$watch(attr[name],ngClassWatchAction,true);attr.$observe('class',function(value){ngClassWatchAction(scope.$eval(attr[name]));});if(name!=='ngClass'){scope.$watch('$index',function($index,old$index){var mod=$index&1;if(mod!==(old$index&1)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes);}});}
function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses);}
function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses);}
function digestClassCounts(classes,count){var classCounts=element.data('$classCounts')||createMap();var classesToUpdate=[];forEach(classes,function(className){if(count>0||classCounts[className]){classCounts[className]=(classCounts[className]||0)+count;if(classCounts[className]===+(count>0)){classesToUpdate.push(className);}}});element.data('$classCounts',classCounts);return classesToUpdate.join(' ');}
function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses);var toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1);toRemove=digestClassCounts(toRemove,-1);if(toAdd&&toAdd.length){$animate.addClass(element,toAdd);}
if(toRemove&&toRemove.length){$animate.removeClass(element,toRemove);}}
function ngClassWatchAction(newVal){if(selector===true||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(!oldVal){addClasses(newClasses);}else if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses);}}
oldVal=shallowCopy(newVal);}}};function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token==tokens2[j])continue outer;}
values.push(token);}
return values;}
function arrayClasses(classVal){var classes=[];if(isArray(classVal)){forEach(classVal,function(v){classes=classes.concat(arrayClasses(v));});return classes;}else if(isString(classVal)){return classVal.split(' ');}else if(isObject(classVal)){forEach(classVal,function(v,k){if(v){classes=classes.concat(k.split(' '));}});return classes;}
return classVal;}}];}
var ngClassDirective=classDirective('',true);var ngClassOddDirective=classDirective('Odd',0);var ngClassEvenDirective=classDirective('Even',1);var ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set('ngCloak',undefined);element.removeClass('ng-cloak');}});var ngControllerDirective=[function(){return{restrict:'A',scope:true,controller:'@',priority:500};}];var ngEventDirectives={};var forceAsyncEvents={'blur':true,'focus':true};forEach('click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste'.split(' '),function(eventName){var directiveName=directiveNormalize('ng-'+eventName);ngEventDirectives[directiveName]=['$parse','$rootScope',function($parse,$rootScope){return{restrict:'A',compile:function($element,attr){var fn=$parse(attr[directiveName],null,true);return function ngEventHandler(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event});};if(forceAsyncEvents[eventName]&&$rootScope.$$phase){scope.$evalAsync(callback);}else{scope.$apply(callback);}});};}};}];});var ngIfDirective=['$animate','$compile',function($animate,$compile){return{multiElement:true,transclude:'element',priority:600,terminal:true,restrict:'A',$$tlb:true,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function ngIfWatchAction(value){if(value){if(!childScope){$transclude(function(clone,newScope){childScope=newScope;clone[clone.length++]=$compile.$$createComment('end ngIf',$attr.ngIf);block={clone:clone};$animate.enter(clone,$element.parent(),$element);});}}else{if(previousElements){previousElements.remove();previousElements=null;}
if(childScope){childScope.$destroy();childScope=null;}
if(block){previousElements=getBlockNodes(block.clone);$animate.leave(previousElements).then(function(){previousElements=null;});block=null;}}});}};}];var ngIncludeDirective=['$templateRequest','$anchorScroll','$animate',function($templateRequest,$anchorScroll,$animate){return{restrict:'ECA',priority:400,terminal:true,transclude:'element',controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||'',autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null;}
if(currentScope){currentScope.$destroy();currentScope=null;}
if(currentElement){$animate.leave(currentElement).then(function(){previousElement=null;});previousElement=currentElement;currentElement=null;}};scope.$watch(srcExp,function ngIncludeWatchAction(src){var afterAnimation=function(){if(isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll();}};var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(scope.$$destroyed)return;if(thisChangeId!==changeCounter)return;var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,null,$element).then(afterAnimation);});currentScope=newScope;currentElement=clone;currentScope.$emit('$includeContentLoaded',src);scope.$eval(onloadExp);},function(){if(scope.$$destroyed)return;if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit('$includeContentError',src);}});scope.$emit('$includeContentRequested',src);}else{cleanupLastIncludeContent();ctrl.template=null;}});};}};}];var ngIncludeFillContentDirective=['$compile',function($compile){return{restrict:'ECA',priority:-400,require:'ngInclude',link:function(scope,$element,$attr,ctrl){if(toString.call($element[0]).match(/SVG/)){$element.empty();$compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function namespaceAdaptedClone(clone){$element.append(clone);},{futureParentElement:$element});return;}
$element.html(ctrl.template);$compile($element.contents())(scope);}};}];var ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit);}};}});var ngListDirective=function(){return{restrict:'A',priority:100,require:'ngModel',link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||', ';var trimValues=attr.ngTrim!=='false';var separator=trimValues?trim(ngList):ngList;var parse=function(viewValue){if(isUndefined(viewValue))return;var list=[];if(viewValue){forEach(viewValue.split(separator),function(value){if(value)list.push(trimValues?trim(value):value);});}
return list;};ctrl.$parsers.push(parse);ctrl.$formatters.push(function(value){if(isArray(value)){return value.join(ngList);}
return undefined;});ctrl.$isEmpty=function(value){return!value||!value.length;};}};};var VALID_CLASS='ng-valid',INVALID_CLASS='ng-invalid',PRISTINE_CLASS='ng-pristine',DIRTY_CLASS='ng-dirty',UNTOUCHED_CLASS='ng-untouched',TOUCHED_CLASS='ng-touched',PENDING_CLASS='ng-pending',EMPTY_CLASS='ng-empty',NOT_EMPTY_CLASS='ng-not-empty';var ngModelMinErr=minErr('ngModel');var NgModelController=['$scope','$exceptionHandler','$attrs','$element','$parse','$animate','$timeout','$rootScope','$q','$interpolate',function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attr.name||'',false)($scope);this.$$parentForm=nullFormCtrl;var parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,parserValid,ctrl=this;this.$$setOptions=function(options){ctrl.$options=options;if(options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+'()'),invokeModelSetter=$parse($attr.ngModel+'($$$p)');ngModelGet=function($scope){var modelValue=parsedNgModel($scope);if(isFunction(modelValue)){modelValue=invokeModelGetter($scope);}
return modelValue;};ngModelSet=function($scope,newValue){if(isFunction(parsedNgModel($scope))){invokeModelSetter($scope,{$$$p:newValue});}else{parsedNgModelAssign($scope,newValue);}};}else if(!parsedNgModel.assign){throw ngModelMinErr('nonassign',"Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element));}};this.$render=noop;this.$isEmpty=function(value){return isUndefined(value)||value===''||value===null||value!==value;};this.$$updateEmptyClasses=function(value){if(ctrl.$isEmpty(value)){$animate.removeClass($element,NOT_EMPTY_CLASS);$animate.addClass($element,EMPTY_CLASS);}else{$animate.removeClass($element,EMPTY_CLASS);$animate.addClass($element,NOT_EMPTY_CLASS);}};var currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=true;},unset:function(object,property){delete object[property];},$animate:$animate});this.$setPristine=function(){ctrl.$dirty=false;ctrl.$pristine=true;$animate.removeClass($element,DIRTY_CLASS);$animate.addClass($element,PRISTINE_CLASS);};this.$setDirty=function(){ctrl.$dirty=true;ctrl.$pristine=false;$animate.removeClass($element,PRISTINE_CLASS);$animate.addClass($element,DIRTY_CLASS);ctrl.$$parentForm.$setDirty();};this.$setUntouched=function(){ctrl.$touched=false;ctrl.$untouched=true;$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS);};this.$setTouched=function(){ctrl.$touched=true;ctrl.$untouched=false;$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS);};this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce);ctrl.$viewValue=ctrl.$$lastCommittedViewValue;ctrl.$render();};this.$validate=function(){if(isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)){return;}
var viewValue=ctrl.$$lastCommittedViewValue;var modelValue=ctrl.$$rawModelValue;var prevValid=ctrl.$valid;var prevModelValue=ctrl.$modelValue;var allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(modelValue,viewValue,function(allValid){if(!allowInvalid&&prevValid!==allValid){ctrl.$modelValue=allValid?modelValue:undefined;if(ctrl.$modelValue!==prevModelValue){ctrl.$$writeModelToScope();}}});};this.$$runValidators=function(modelValue,viewValue,doneCallback){currentValidationRunId++;var localValidationRunId=currentValidationRunId;if(!processParseErrors()){validationDone(false);return;}
if(!processSyncValidators()){validationDone(false);return;}
processAsyncValidators();function processParseErrors(){var errorKey=ctrl.$$parserName||'parse';if(isUndefined(parserValid)){setValidity(errorKey,null);}else{if(!parserValid){forEach(ctrl.$validators,function(v,name){setValidity(name,null);});forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null);});}
setValidity(errorKey,parserValid);return parserValid;}
return true;}
function processSyncValidators(){var syncValidatorsValid=true;forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result;setValidity(name,result);});if(!syncValidatorsValid){forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null);});return false;}
return true;}
function processAsyncValidators(){var validatorPromises=[];var allValid=true;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise)){throw ngModelMinErr('nopromise',"Expected asynchronous validator to return a promise but got '{0}' instead.",promise);}
setValidity(name,undefined);validatorPromises.push(promise.then(function(){setValidity(name,true);},function(){allValid=false;setValidity(name,false);}));});if(!validatorPromises.length){validationDone(true);}else{$q.all(validatorPromises).then(function(){validationDone(allValid);},noop);}}
function setValidity(name,isValid){if(localValidationRunId===currentValidationRunId){ctrl.$setValidity(name,isValid);}}
function validationDone(allValid){if(localValidationRunId===currentValidationRunId){doneCallback(allValid);}}};this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce);if(ctrl.$$lastCommittedViewValue===viewValue&&(viewValue!==''||!ctrl.$$hasNativeValidators)){return;}
ctrl.$$updateEmptyClasses(viewValue);ctrl.$$lastCommittedViewValue=viewValue;if(ctrl.$pristine){this.$setDirty();}
this.$$parseAndValidate();};this.$$parseAndValidate=function(){var viewValue=ctrl.$$lastCommittedViewValue;var modelValue=viewValue;parserValid=isUndefined(modelValue)?undefined:true;if(parserValid){for(var i=0;i<ctrl.$parsers.length;i++){modelValue=ctrl.$parsers[i](modelValue);if(isUndefined(modelValue)){parserValid=false;break;}}}
if(isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)){ctrl.$modelValue=ngModelGet($scope);}
var prevModelValue=ctrl.$modelValue;var allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue;if(allowInvalid){ctrl.$modelValue=modelValue;writeToModelIfNeeded();}
ctrl.$$runValidators(modelValue,ctrl.$$lastCommittedViewValue,function(allValid){if(!allowInvalid){ctrl.$modelValue=allValid?modelValue:undefined;writeToModelIfNeeded();}});function writeToModelIfNeeded(){if(ctrl.$modelValue!==prevModelValue){ctrl.$$writeModelToScope();}}};this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue);forEach(ctrl.$viewChangeListeners,function(listener){try{listener();}catch(e){$exceptionHandler(e);}});};this.$setViewValue=function(value,trigger){ctrl.$viewValue=value;if(!ctrl.$options||ctrl.$options.updateOnDefault){ctrl.$$debounceViewValueCommit(trigger);}};this.$$debounceViewValueCommit=function(trigger){var debounceDelay=0,options=ctrl.$options,debounce;if(options&&isDefined(options.debounce)){debounce=options.debounce;if(isNumber(debounce)){debounceDelay=debounce;}else if(isNumber(debounce[trigger])){debounceDelay=debounce[trigger];}else if(isNumber(debounce['default'])){debounceDelay=debounce['default'];}}
$timeout.cancel(pendingDebounce);if(debounceDelay){pendingDebounce=$timeout(function(){ctrl.$commitViewValue();},debounceDelay);}else if($rootScope.$$phase){ctrl.$commitViewValue();}else{$scope.$apply(function(){ctrl.$commitViewValue();});}};$scope.$watch(function ngModelWatch(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue)){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue;parserValid=undefined;var formatters=ctrl.$formatters,idx=formatters.length;var viewValue=modelValue;while(idx--){viewValue=formatters[idx](viewValue);}
if(ctrl.$viewValue!==viewValue){ctrl.$$updateEmptyClasses(viewValue);ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue;ctrl.$render();ctrl.$$runValidators(modelValue,viewValue,noop);}}
return modelValue;});}];var ngModelDirective=['$rootScope',function($rootScope){return{restrict:'A',require:['ngModel','^?form','^?ngModelOptions'],controller:NgModelController,priority:1,compile:function ngModelCompile(element){element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS);return{pre:function ngModelPreLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options);formCtrl.$addControl(modelCtrl);attr.$observe('name',function(newValue){if(modelCtrl.$name!==newValue){modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue);}});scope.$on('$destroy',function(){modelCtrl.$$parentForm.$removeControl(modelCtrl);});},post:function ngModelPostLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0];if(modelCtrl.$options&&modelCtrl.$options.updateOn){element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type);});}
element.on('blur',function(){if(modelCtrl.$touched)return;if($rootScope.$$phase){scope.$evalAsync(modelCtrl.$setTouched);}else{scope.$apply(modelCtrl.$setTouched);}});}};}};}];var DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;var ngModelOptionsDirective=function(){return{restrict:'A',controller:['$scope','$attrs',function($scope,$attrs){var that=this;this.$options=copy($scope.$eval($attrs.ngModelOptions));if(isDefined(this.$options.updateOn)){this.$options.updateOnDefault=false;this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){that.$options.updateOnDefault=true;return' ';}));}else{this.$options.updateOnDefault=true;}}]};};function addSetValidityMethod(context){var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS));ctrl.$setValidity=setValidity;function setValidity(validationErrorKey,state,controller){if(isUndefined(state)){createAndSet('$pending',validationErrorKey,controller);}else{unsetAndCleanup('$pending',validationErrorKey,controller);}
if(!isBoolean(state)){unset(ctrl.$error,validationErrorKey,controller);unset(ctrl.$$success,validationErrorKey,controller);}else{if(state){unset(ctrl.$error,validationErrorKey,controller);set(ctrl.$$success,validationErrorKey,controller);}else{set(ctrl.$error,validationErrorKey,controller);unset(ctrl.$$success,validationErrorKey,controller);}}
if(ctrl.$pending){cachedToggleClass(PENDING_CLASS,true);ctrl.$valid=ctrl.$invalid=undefined;toggleValidationCss('',null);}else{cachedToggleClass(PENDING_CLASS,false);ctrl.$valid=isObjectEmpty(ctrl.$error);ctrl.$invalid=!ctrl.$valid;toggleValidationCss('',ctrl.$valid);}
var combinedState;if(ctrl.$pending&&ctrl.$pending[validationErrorKey]){combinedState=undefined;}else if(ctrl.$error[validationErrorKey]){combinedState=false;}else if(ctrl.$$success[validationErrorKey]){combinedState=true;}else{combinedState=null;}
toggleValidationCss(validationErrorKey,combinedState);ctrl.$$parentForm.$setValidity(validationErrorKey,combinedState,ctrl);}
function createAndSet(name,value,controller){if(!ctrl[name]){ctrl[name]={};}
set(ctrl[name],value,controller);}
function unsetAndCleanup(name,value,controller){if(ctrl[name]){unset(ctrl[name],value,controller);}
if(isObjectEmpty(ctrl[name])){ctrl[name]=undefined;}}
function cachedToggleClass(className,switchValue){if(switchValue&&!classCache[className]){$animate.addClass($element,className);classCache[className]=true;}else if(!switchValue&&classCache[className]){$animate.removeClass($element,className);classCache[className]=false;}}
function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?'-'+snake_case(validationErrorKey,'-'):'';cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===true);cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===false);}}
function isObjectEmpty(obj){if(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false;}}}
return true;}
var ngNonBindableDirective=ngDirective({terminal:true,priority:1000});var ngOptionsMinErr=minErr('ngOptions');var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var ngOptionsDirective=['$compile','$parse',function($compile,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!(match)){throw ngOptionsMinErr('iexp',"Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));}
var valueName=match[5]||match[7];var keyName=match[6];var selectAs=/ as /.test(match[0])&&match[1];var trackBy=match[9];var valueFn=$parse(match[2]?match[1]:valueName);var selectAsFn=selectAs&&$parse(selectAs);var viewValueFn=selectAsFn||valueFn;var trackByFn=trackBy&&$parse(trackBy);var getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals);}:function getHashOfValue(value){return hashKey(value);};var getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key));};var displayFn=$parse(match[2]||match[1]);var groupByFn=$parse(match[3]||'');var disableWhenFn=$parse(match[4]||'');var valuesFn=$parse(match[8]);var locals={};var getLocals=keyName?function(value,key){locals[keyName]=key;locals[valueName]=value;return locals;}:function(value){locals[valueName]=value;return locals;};function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue;this.viewValue=viewValue;this.label=label;this.group=group;this.disabled=disabled;}
function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues)){optionValuesKeys=optionValues;}else{optionValuesKeys=[];for(var itemKey in optionValues){if(optionValues.hasOwnProperty(itemKey)&&itemKey.charAt(0)!=='$'){optionValuesKeys.push(itemKey);}}}
return optionValuesKeys;}
return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=(optionValues===optionValuesKeys)?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var selectValue=getTrackByValueFn(value,locals);watchedArray.push(selectValue);if(match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label);}
if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen);}}
return watchedArray;}),getOptions:function(){var optionItems=[];var selectValueMap={};var optionValues=valuesFn(scope)||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=(optionValues===optionValuesKeys)?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var viewValue=viewValueFn(scope,locals);var selectValue=getTrackByValueFn(viewValue,locals);var label=displayFn(scope,locals);var group=groupByFn(scope,locals);var disabled=disableWhenFn(scope,locals);var optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem);selectValueMap[selectValue]=optionItem;}
return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)];},getViewValueFromOption:function(option){return trackBy?angular.copy(option.viewValue):option.viewValue;}};}};}
var optionTemplate=document.createElement('option'),optGroupTemplate=document.createElement('optgroup');function ngOptionsPostLink(scope,selectElement,attr,ctrls){var selectCtrl=ctrls[0];var ngModelCtrl=ctrls[1];var multiple=attr.multiple;var emptyOption;for(var i=0,children=selectElement.children(),ii=children.length;i<ii;i++){if(children[i].value===''){emptyOption=children.eq(i);break;}}
var providedEmptyOption=!!emptyOption;var unknownOption=jqLite(optionTemplate.cloneNode(false));unknownOption.val('?');var options;var ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope);var renderEmptyOption=function(){if(!providedEmptyOption){selectElement.prepend(emptyOption);}
selectElement.val('');emptyOption.prop('selected',true);emptyOption.attr('selected',true);};var removeEmptyOption=function(){if(!providedEmptyOption){emptyOption.remove();}};var renderUnknownOption=function(){selectElement.prepend(unknownOption);selectElement.val('?');unknownOption.prop('selected',true);unknownOption.attr('selected',true);};var removeUnknownOption=function(){unknownOption.remove();};if(!multiple){selectCtrl.writeValue=function writeNgOptionsValue(value){var option=options.getOptionFromViewValue(value);if(option&&!option.disabled){if(selectElement[0].value!==option.selectValue){removeUnknownOption();removeEmptyOption();selectElement[0].value=option.selectValue;option.element.selected=true;}
option.element.setAttribute('selected','selected');}else{if(value===null||providedEmptyOption){removeUnknownOption();renderEmptyOption();}else{removeEmptyOption();renderUnknownOption();}}};selectCtrl.readValue=function readNgOptionsValue(){var selectedOption=options.selectValueMap[selectElement.val()];if(selectedOption&&!selectedOption.disabled){removeEmptyOption();removeUnknownOption();return options.getViewValueFromOption(selectedOption);}
return null;};if(ngOptions.trackBy){scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue);},function(){ngModelCtrl.$render();});}}else{ngModelCtrl.$isEmpty=function(value){return!value||value.length===0;};selectCtrl.writeValue=function writeNgOptionsMultiple(value){options.items.forEach(function(option){option.element.selected=false;});if(value){value.forEach(function(item){var option=options.getOptionFromViewValue(item);if(option&&!option.disabled)option.element.selected=true;});}};selectCtrl.readValue=function readNgOptionsMultiple(){var selectedValues=selectElement.val()||[],selections=[];forEach(selectedValues,function(value){var option=options.selectValueMap[value];if(option&&!option.disabled)selections.push(options.getViewValueFromOption(option));});return selections;};if(ngOptions.trackBy){scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue)){return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value);});}},function(){ngModelCtrl.$render();});}}
if(providedEmptyOption){emptyOption.remove();$compile(emptyOption)(scope);emptyOption.removeClass('ng-scope');}else{emptyOption=jqLite(optionTemplate.cloneNode(false));}
updateOptions();scope.$watchCollection(ngOptions.getWatchables,updateOptions);function updateOptionElement(option,element){option.element=element;element.disabled=option.disabled;if(option.label!==element.label){element.label=option.label;element.textContent=option.label;}
if(option.value!==element.value)element.value=option.selectValue;}
function addOrReuseElement(parent,current,type,templateElement){var element;if(current&&lowercase(current.nodeName)===type){element=current;}else{element=templateElement.cloneNode(false);if(!current){parent.appendChild(element);}else{parent.insertBefore(element,current);}}
return element;}
function removeExcessElements(current){var next;while(current){next=current.nextSibling;jqLiteRemove(current);current=next;}}
function skipEmptyAndUnknownOptions(current){var emptyOption_=emptyOption&&emptyOption[0];var unknownOption_=unknownOption&&unknownOption[0];if(emptyOption_||unknownOption_){while(current&&(current===emptyOption_||current===unknownOption_||current.nodeType===NODE_TYPE_COMMENT||(nodeName_(current)==='option'&&current.value===''))){current=current.nextSibling;}}
return current;}
function updateOptions(){var previousValue=options&&selectCtrl.readValue();options=ngOptions.getOptions();var groupMap={};var currentElement=selectElement[0].firstChild;if(providedEmptyOption){selectElement.prepend(emptyOption);}
currentElement=skipEmptyAndUnknownOptions(currentElement);options.items.forEach(function updateOption(option){var group;var groupElement;var optionElement;if(isDefined(option.group)){group=groupMap[option.group];if(!group){groupElement=addOrReuseElement(selectElement[0],currentElement,'optgroup',optGroupTemplate);currentElement=groupElement.nextSibling;groupElement.label=option.group;group=groupMap[option.group]={groupElement:groupElement,currentOptionElement:groupElement.firstChild};}
optionElement=addOrReuseElement(group.groupElement,group.currentOptionElement,'option',optionTemplate);updateOptionElement(option,optionElement);group.currentOptionElement=optionElement.nextSibling;}else{optionElement=addOrReuseElement(selectElement[0],currentElement,'option',optionTemplate);updateOptionElement(option,optionElement);currentElement=optionElement.nextSibling;}});Object.keys(groupMap).forEach(function(key){removeExcessElements(groupMap[key].currentOptionElement);});removeExcessElements(currentElement);ngModelCtrl.$render();if(!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();var isNotPrimitive=ngOptions.trackBy||multiple;if(isNotPrimitive?!equals(previousValue,nextValue):previousValue!==nextValue){ngModelCtrl.$setViewValue(nextValue);ngModelCtrl.$render();}}}}
return{restrict:'A',terminal:true,require:['select','ngModel'],link:{pre:function ngOptionsPreLink(scope,selectElement,attr,ctrls){ctrls[0].registerOption=noop;},post:ngOptionsPostLink}};}];var ngPluralizeDirective=['$locale','$interpolate','$log',function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+'-'+offset+endSymbol,watchRemover=angular.noop,lastCount;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?'-':'')+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName]);}});forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement));});scope.$watch(numberExp,function ngPluralizeWatchAction(newVal){var count=parseFloat(newVal);var countIsNaN=isNaN(count);if(!countIsNaN&&!(count in whens)){count=$locale.pluralCat(count-offset);}
if((count!==lastCount)&&!(countIsNaN&&isNumber(lastCount)&&isNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];if(isUndefined(whenExpFn)){if(newVal!=null){$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp);}
watchRemover=noop;updateElementText();}else{watchRemover=scope.$watch(whenExpFn,updateElementText);}
lastCount=count;}});function updateElementText(newText){element.text(newText||'');}}};}];var ngRepeatDirective=['$parse','$animate','$compile',function($parse,$animate,$compile){var NG_REMOVED='$$NG_REMOVED';var ngRepeatMinErr=minErr('ngRepeat');var updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value;if(keyIdentifier)scope[keyIdentifier]=key;scope.$index=index;scope.$first=(index===0);scope.$last=(index===(arrayLength-1));scope.$middle=!(scope.$first||scope.$last);scope.$odd=!(scope.$even=(index&1)===0);};var getBlockStart=function(block){return block.clone[0];};var getBlockEnd=function(block){return block.clone[block.clone.length-1];};return{restrict:'A',multiElement:true,transclude:'element',priority:1000,terminal:true,$$tlb:true,compile:function ngRepeatCompile($element,$attr){var expression=$attr.ngRepeat;var ngRepeatEndComment=$compile.$$createComment('end ngRepeat',expression);var match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw ngRepeatMinErr('iexp',"Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);}
var lhs=match[1];var rhs=match[2];var aliasAs=match[3];var trackByExp=match[4];match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!match){throw ngRepeatMinErr('iidexp',"'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);}
var valueIdentifier=match[3]||match[1];var keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs))){throw ngRepeatMinErr('badident',"alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);}
var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn;var hashFnLocals={$id:hashKey};if(trackByExp){trackByExpGetter=$parse(trackByExp);}else{trackByIdArrayFn=function(key,value){return hashKey(value);};trackByIdObjFn=function(key){return key;};}
return function ngRepeatLink($scope,$element,$attr,ctrl,$transclude){if(trackByExpGetter){trackByIdExpFn=function(key,value,index){if(keyIdentifier)hashFnLocals[keyIdentifier]=key;hashFnLocals[valueIdentifier]=value;hashFnLocals.$index=index;return trackByExpGetter($scope,hashFnLocals);};}
var lastBlockMap=createMap();$scope.$watchCollection(rhs,function ngRepeatAction(collection){var index,length,previousNode=$element[0],nextNode,nextBlockMap=createMap(),collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove;if(aliasAs){$scope[aliasAs]=collection;}
if(isArrayLike(collection)){collectionKeys=collection;trackByIdFn=trackByIdExpFn||trackByIdArrayFn;}else{trackByIdFn=trackByIdExpFn||trackByIdObjFn;collectionKeys=[];for(var itemKey in collection){if(hasOwnProperty.call(collection,itemKey)&&itemKey.charAt(0)!=='$'){collectionKeys.push(itemKey);}}}
collectionLength=collectionKeys.length;nextBlockOrder=new Array(collectionLength);for(index=0;index<collectionLength;index++){key=(collection===collectionKeys)?index:collectionKeys[index];value=collection[key];trackById=trackByIdFn(key,value,index);if(lastBlockMap[trackById]){block=lastBlockMap[trackById];delete lastBlockMap[trackById];nextBlockMap[trackById]=block;nextBlockOrder[index]=block;}else if(nextBlockMap[trackById]){forEach(nextBlockOrder,function(block){if(block&&block.scope)lastBlockMap[block.id]=block;});throw ngRepeatMinErr('dupes',"Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);}else{nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined};nextBlockMap[trackById]=true;}}
for(var blockKey in lastBlockMap){block=lastBlockMap[blockKey];elementsToRemove=getBlockNodes(block.clone);$animate.leave(elementsToRemove);if(elementsToRemove[0].parentNode){for(index=0,length=elementsToRemove.length;index<length;index++){elementsToRemove[index][NG_REMOVED]=true;}}
block.scope.$destroy();}
for(index=0;index<collectionLength;index++){key=(collection===collectionKeys)?index:collectionKeys[index];value=collection[key];block=nextBlockOrder[index];if(block.scope){nextNode=previousNode;do{nextNode=nextNode.nextSibling;}while(nextNode&&nextNode[NG_REMOVED]);if(getBlockStart(block)!=nextNode){$animate.move(getBlockNodes(block.clone),null,previousNode);}
previousNode=getBlockEnd(block);updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength);}else{$transclude(function ngRepeatTransclude(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(false);clone[clone.length++]=endNode;$animate.enter(clone,null,previousNode);previousNode=endNode;block.clone=clone;nextBlockMap[block.id]=block;updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength);});}}
lastBlockMap=nextBlockMap;});};}};}];var NG_HIDE_CLASS='ng-hide';var NG_HIDE_IN_PROGRESS_CLASS='ng-hide-animate';var ngShowDirective=['$animate',function($animate){return{restrict:'A',multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngShow,function ngShowWatchAction(value){$animate[value?'removeClass':'addClass'](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS});});}};}];var ngHideDirective=['$animate',function($animate){return{restrict:'A',multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngHide,function ngHideWatchAction(value){$animate[value?'addClass':'removeClass'](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS});});}};}];var ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function ngStyleWatchAction(newStyles,oldStyles){if(oldStyles&&(newStyles!==oldStyles)){forEach(oldStyles,function(val,style){element.css(style,'');});}
if(newStyles)element.css(newStyles);},true);});var ngSwitchDirective=['$animate','$compile',function($animate,$compile){return{require:'ngSwitch',controller:['$scope',function ngSwitchController(){this.cases={};}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[];var spliceFactory=function(array,index){return function(){array.splice(index,1);};};scope.$watch(watchExpr,function ngSwitchWatchAction(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;i<ii;++i){$animate.cancel(previousLeaveAnimations[i]);}
previousLeaveAnimations.length=0;for(i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i));}
selectedElements.length=0;selectedScopes.length=0;if((selectedTranscludes=ngSwitchController.cases['!'+value]||ngSwitchController.cases['?'])){forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=$compile.$$createComment('end ngSwitchWhen');var block={clone:caseElement};selectedElements.push(block);$animate.enter(caseElement,anchor.parent(),anchor);});});}});}};}];var ngSwitchWhenDirective=ngDirective({transclude:'element',priority:1200,require:'^ngSwitch',multiElement:true,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases['!'+attrs.ngSwitchWhen]=(ctrl.cases['!'+attrs.ngSwitchWhen]||[]);ctrl.cases['!'+attrs.ngSwitchWhen].push({transclude:$transclude,element:element});}});var ngSwitchDefaultDirective=ngDirective({transclude:'element',priority:1200,require:'^ngSwitch',multiElement:true,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases['?']=(ctrl.cases['?']||[]);ctrl.cases['?'].push({transclude:$transclude,element:element});}});var ngTranscludeMinErr=minErr('ngTransclude');var ngTranscludeDirective=ngDirective({restrict:'EAC',link:function($scope,$element,$attrs,controller,$transclude){if($attrs.ngTransclude===$attrs.$attr.ngTransclude){$attrs.ngTransclude='';}
function ngTranscludeCloneAttachFn(clone){if(clone.length){$element.empty();$element.append(clone);}}
if(!$transclude){throw ngTranscludeMinErr('orphan','Illegal use of ngTransclude directive in the template! '+'No parent directive that requires a transclusion found. '+'Element: {0}',startingTag($element));}
var slotName=$attrs.ngTransclude||$attrs.ngTranscludeSlot;$transclude(ngTranscludeCloneAttachFn,null,slotName);}});var scriptDirective=['$templateCache',function($templateCache){return{restrict:'E',terminal:true,compile:function(element,attr){if(attr.type=='text/ng-template'){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text);}}};}];var noopNgModelController={$setViewValue:noop,$render:noop};function chromeHack(optionElement){if(optionElement[0].hasAttribute('selected')){optionElement[0].selected=true;}}
var SelectController=['$element','$scope',function($element,$scope){var self=this,optionsMap=new HashMap();self.ngModelCtrl=noopNgModelController;self.unknownOption=jqLite(document.createElement('option'));self.renderUnknownOption=function(val){var unknownVal='? '+hashKey(val)+' ?';self.unknownOption.val(unknownVal);$element.prepend(self.unknownOption);$element.val(unknownVal);};$scope.$on('$destroy',function(){self.renderUnknownOption=noop;});self.removeUnknownOption=function(){if(self.unknownOption.parent())self.unknownOption.remove();};self.readValue=function readSingleValue(){self.removeUnknownOption();return $element.val();};self.writeValue=function writeSingleValue(value){if(self.hasOption(value)){self.removeUnknownOption();$element.val(value);if(value==='')self.emptyOption.prop('selected',true);}else{if(value==null&&self.emptyOption){self.removeUnknownOption();$element.val('');}else{self.renderUnknownOption(value);}}};self.addOption=function(value,element){if(element[0].nodeType===NODE_TYPE_COMMENT)return;assertNotHasOwnProperty(value,'"option value"');if(value===''){self.emptyOption=element;}
var count=optionsMap.get(value)||0;optionsMap.put(value,count+1);self.ngModelCtrl.$render();chromeHack(element);};self.removeOption=function(value){var count=optionsMap.get(value);if(count){if(count===1){optionsMap.remove(value);if(value===''){self.emptyOption=undefined;}}else{optionsMap.put(value,count-1);}}};self.hasOption=function(value){return!!optionsMap.get(value);};self.registerOption=function(optionScope,optionElement,optionAttrs,interpolateValueFn,interpolateTextFn){if(interpolateValueFn){var oldVal;optionAttrs.$observe('value',function valueAttributeObserveAction(newVal){if(isDefined(oldVal)){self.removeOption(oldVal);}
oldVal=newVal;self.addOption(newVal,optionElement);});}else if(interpolateTextFn){optionScope.$watch(interpolateTextFn,function interpolateWatchAction(newVal,oldVal){optionAttrs.$set('value',newVal);if(oldVal!==newVal){self.removeOption(oldVal);}
self.addOption(newVal,optionElement);});}else{self.addOption(optionAttrs.value,optionElement);}
optionElement.on('$destroy',function(){self.removeOption(optionAttrs.value);self.ngModelCtrl.$render();});};}];var selectDirective=function(){return{restrict:'E',require:['select','?ngModel'],controller:SelectController,priority:1,link:{pre:selectPreLink,post:selectPostLink}};function selectPreLink(scope,element,attr,ctrls){var ngModelCtrl=ctrls[1];if(!ngModelCtrl)return;var selectCtrl=ctrls[0];selectCtrl.ngModelCtrl=ngModelCtrl;element.on('change',function(){scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue());});});if(attr.multiple){selectCtrl.readValue=function readMultipleValue(){var array=[];forEach(element.find('option'),function(option){if(option.selected){array.push(option.value);}});return array;};selectCtrl.writeValue=function writeMultipleValue(value){var items=new HashMap(value);forEach(element.find('option'),function(option){option.selected=isDefined(items.get(option.value));});};var lastView,lastViewRef=NaN;scope.$watch(function selectMultipleWatch(){if(lastViewRef===ngModelCtrl.$viewValue&&!equals(lastView,ngModelCtrl.$viewValue)){lastView=shallowCopy(ngModelCtrl.$viewValue);ngModelCtrl.$render();}
lastViewRef=ngModelCtrl.$viewValue;});ngModelCtrl.$isEmpty=function(value){return!value||value.length===0;};}}
function selectPostLink(scope,element,attrs,ctrls){var ngModelCtrl=ctrls[1];if(!ngModelCtrl)return;var selectCtrl=ctrls[0];ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue);};}};var optionDirective=['$interpolate',function($interpolate){return{restrict:'E',priority:100,compile:function(element,attr){if(isDefined(attr.value)){var interpolateValueFn=$interpolate(attr.value,true);}else{var interpolateTextFn=$interpolate(element.text(),true);if(!interpolateTextFn){attr.$set('value',element.text());}}
return function(scope,element,attr){var selectCtrlName='$selectController',parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);if(selectCtrl){selectCtrl.registerOption(scope,element,attr,interpolateValueFn,interpolateTextFn);}};}};}];var styleDirective=valueFn({restrict:'E',terminal:false});var requiredDirective=function(){return{restrict:'A',require:'?ngModel',link:function(scope,elm,attr,ctrl){if(!ctrl)return;attr.required=true;ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue);};attr.$observe('required',function(){ctrl.$validate();});}};};var patternDirective=function(){return{restrict:'A',require:'?ngModel',link:function(scope,elm,attr,ctrl){if(!ctrl)return;var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe('pattern',function(regex){if(isString(regex)&&regex.length>0){regex=new RegExp('^'+regex+'$');}
if(regex&&!regex.test){throw minErr('ngPattern')('noregexp','Expected {0} to be a RegExp but was {1}. Element: {2}',patternExp,regex,startingTag(elm));}
regexp=regex||undefined;ctrl.$validate();});ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue);};}};};var maxlengthDirective=function(){return{restrict:'A',require:'?ngModel',link:function(scope,elm,attr,ctrl){if(!ctrl)return;var maxlength=-1;attr.$observe('maxlength',function(value){var intVal=toInt(value);maxlength=isNaN(intVal)?-1:intVal;ctrl.$validate();});ctrl.$validators.maxlength=function(modelValue,viewValue){return(maxlength<0)||ctrl.$isEmpty(viewValue)||(viewValue.length<=maxlength);};}};};var minlengthDirective=function(){return{restrict:'A',require:'?ngModel',link:function(scope,elm,attr,ctrl){if(!ctrl)return;var minlength=0;attr.$observe('minlength',function(value){minlength=toInt(value)||0;ctrl.$validate();});ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength;};}};};if(window.angular.bootstrap){if(window.console){console.log('WARNING: Tried to load angular more than once.');}
return;}
bindJQuery();publishExternalAPI(angular);angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function getDecimals(n){n=n+'';var i=n.indexOf('.');return(i==-1)?0:n.length-i-1;}
function getVF(n,opt_precision){var v=opt_precision;if(undefined===v){v=Math.min(getDecimals(n),3);}
var base=Math.pow(10,v);var f=((n*base)|0)%base;return{v:v,f:f};}
$provide.value("$locale",{"DATETIME_FORMATS":{"AMPMS":["AM","PM"],"DAY":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"ERANAMES":["Before Christ","Anno Domini"],"ERAS":["BC","AD"],"FIRSTDAYOFWEEK":6,"MONTH":["January","February","March","April","May","June","July","August","September","October","November","December"],"SHORTDAY":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"SHORTMONTH":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"STANDALONEMONTH":["January","February","March","April","May","June","July","August","September","October","November","December"],"WEEKENDRANGE":[5,6],"fullDate":"EEEE, MMMM d, y","longDate":"MMMM d, y","medium":"MMM d, y h:mm:ss a","mediumDate":"MMM d, y","mediumTime":"h:mm:ss a","short":"M/d/yy h:mm a","shortDate":"M/d/yy","shortTime":"h:mm a"},"NUMBER_FORMATS":{"CURRENCY_SYM":"$","DECIMAL_SEP":".","GROUP_SEP":",","PATTERNS":[{"gSize":3,"lgSize":3,"maxFrac":3,"minFrac":0,"minInt":1,"negPre":"-","negSuf":"","posPre":"","posSuf":""},{"gSize":3,"lgSize":3,"maxFrac":2,"minFrac":2,"minInt":1,"negPre":"-\u00a4","negSuf":"","posPre":"\u00a4","posSuf":""}]},"id":"en-us","localeID":"en_US","pluralCat":function(n,opt_precision){var i=n|0;var vf=getVF(n,opt_precision);if(i==1&&vf.v==0){return PLURAL_CATEGORY.ONE;}return PLURAL_CATEGORY.OTHER;}});}]);jqLite(document).ready(function(){angularInit(document,bootstrap);});})(window,document);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');(function(Q,d,G){'use strict';function H(t,g){g=g||{};d.forEach(g,function(d,q){delete g[q]});for(var q in t)!t.hasOwnProperty(q)||"$"===q.charAt(0)&&"$"===q.charAt(1)||(g[q]=t[q]);return g}var z=d.$$minErr("$resource"),N=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;d.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,g=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function(q,M,I,J){function A(d,h){return encodeURIComponent(d).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,h?"%20":"+")}function B(d,h){this.template=d;this.defaults=v({},g.defaults,h);this.urlParams={}}function K(e,h,n,k){function c(a,b){var c={};b=v({},h,b);u(b,function(b,h){x(b)&&(b=b());var f;if(b&&b.charAt&&"@"==b.charAt(0)){f=a;var l=b.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!N.test("."+
l))throw z("badmember",l);for(var l=l.split("."),m=0,k=l.length;m<k&&d.isDefined(f);m++){var r=l[m];f=null!==f?f[r]:G}}else f=b;c[h]=f});return c}function O(a){return a.resource}function m(a){H(a||{},this)}var t=new B(e,k);n=v({},g.defaults.actions,n);m.prototype.toJSON=function(){var a=v({},this);delete a.$promise;delete a.$resolved;return a};u(n,function(a,b){var h=/^(POST|PUT|PATCH)$/i.test(a.method),e=a.timeout,E=d.isDefined(a.cancellable)?a.cancellable:k&&d.isDefined(k.cancellable)?k.cancellable:g.defaults.cancellable;e&&!d.isNumber(e)&&(M.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete a.timeout,e=null);m[b]=function(f,l,k,g){var r={},n,w,C;switch(arguments.length){case 4:C=g,w=k;case 3:case 2:if(x(l)){if(x(f)){w=f;C=l;break}w=l;C=k}else{r=f;n=l;w=k;break}case 1:x(f)?w=f:h?n=f:r=f;break;case 0:break;default:throw z("badargs",arguments.length);}var D=this instanceof m,p=D?n:a.isArray?[]:new m(n),s={},A=a.interceptor&&a.interceptor.response||O,B=a.interceptor&&a.interceptor.responseError||G,y,F;u(a,function(a,b){switch(b){default:s[b]=P(a);case"params":case"isArray":case"interceptor":case"cancellable":}});!D&&E&&(y=I.defer(),s.timeout=y.promise,e&&(F=J(y.resolve,e)));h&&(s.data=n);t.setUrlParams(s,v({},c(n,a.params||{}),r),a.url);r=q(s).then(function(f){var c=f.data;if(c){if(d.isArray(c)!==!!a.isArray)throw z("badcfg",b,a.isArray?"array":"object",d.isArray(c)?"array":"object",s.method,s.url);if(a.isArray)p.length=0,u(c,function(b){"object"===typeof b?p.push(new m(b)):p.push(b)});else{var l=p.$promise;H(c,p);p.$promise=l}}f.resource=p;return f},function(b){(C||L)(b);return I.reject(b)});r["finally"](function(){p.$resolved=!0;!D&&E&&(p.$cancelRequest=d.noop,J.cancel(F),y=F=s.timeout=null)});r=r.then(function(b){var a=A(b);(w||L)(a,b.headers);return a},B);return D?r:(p.$promise=r,p.$resolved=!1,E&&(p.$cancelRequest=y.resolve),p)};m.prototype["$"+b]=function(a,c,d){x(a)&&(d=c,c=a,a={});a=m[b].call(this,a,this,c,d);return a.$promise||a}});m.bind=function(a){return K(e,v({},h,a),n)};return m}var L=d.noop,u=d.forEach,v=d.extend,P=d.copy,x=d.isFunction;B.prototype={setUrlParams:function(e,h,n){var k=this,c=n||k.template,g,m,q="",a=k.urlParams={};u(c.split(/\W/),function(b){if("hasOwnProperty"===b)throw z("badname");!/^\d+$/.test(b)&&b&&(new RegExp("(^|[^\\\\]):"+
b+"(\\W|$)")).test(c)&&(a[b]={isQueryParamValue:(new RegExp("\\?.*=:"+b+"(?:\\W|$)")).test(c)})});c=c.replace(/\\:/g,":");c=c.replace(t,function(a){q=a;return""});h=h||{};u(k.urlParams,function(a,e){g=h.hasOwnProperty(e)?h[e]:k.defaults[e];d.isDefined(g)&&null!==g?(m=a.isQueryParamValue?A(g,!0):A(g,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),c=c.replace(new RegExp(":"+e+"(\\W|$)","g"),function(a,b){return m+b})):c=c.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})});k.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/");c=c.replace(/\/\.(?=\w+($|\?))/,".");e.url=q+c.replace(/\/\\\./,"/.");u(h,function(a,c){k.urlParams[c]||(e.params=e.params||{},e.params[c]=a)})}};return K}]})})(window,window.angular);(function(p,c,n){'use strict';function l(b,a,g){var d=g.baseHref(),k=b[0];return function(b,e,f){var g,h;f=f||{};h=f.expires;g=c.isDefined(f.path)?f.path:d;c.isUndefined(e)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",e="");c.isString(h)&&(h=new Date(h));e=encodeURIComponent(b)+"="+encodeURIComponent(e);e=e+(g?";path="+g:"")+(f.domain?";domain="+f.domain:"");e+=h?";expires="+h.toUTCString():"";e+=f.secure?";secure":"";f=e.length+1;4096<f&&a.warn("Cookie '"+b+"' possibly not set or overflowed because it was too large ("+
f+" > 4096 bytes)!");k.cookie=e}}c.module("ngCookies",["ng"]).provider("$cookies",[function(){var b=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(a,g){return{get:function(d){return a()[d]},getObject:function(d){return(d=this.get(d))?c.fromJson(d):d},getAll:function(){return a()},put:function(d,a,m){g(d,a,m?c.extend({},b,m):b)},putObject:function(d,b,a){this.put(d,c.toJson(b),a)},remove:function(a,k){g(a,n,k?c.extend({},b,k):b)}}}]}]);c.module("ngCookies").factory("$cookieStore",["$cookies",function(b){return{get:function(a){return b.getObject(a)},put:function(a,c){b.putObject(a,c)},remove:function(a){b.remove(a)}}}]);l.$inject=["$document","$log","$browser"];c.module("ngCookies").provider("$$cookieWriter",function(){this.$get=l})})(window,window.angular);(function(window,document){angular.module('csrf-cross-domain.config',[]).value('csrf-cross-domain.config',{debug:true});angular.module('csrf-cross-domain.services',[]);angular.module('csrf-cross-domain',['csrf-cross-domain.config','csrf-cross-domain.services','ngCookies']);angular.module('csrf-cross-domain.services').provider('csrfCD',function(){'use strict';var headerName='X-XSRF-TOKEN';var cookieName='XSRF-TOKEN';var allowedMethods=['GET','POST','PUT','PATCH','DELETE'];this.setHeaderName=function(n){headerName=n;};this.setCookieName=function(n){cookieName=n;};this.setAllowedMethods=function(n){allowedMethods=n;};this.$get=['$cookies',function($cookies){return{'request':function(config){if(allowedMethods.indexOf(config.method)!==-1){config.headers[headerName]=$cookies[cookieName];}
return config;}};}];}).config(function($httpProvider){$httpProvider.defaults.withCredentials=true;$httpProvider.defaults.useXDomain=true;$httpProvider.interceptors.push('csrfCD');});})(window,document);(function(window,angular,undefined){'use strict';var ngTouch=angular.module('ngTouch',[]);ngTouch.provider('$touch',$TouchProvider);function nodeName_(element){return angular.lowercase(element.nodeName||(element[0]&&element[0].nodeName));}
$TouchProvider.$inject=['$provide','$compileProvider'];function $TouchProvider($provide,$compileProvider){var ngClickOverrideEnabled=false;var ngClickDirectiveAdded=false;this.ngClickOverrideEnabled=function(enabled){if(angular.isDefined(enabled)){if(enabled&&!ngClickDirectiveAdded){ngClickDirectiveAdded=true;ngTouchClickDirectiveFactory.$$moduleName='ngTouch';$compileProvider.directive('ngClick',ngTouchClickDirectiveFactory);$provide.decorator('ngClickDirective',['$delegate',function($delegate){if(ngClickOverrideEnabled){$delegate.shift();}else{var i=$delegate.length-1;while(i>=0){if($delegate[i].$$moduleName==='ngTouch'){$delegate.splice(i,1);break;}
i--;}}
return $delegate;}]);}
ngClickOverrideEnabled=enabled;return this;}
return ngClickOverrideEnabled;};this.$get=function(){return{ngClickOverrideEnabled:function(){return ngClickOverrideEnabled;}};};}
ngTouch.factory('$swipe',[function(){var MOVE_BUFFER_RADIUS=10;var POINTER_EVENTS={'mouse':{start:'mousedown',move:'mousemove',end:'mouseup'},'touch':{start:'touchstart',move:'touchmove',end:'touchend',cancel:'touchcancel'}};function getCoordinates(event){var originalEvent=event.originalEvent||event;var touches=originalEvent.touches&&originalEvent.touches.length?originalEvent.touches:[originalEvent];var e=(originalEvent.changedTouches&&originalEvent.changedTouches[0])||touches[0];return{x:e.clientX,y:e.clientY};}
function getEvents(pointerTypes,eventType){var res=[];angular.forEach(pointerTypes,function(pointerType){var eventName=POINTER_EVENTS[pointerType][eventType];if(eventName){res.push(eventName);}});return res.join(' ');}
return{bind:function(element,eventHandlers,pointerTypes){var totalX,totalY;var startCoords;var lastPos;var active=false;pointerTypes=pointerTypes||['mouse','touch'];element.on(getEvents(pointerTypes,'start'),function(event){startCoords=getCoordinates(event);active=true;totalX=0;totalY=0;lastPos=startCoords;eventHandlers['start']&&eventHandlers['start'](startCoords,event);});var events=getEvents(pointerTypes,'cancel');if(events){element.on(events,function(event){active=false;eventHandlers['cancel']&&eventHandlers['cancel'](event);});}
element.on(getEvents(pointerTypes,'move'),function(event){if(!active)return;if(!startCoords)return;var coords=getCoordinates(event);totalX+=Math.abs(coords.x-lastPos.x);totalY+=Math.abs(coords.y-lastPos.y);lastPos=coords;if(totalX<MOVE_BUFFER_RADIUS&&totalY<MOVE_BUFFER_RADIUS){return;}
if(totalY>totalX){active=false;eventHandlers['cancel']&&eventHandlers['cancel'](event);return;}else{event.preventDefault();eventHandlers['move']&&eventHandlers['move'](coords,event);}});element.on(getEvents(pointerTypes,'end'),function(event){if(!active)return;active=false;eventHandlers['end']&&eventHandlers['end'](getCoordinates(event),event);});}};}]);var ngTouchClickDirectiveFactory=['$parse','$timeout','$rootElement',function($parse,$timeout,$rootElement){var TAP_DURATION=750;var MOVE_TOLERANCE=12;var PREVENT_DURATION=2500;var CLICKBUSTER_THRESHOLD=25;var ACTIVE_CLASS_NAME='ng-click-active';var lastPreventedTime;var touchCoordinates;var lastLabelClickCoordinates;function hit(x1,y1,x2,y2){return Math.abs(x1-x2)<CLICKBUSTER_THRESHOLD&&Math.abs(y1-y2)<CLICKBUSTER_THRESHOLD;}
function checkAllowableRegions(touchCoordinates,x,y){for(var i=0;i<touchCoordinates.length;i+=2){if(hit(touchCoordinates[i],touchCoordinates[i+1],x,y)){touchCoordinates.splice(i,i+2);return true;}}
return false;}
function onClick(event){if(Date.now()-lastPreventedTime>PREVENT_DURATION){return;}
var touches=event.touches&&event.touches.length?event.touches:[event];var x=touches[0].clientX;var y=touches[0].clientY;if(x<1&&y<1){return;}
if(lastLabelClickCoordinates&&lastLabelClickCoordinates[0]===x&&lastLabelClickCoordinates[1]===y){return;}
if(lastLabelClickCoordinates){lastLabelClickCoordinates=null;}
if(nodeName_(event.target)==='label'){lastLabelClickCoordinates=[x,y];}
if(checkAllowableRegions(touchCoordinates,x,y)){return;}
event.stopPropagation();event.preventDefault();event.target&&event.target.blur&&event.target.blur();}
function onTouchStart(event){var touches=event.touches&&event.touches.length?event.touches:[event];var x=touches[0].clientX;var y=touches[0].clientY;touchCoordinates.push(x,y);$timeout(function(){for(var i=0;i<touchCoordinates.length;i+=2){if(touchCoordinates[i]==x&&touchCoordinates[i+1]==y){touchCoordinates.splice(i,i+2);return;}}},PREVENT_DURATION,false);}
function preventGhostClick(x,y){if(!touchCoordinates){$rootElement[0].addEventListener('click',onClick,true);$rootElement[0].addEventListener('touchstart',onTouchStart,true);touchCoordinates=[];}
lastPreventedTime=Date.now();checkAllowableRegions(touchCoordinates,x,y);}
return function(scope,element,attr){var clickHandler=$parse(attr.ngClick),tapping=false,tapElement,startTime,touchStartX,touchStartY;function resetState(){tapping=false;element.removeClass(ACTIVE_CLASS_NAME);}
element.on('touchstart',function(event){tapping=true;tapElement=event.target?event.target:event.srcElement;if(tapElement.nodeType==3){tapElement=tapElement.parentNode;}
element.addClass(ACTIVE_CLASS_NAME);startTime=Date.now();var originalEvent=event.originalEvent||event;var touches=originalEvent.touches&&originalEvent.touches.length?originalEvent.touches:[originalEvent];var e=touches[0];touchStartX=e.clientX;touchStartY=e.clientY;});element.on('touchcancel',function(event){resetState();});element.on('touchend',function(event){var diff=Date.now()-startTime;var originalEvent=event.originalEvent||event;var touches=(originalEvent.changedTouches&&originalEvent.changedTouches.length)?originalEvent.changedTouches:((originalEvent.touches&&originalEvent.touches.length)?originalEvent.touches:[originalEvent]);var e=touches[0];var x=e.clientX;var y=e.clientY;var dist=Math.sqrt(Math.pow(x-touchStartX,2)+Math.pow(y-touchStartY,2));if(tapping&&diff<TAP_DURATION&&dist<MOVE_TOLERANCE){preventGhostClick(x,y);if(tapElement){tapElement.blur();}
if(!angular.isDefined(attr.disabled)||attr.disabled===false){element.triggerHandler('click',[event]);}}
resetState();});element.onclick=function(event){};element.on('click',function(event,touchend){scope.$apply(function(){clickHandler(scope,{$event:(touchend||event)});});});element.on('mousedown',function(event){element.addClass(ACTIVE_CLASS_NAME);});element.on('mousemove mouseup',function(event){element.removeClass(ACTIVE_CLASS_NAME);});};}];function makeSwipeDirective(directiveName,direction,eventName){ngTouch.directive(directiveName,['$parse','$swipe',function($parse,$swipe){var MAX_VERTICAL_DISTANCE=75;var MAX_VERTICAL_RATIO=0.3;var MIN_HORIZONTAL_DISTANCE=30;return function(scope,element,attr){var swipeHandler=$parse(attr[directiveName]);var startCoords,valid;function validSwipe(coords){if(!startCoords)return false;var deltaY=Math.abs(coords.y-startCoords.y);var deltaX=(coords.x-startCoords.x)*direction;return valid&&deltaY<MAX_VERTICAL_DISTANCE&&deltaX>0&&deltaX>MIN_HORIZONTAL_DISTANCE&&deltaY/deltaX<MAX_VERTICAL_RATIO;}
var pointerTypes=['touch'];if(!angular.isDefined(attr['ngSwipeDisableMouse'])){pointerTypes.push('mouse');}
$swipe.bind(element,{'start':function(coords,event){startCoords=coords;valid=true;},'cancel':function(event){valid=false;},'end':function(coords,event){if(validSwipe(coords)){scope.$apply(function(){element.triggerHandler(eventName);swipeHandler(scope,{$event:event});});}}},pointerTypes);};}]);}
makeSwipeDirective('ngSwipeLeft',-1,'swipeleft');makeSwipeDirective('ngSwipeRight',1,'swiperight');})(window,window.angular);(function(window,angular,undefined){'use strict';var ngRouteModule=angular.module('ngRoute',['ng']).provider('$route',$RouteProvider).run(['$route',angular.noop]),$routeMinErr=angular.$$minErr('ngRoute');function $RouteProvider(){function inherit(parent,extra){return angular.extend(Object.create(parent),extra);}
var routes={};this.when=function(path,route){var routeCopy=angular.copy(route);if(angular.isUndefined(routeCopy.reloadOnSearch)){routeCopy.reloadOnSearch=true;}
if(angular.isUndefined(routeCopy.caseInsensitiveMatch)){routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch;}
routes[path]=angular.extend(routeCopy,path&&pathRegExp(path,routeCopy));if(path){var redirectPath=(path[path.length-1]=='/')?path.substr(0,path.length-1):path+'/';routes[redirectPath]=angular.extend({redirectTo:path},pathRegExp(redirectPath,routeCopy));}
return this;};this.caseInsensitiveMatch=false;function pathRegExp(path,opts){var insensitive=opts.caseInsensitiveMatch,ret={originalPath:path,regexp:path},keys=ret.keys=[];path=path.replace(/([().])/g,'\\$1').replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(_,slash,key,option){var optional=(option==='?'||option==='*?')?'?':null;var star=(option==='*'||option==='*?')?'*':null;keys.push({name:key,optional:!!optional});slash=slash||'';return''
+(optional?'':slash)
+'(?:'
+(optional?slash:'')
+(star&&'(.+?)'||'([^/]+)')
+(optional||'')
+')'
+(optional||'');}).replace(/([\/$\*])/g,'\\$1');ret.regexp=new RegExp('^'+path+'$',insensitive?'i':'');return ret;}
this.otherwise=function(params){if(typeof params==='string'){params={redirectTo:params};}
this.when(null,params);return this;};this.$get=['$rootScope','$location','$routeParams','$q','$injector','$templateRequest','$sce',function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce){var forceReload=false,preparedRoute,preparedRouteIsUpdateOnly,$route={routes:routes,reload:function(){forceReload=true;var fakeLocationEvent={defaultPrevented:false,preventDefault:function fakePreventDefault(){this.defaultPrevented=true;forceReload=false;}};$rootScope.$evalAsync(function(){prepareRoute(fakeLocationEvent);if(!fakeLocationEvent.defaultPrevented)commitRoute();});},updateParams:function(newParams){if(this.current&&this.current.$$route){newParams=angular.extend({},this.current.params,newParams);$location.path(interpolate(this.current.$$route.originalPath,newParams));$location.search(newParams);}else{throw $routeMinErr('norout','Tried updating route when with no current route');}}};$rootScope.$on('$locationChangeStart',prepareRoute);$rootScope.$on('$locationChangeSuccess',commitRoute);return $route;function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=m[i];if(key&&val){params[key.name]=val;}}
return params;}
function prepareRoute($locationEvent){var lastRoute=$route.current;preparedRoute=parseRoute();preparedRouteIsUpdateOnly=preparedRoute&&lastRoute&&preparedRoute.$$route===lastRoute.$$route&&angular.equals(preparedRoute.pathParams,lastRoute.pathParams)&&!preparedRoute.reloadOnSearch&&!forceReload;if(!preparedRouteIsUpdateOnly&&(lastRoute||preparedRoute)){if($rootScope.$broadcast('$routeChangeStart',preparedRoute,lastRoute).defaultPrevented){if($locationEvent){$locationEvent.preventDefault();}}}}
function commitRoute(){var lastRoute=$route.current;var nextRoute=preparedRoute;if(preparedRouteIsUpdateOnly){lastRoute.params=nextRoute.params;angular.copy(lastRoute.params,$routeParams);$rootScope.$broadcast('$routeUpdate',lastRoute);}else if(nextRoute||lastRoute){forceReload=false;$route.current=nextRoute;if(nextRoute){if(nextRoute.redirectTo){if(angular.isString(nextRoute.redirectTo)){$location.path(interpolate(nextRoute.redirectTo,nextRoute.params)).search(nextRoute.params).replace();}else{$location.url(nextRoute.redirectTo(nextRoute.pathParams,$location.path(),$location.search())).replace();}}}
$q.when(nextRoute).then(function(){if(nextRoute){var locals=angular.extend({},nextRoute.resolve),template,templateUrl;angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key);});if(angular.isDefined(template=nextRoute.template)){if(angular.isFunction(template)){template=template(nextRoute.params);}}else if(angular.isDefined(templateUrl=nextRoute.templateUrl)){if(angular.isFunction(templateUrl)){templateUrl=templateUrl(nextRoute.params);}
if(angular.isDefined(templateUrl)){nextRoute.loadedTemplateUrl=$sce.valueOf(templateUrl);template=$templateRequest(templateUrl);}}
if(angular.isDefined(template)){locals['$template']=template;}
return $q.all(locals);}}).then(function(locals){if(nextRoute==$route.current){if(nextRoute){nextRoute.locals=locals;angular.copy(nextRoute.params,$routeParams);}
$rootScope.$broadcast('$routeChangeSuccess',nextRoute,lastRoute);}},function(error){if(nextRoute==$route.current){$rootScope.$broadcast('$routeChangeError',nextRoute,lastRoute,error);}});}}
function parseRoute(){var params,match;angular.forEach(routes,function(route,path){if(!match&&(params=switchRouteMatcher($location.path(),route))){match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params});match.$$route=route;}});return match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}});}
function interpolate(string,params){var result=[];angular.forEach((string||'').split(':'),function(segment,i){if(i===0){result.push(segment);}else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/);var key=segmentMatch[1];result.push(params[key]);result.push(segmentMatch[2]||'');delete params[key];}});return result.join('');}}];}
ngRouteModule.provider('$routeParams',$RouteParamsProvider);function $RouteParamsProvider(){this.$get=function(){return{};};}
ngRouteModule.directive('ngView',ngViewFactory);ngRouteModule.directive('ngView',ngViewFillContentFactory);ngViewFactory.$inject=['$route','$anchorScroll','$animate'];function ngViewFactory($route,$anchorScroll,$animate){return{restrict:'ECA',terminal:true,priority:400,transclude:'element',link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||'';scope.$on('$routeChangeSuccess',update);update();function cleanupLastView(){if(previousLeaveAnimation){$animate.cancel(previousLeaveAnimation);previousLeaveAnimation=null;}
if(currentScope){currentScope.$destroy();currentScope=null;}
if(currentElement){previousLeaveAnimation=$animate.leave(currentElement);previousLeaveAnimation.then(function(){previousLeaveAnimation=null;});currentElement=null;}}
function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new();var current=$route.current;var clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element).then(function onNgViewEnter(){if(angular.isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll();}});cleanupLastView();});currentElement=clone;currentScope=current.scope=newScope;currentScope.$emit('$viewContentLoaded');currentScope.$eval(onloadExp);}else{cleanupLastView();}}}};}
ngViewFillContentFactory.$inject=['$compile','$controller','$route'];function ngViewFillContentFactory($compile,$controller,$route){return{restrict:'ECA',priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);if(current.controllerAs){scope[current.controllerAs]=controller;}
$element.data('$ngControllerController',controller);$element.children().data('$ngControllerController',controller);}
scope[current.resolveAs||'$resolve']=locals;link(scope);}};}})(window,window.angular);"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=R({},d),u=1+q.length/3,v=!1;if(L(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),R(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(a!==!0&&a!==!1&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=O(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string}function m(){var b={array:"search"===f?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!L(c)||null==c)return q;if(c===!0||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function r(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),L(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=r(e,y,z,A);R(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return L(d)?d:!0}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return b?(N(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?L(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new U.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=R(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,c){function d(a){return 1===V&&W>=4?!!j.enabled(a):1===V&&W>=2?!!j.enabled():!!i}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(j)return{enter:function(a,c,f){d(a)?b.version.minor>2?j.enter(a,null,c).then(f):j.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?j.leave(a).then(c):j.leave(a,c):e.leave(a,c)}};if(i){var f=i&&i(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if((g||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(r){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;j>e;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;i>e;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular);(function(angular,window){'use strict';var regModules=['ng','oc.lazyLoad'],regInvokes={},regConfigs=[],modulesToLoad=[],realModules=[],recordDeclarations=[],broadcast=angular.noop,runBlocks={},justLoaded=[];var ocLazyLoad=angular.module('oc.lazyLoad',['ng']);ocLazyLoad.provider('$ocLazyLoad',["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function($controllerProvider,$provide,$compileProvider,$filterProvider,$injector,$animateProvider){var modules={},providers={$controllerProvider:$controllerProvider,$compileProvider:$compileProvider,$filterProvider:$filterProvider,$provide:$provide,$injector:$injector,$animateProvider:$animateProvider},debug=false,events=false,moduleCache=[],modulePromises={};moduleCache.push=function(value){if(this.indexOf(value)===-1){Array.prototype.push.apply(this,arguments);}};this.config=function(config){if(angular.isDefined(config.modules)){if(angular.isArray(config.modules)){angular.forEach(config.modules,function(moduleConfig){modules[moduleConfig.name]=moduleConfig;});}else{modules[config.modules.name]=config.modules;}}
if(angular.isDefined(config.debug)){debug=config.debug;}
if(angular.isDefined(config.events)){events=config.events;}};this._init=function _init(element){if(modulesToLoad.length===0){var elements=[element],names=['ng:app','ng-app','x-ng-app','data-ng-app','ng-flow','ng-flows'],NG_APP_CLASS_REGEXP=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,append=function append(elm){return elm&&elements.push(elm);};angular.forEach(names,function(name){names[name]=true;name=name.replace(':','\\:');append(document.querySelector('['+name+']'));if(typeof element[0]!=='undefined'&&element[0].querySelectorAll){angular.forEach(element[0].querySelectorAll('.'+name),append);angular.forEach(element[0].querySelectorAll('.'+name+'\\:'),append);angular.forEach(element[0].querySelectorAll('['+name+']'),append);}});angular.forEach(elements,function(elm){if(modulesToLoad.length===0){var className=' '+element.className+' ';var match=NG_APP_CLASS_REGEXP.exec(className);if(match){modulesToLoad.push((match[2]||'').replace(/\s+/g,','));}else{angular.forEach(elm.attributes,function(attr){if(modulesToLoad.length===0&&names[attr.name]){modulesToLoad.push(attr.value);}});}}});}
if(modulesToLoad.length===0&&!((window.jasmine||window.mocha)&&angular.isDefined(angular.mock))){console.log('Notice: No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.');}
var addReg=function addReg(moduleName){if(regModules.indexOf(moduleName)===-1){regModules.push(moduleName);var mainModule=angular.module(moduleName);_invokeQueue(null,mainModule._invokeQueue,moduleName);_invokeQueue(null,mainModule._configBlocks,moduleName);angular.forEach(mainModule.requires,addReg);}};angular.forEach(modulesToLoad,function(moduleName){addReg(moduleName);});modulesToLoad=[];recordDeclarations.pop();};var stringify=function stringify(obj){try{return JSON.stringify(obj);}catch(e){var cache=[];return JSON.stringify(obj,function(key,value){if(angular.isObject(value)&&value!==null){if(cache.indexOf(value)!==-1){return;}
cache.push(value);}
return value;});}};var hashCode=function hashCode(str){var hash=0,i,chr,len;if(str.length==0){return hash;}
for(i=0,len=str.length;i<len;i++){chr=str.charCodeAt(i);hash=(hash<<5)-hash+chr;hash|=0;}
return hash;};function _register(providers,registerModules,params){if(registerModules){var k,moduleName,moduleFn,tempRunBlocks=[];for(k=registerModules.length-1;k>=0;k--){moduleName=registerModules[k];if(!angular.isString(moduleName)){moduleName=getModuleName(moduleName);}
if(!moduleName||justLoaded.indexOf(moduleName)!==-1||modules[moduleName]&&realModules.indexOf(moduleName)===-1){continue;}
var newModule=regModules.indexOf(moduleName)===-1;moduleFn=ngModuleFct(moduleName);if(newModule){regModules.push(moduleName);_register(providers,moduleFn.requires,params);}
if(moduleFn._runBlocks.length>0){runBlocks[moduleName]=[];while(moduleFn._runBlocks.length>0){runBlocks[moduleName].push(moduleFn._runBlocks.shift());}}
if(angular.isDefined(runBlocks[moduleName])&&(newModule||params.rerun)){tempRunBlocks=tempRunBlocks.concat(runBlocks[moduleName]);}
_invokeQueue(providers,moduleFn._invokeQueue,moduleName,params.reconfig);_invokeQueue(providers,moduleFn._configBlocks,moduleName,params.reconfig);broadcast(newModule?'ocLazyLoad.moduleLoaded':'ocLazyLoad.moduleReloaded',moduleName);registerModules.pop();justLoaded.push(moduleName);}
var instanceInjector=providers.getInstanceInjector();angular.forEach(tempRunBlocks,function(fn){instanceInjector.invoke(fn);});}}
function _registerInvokeList(args,moduleName){var invokeList=args[2][0],type=args[1],newInvoke=false;if(angular.isUndefined(regInvokes[moduleName])){regInvokes[moduleName]={};}
if(angular.isUndefined(regInvokes[moduleName][type])){regInvokes[moduleName][type]={};}
var onInvoke=function onInvoke(invokeName,invoke){if(!regInvokes[moduleName][type].hasOwnProperty(invokeName)){regInvokes[moduleName][type][invokeName]=[];}
if(checkHashes(invoke,regInvokes[moduleName][type][invokeName])){newInvoke=true;regInvokes[moduleName][type][invokeName].push(invoke);broadcast('ocLazyLoad.componentLoaded',[moduleName,type,invokeName]);}};function checkHashes(potentialNew,invokes){var isNew=true,newHash;if(invokes.length){newHash=signature(potentialNew);angular.forEach(invokes,function(invoke){isNew=isNew&&signature(invoke)!==newHash;});}
return isNew;}
function signature(data){if(angular.isArray(data)){return hashCode(data.toString());}else if(angular.isObject(data)){return hashCode(stringify(data));}else{if(angular.isDefined(data)&&data!==null){return hashCode(data.toString());}else{return data;}}}
if(angular.isString(invokeList)){onInvoke(invokeList,args[2][1]);}else if(angular.isObject(invokeList)){angular.forEach(invokeList,function(invoke,key){if(angular.isString(invoke)){onInvoke(invoke,invokeList[1]);}else{onInvoke(key,invoke);}});}else{return false;}
return newInvoke;}
function _invokeQueue(providers,queue,moduleName,reconfig){if(!queue){return;}
var i,len,args,provider;for(i=0,len=queue.length;i<len;i++){args=queue[i];if(angular.isArray(args)){if(providers!==null){if(providers.hasOwnProperty(args[0])){provider=providers[args[0]];}else{throw new Error('unsupported provider '+args[0]);}}
var isNew=_registerInvokeList(args,moduleName);if(args[1]!=='invoke'){if(isNew&&angular.isDefined(provider)){provider[args[1]].apply(provider,args[2]);}}else{var callInvoke=function callInvoke(fct){var invoked=regConfigs.indexOf(moduleName+'-'+fct);if(invoked===-1||reconfig){if(invoked===-1){regConfigs.push(moduleName+'-'+fct);}
if(angular.isDefined(provider)){provider[args[1]].apply(provider,args[2]);}}};if(angular.isFunction(args[2][0])){callInvoke(args[2][0]);}else if(angular.isArray(args[2][0])){for(var j=0,jlen=args[2][0].length;j<jlen;j++){if(angular.isFunction(args[2][0][j])){callInvoke(args[2][0][j]);}}}}}}}
function getModuleName(module){var moduleName=null;if(angular.isString(module)){moduleName=module;}else if(angular.isObject(module)&&module.hasOwnProperty('name')&&angular.isString(module.name)){moduleName=module.name;}
return moduleName;}
function moduleExists(moduleName){if(!angular.isString(moduleName)){return false;}
try{return ngModuleFct(moduleName);}catch(e){if(/No module/.test(e)||e.message.indexOf('$injector:nomod')>-1){return false;}}}
this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function($log,$rootElement,$rootScope,$cacheFactory,$q){var instanceInjector,filesCache=$cacheFactory('ocLazyLoad');if(!debug){$log={};$log['error']=angular.noop;$log['warn']=angular.noop;$log['info']=angular.noop;}
providers.getInstanceInjector=function(){return instanceInjector?instanceInjector:instanceInjector=$rootElement.data('$injector')||angular.injector();};broadcast=function broadcast(eventName,params){if(events){$rootScope.$broadcast(eventName,params);}
if(debug){$log.info(eventName,params);}};function reject(e){var deferred=$q.defer();$log.error(e.message);deferred.reject(e);return deferred.promise;}
return{_broadcast:broadcast,_$log:$log,_getFilesCache:function getFilesCache(){return filesCache;},toggleWatch:function toggleWatch(watch){if(watch){recordDeclarations.push(true);}else{recordDeclarations.pop();}},getModuleConfig:function getModuleConfig(moduleName){if(!angular.isString(moduleName)){throw new Error('You need to give the name of the module to get');}
if(!modules[moduleName]){return null;}
return angular.copy(modules[moduleName]);},setModuleConfig:function setModuleConfig(moduleConfig){if(!angular.isObject(moduleConfig)){throw new Error('You need to give the module config object to set');}
modules[moduleConfig.name]=moduleConfig;return moduleConfig;},getModules:function getModules(){return regModules;},isLoaded:function isLoaded(modulesNames){var moduleLoaded=function moduleLoaded(module){var isLoaded=regModules.indexOf(module)>-1;if(!isLoaded){isLoaded=!!moduleExists(module);}
return isLoaded;};if(angular.isString(modulesNames)){modulesNames=[modulesNames];}
if(angular.isArray(modulesNames)){var i,len;for(i=0,len=modulesNames.length;i<len;i++){if(!moduleLoaded(modulesNames[i])){return false;}}
return true;}else{throw new Error('You need to define the module(s) name(s)');}},_getModuleName:getModuleName,_getModule:function getModule(moduleName){try{return ngModuleFct(moduleName);}catch(e){if(/No module/.test(e)||e.message.indexOf('$injector:nomod')>-1){e.message='The module "'+stringify(moduleName)+'" that you are trying to load does not exist. '+e.message;}
throw e;}},moduleExists:moduleExists,_loadDependencies:function _loadDependencies(moduleName,localParams){var loadedModule,requires,diff,promisesList=[],self=this;moduleName=self._getModuleName(moduleName);if(moduleName===null){return $q.when();}else{try{loadedModule=self._getModule(moduleName);}catch(e){return reject(e);}
requires=self.getRequires(loadedModule);}
angular.forEach(requires,function(requireEntry){if(angular.isString(requireEntry)){var config=self.getModuleConfig(requireEntry);if(config===null){moduleCache.push(requireEntry);return;}
requireEntry=config;config.name=undefined;}
if(self.moduleExists(requireEntry.name)){diff=requireEntry.files.filter(function(n){return self.getModuleConfig(requireEntry.name).files.indexOf(n)<0;});if(diff.length!==0){self._$log.warn('Module "',moduleName,'" attempted to redefine configuration for dependency. "',requireEntry.name,'"\n Additional Files Loaded:',diff);}
if(angular.isDefined(self.filesLoader)){promisesList.push(self.filesLoader(requireEntry,localParams).then(function(){return self._loadDependencies(requireEntry);}));}else{return reject(new Error('Error: New dependencies need to be loaded from external files ('+requireEntry.files+'), but no loader has been defined.'));}
return;}else if(angular.isArray(requireEntry)){var files=[];angular.forEach(requireEntry,function(entry){var config=self.getModuleConfig(entry);if(config===null){files.push(entry);}else if(config.files){files=files.concat(config.files);}});if(files.length>0){requireEntry={files:files};}}else if(angular.isObject(requireEntry)){if(requireEntry.hasOwnProperty('name')&&requireEntry['name']){self.setModuleConfig(requireEntry);moduleCache.push(requireEntry['name']);}}
if(angular.isDefined(requireEntry.files)&&requireEntry.files.length!==0){if(angular.isDefined(self.filesLoader)){promisesList.push(self.filesLoader(requireEntry,localParams).then(function(){return self._loadDependencies(requireEntry);}));}else{return reject(new Error('Error: the module "'+requireEntry.name+'" is defined in external files ('+requireEntry.files+'), but no loader has been defined.'));}}});return $q.all(promisesList);},inject:function inject(moduleName){var localParams=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var real=arguments.length<=2||arguments[2]===undefined?false:arguments[2];var self=this,deferred=$q.defer();if(angular.isDefined(moduleName)&&moduleName!==null){if(angular.isArray(moduleName)){var promisesList=[];angular.forEach(moduleName,function(module){promisesList.push(self.inject(module,localParams,real));});return $q.all(promisesList);}else{self._addToLoadList(self._getModuleName(moduleName),true,real);}}
if(modulesToLoad.length>0){var res=modulesToLoad.slice();var loadNext=function loadNext(moduleName){moduleCache.push(moduleName);modulePromises[moduleName]=deferred.promise;self._loadDependencies(moduleName,localParams).then(function success(){try{justLoaded=[];_register(providers,moduleCache,localParams);}catch(e){self._$log.error(e.message);deferred.reject(e);return;}
if(modulesToLoad.length>0){loadNext(modulesToLoad.shift());}else{deferred.resolve(res);}},function error(err){deferred.reject(err);});};loadNext(modulesToLoad.shift());}else if(localParams&&localParams.name&&modulePromises[localParams.name]){return modulePromises[localParams.name];}else{deferred.resolve();}
return deferred.promise;},getRequires:function getRequires(module){var requires=[];angular.forEach(module.requires,function(requireModule){if(regModules.indexOf(requireModule)===-1){requires.push(requireModule);}});return requires;},_invokeQueue:_invokeQueue,_registerInvokeList:_registerInvokeList,_register:_register,_addToLoadList:_addToLoadList,_unregister:function _unregister(modules){if(angular.isDefined(modules)){if(angular.isArray(modules)){angular.forEach(modules,function(module){regInvokes[module]=undefined;});}}}};}];this._init(angular.element(window.document));}]);var bootstrapFct=angular.bootstrap;angular.bootstrap=function(element,modules,config){regModules=['ng','oc.lazyLoad'];regInvokes={};regConfigs=[];modulesToLoad=[];realModules=[];recordDeclarations=[];broadcast=angular.noop;runBlocks={};justLoaded=[];if(angular.isArray(modules)){angular.forEach(modules.slice(),function(module){_addToLoadList(module,true,true);});}
return bootstrapFct(element,modules,config);};var _addToLoadList=function _addToLoadList(name,force,real){if((recordDeclarations.length>0||force)&&angular.isString(name)&&modulesToLoad.indexOf(name)===-1){modulesToLoad.push(name);if(real){realModules.push(name);}}};var ngModuleFct=angular.module;angular.module=function(name,requires,configFn){_addToLoadList(name,false,true);return ngModuleFct(name,requires,configFn);};})(angular,window);(function(angular){'use strict';angular.module('oc.lazyLoad').directive('ocLazyLoad',["$ocLazyLoad","$compile","$animate","$parse","$timeout",function($ocLazyLoad,$compile,$animate,$parse,$timeout){return{restrict:'A',terminal:true,priority:1000,compile:function compile(element,attrs){var content=element[0].innerHTML;return function($scope,$element,$attr){var model=$parse($attr.ocLazyLoad);$scope.$watch(function(){return model($scope)||$attr.ocLazyLoad;},function(moduleName){if(angular.isDefined(moduleName)){$ocLazyLoad.load(moduleName).then(function(){$animate.enter(content,$element);try{$compile($element.contents())($scope);}catch(e){console.log('error',e);}});}},true);};}};}]);})(angular);(function(angular){'use strict';angular.module('oc.lazyLoad').config(["$provide",function($provide){$provide.decorator('$ocLazyLoad',["$delegate","$q","$window","$interval",function($delegate,$q,$window,$interval){var uaCssChecked=false,useCssLoadPatch=false,anchor=$window.document.getElementsByTagName('head')[0]||$window.document.getElementsByTagName('body')[0];$delegate.buildElement=function buildElement(type,path,params){var deferred=$q.defer(),el,loaded,filesCache=$delegate._getFilesCache(),cacheBuster=function cacheBuster(url){var dc=new Date().getTime();if(url.indexOf('?')>=0){if(url.substring(0,url.length-1)==='&'){return url+'_dc='+dc;}
return url+'&_dc='+dc;}else{return url+'?_dc='+dc;}};if(angular.isUndefined(filesCache.get(path))){filesCache.put(path,deferred.promise);}
switch(type){case'css':el=$window.document.createElement('link');el.type='text/css';el.rel='stylesheet';el.href=params.cache===false?cacheBuster(path):path;break;case'js':el=$window.document.createElement('script');el.src=params.cache===false?cacheBuster(path):path;break;default:filesCache.remove(path);deferred.reject(new Error('Requested type "'+type+'" is not known. Could not inject "'+path+'"'));break;}
el.onload=el['onreadystatechange']=function(e){if(el['readyState']&&!/^c|loade/.test(el['readyState'])||loaded)return;el.onload=el['onreadystatechange']=null;loaded=1;$delegate._broadcast('ocLazyLoad.fileLoaded',path);deferred.resolve(el);};el.onerror=function(){filesCache.remove(path);deferred.reject(new Error('Unable to load '+path));};el.async=params.serie?0:1;var insertBeforeElem=anchor.lastChild;if(params.insertBefore){var element=angular.element(angular.isDefined(window.jQuery)?params.insertBefore:document.querySelector(params.insertBefore));if(element&&element.length>0){insertBeforeElem=element[0];}}
insertBeforeElem.parentNode.insertBefore(el,insertBeforeElem);if(type=='css'){if(!uaCssChecked){var ua=$window.navigator.userAgent.toLowerCase();if(ua.indexOf('phantomjs/1.9')>-1){useCssLoadPatch=true;}else if(/iP(hone|od|ad)/.test($window.navigator.platform)){var v=$window.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);var iOSVersion=parseFloat([parseInt(v[1],10),parseInt(v[2],10),parseInt(v[3]||0,10)].join('.'));useCssLoadPatch=iOSVersion<6;}else if(ua.indexOf('android')>-1){var androidVersion=parseFloat(ua.slice(ua.indexOf('android')+8));useCssLoadPatch=androidVersion<4.4;}else if(ua.indexOf('safari')>-1){var versionMatch=ua.match(/version\/([\.\d]+)/i);useCssLoadPatch=versionMatch&&versionMatch[1]&&parseFloat(versionMatch[1])<6;}}
if(useCssLoadPatch){var tries=1000;var interval=$interval(function(){try{el.sheet.cssRules;$interval.cancel(interval);el.onload();}catch(e){if(--tries<=0){el.onerror();}}},20);}}
return deferred.promise;};return $delegate;}]);}]);})(angular);(function(angular){'use strict';angular.module('oc.lazyLoad').config(["$provide",function($provide){$provide.decorator('$ocLazyLoad',["$delegate","$q",function($delegate,$q){$delegate.filesLoader=function filesLoader(config){var params=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var cssFiles=[],templatesFiles=[],jsFiles=[],promises=[],cachePromise=null,filesCache=$delegate._getFilesCache();$delegate.toggleWatch(true);angular.extend(params,config);var pushFile=function pushFile(path){var file_type=null,m;if(angular.isObject(path)){file_type=path.type;path=path.path;}
cachePromise=filesCache.get(path);if(angular.isUndefined(cachePromise)||params.cache===false){if((m=/^(css|less|html|htm|js)?(?=!)/.exec(path))!==null){file_type=m[1];path=path.substr(m[1].length+1,path.length);}
if(!file_type){if((m=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(path))!==null){file_type=m[1];}else if(!$delegate.jsLoader.hasOwnProperty('ocLazyLoadLoader')&&$delegate.jsLoader.hasOwnProperty('requirejs')){file_type='js';}else{$delegate._$log.error('File type could not be determined. '+path);return;}}
if((file_type==='css'||file_type==='less')&&cssFiles.indexOf(path)===-1){cssFiles.push(path);}else if((file_type==='html'||file_type==='htm')&&templatesFiles.indexOf(path)===-1){templatesFiles.push(path);}else if(file_type==='js'||jsFiles.indexOf(path)===-1){jsFiles.push(path);}else{$delegate._$log.error('File type is not valid. '+path);}}else if(cachePromise){promises.push(cachePromise);}};if(params.serie){pushFile(params.files.shift());}else{angular.forEach(params.files,function(path){pushFile(path);});}
if(cssFiles.length>0){var cssDeferred=$q.defer();$delegate.cssLoader(cssFiles,function(err){if(angular.isDefined(err)&&$delegate.cssLoader.hasOwnProperty('ocLazyLoadLoader')){$delegate._$log.error(err);cssDeferred.reject(err);}else{cssDeferred.resolve();}},params);promises.push(cssDeferred.promise);}
if(templatesFiles.length>0){var templatesDeferred=$q.defer();$delegate.templatesLoader(templatesFiles,function(err){if(angular.isDefined(err)&&$delegate.templatesLoader.hasOwnProperty('ocLazyLoadLoader')){$delegate._$log.error(err);templatesDeferred.reject(err);}else{templatesDeferred.resolve();}},params);promises.push(templatesDeferred.promise);}
if(jsFiles.length>0){var jsDeferred=$q.defer();$delegate.jsLoader(jsFiles,function(err){if(angular.isDefined(err)&&($delegate.jsLoader.hasOwnProperty("ocLazyLoadLoader")||$delegate.jsLoader.hasOwnProperty("requirejs"))){$delegate._$log.error(err);jsDeferred.reject(err);}else{jsDeferred.resolve();}},params);promises.push(jsDeferred.promise);}
if(promises.length===0){var deferred=$q.defer(),err="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";$delegate._$log.error(err);deferred.reject(err);return deferred.promise;}else if(params.serie&&params.files.length>0){return $q.all(promises).then(function(){return $delegate.filesLoader(config,params);});}else{return $q.all(promises)['finally'](function(res){$delegate.toggleWatch(false);return res;});}};$delegate.load=function(originalModule){var originalParams=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var self=this,config=null,deferredList=[],deferred=$q.defer(),errText;var module=angular.copy(originalModule);var params=angular.copy(originalParams);if(angular.isArray(module)){angular.forEach(module,function(m){deferredList.push(self.load(m,params));});$q.all(deferredList).then(function(res){deferred.resolve(res);},function(err){deferred.reject(err);});return deferred.promise;}
if(angular.isString(module)){config=self.getModuleConfig(module);if(!config){config={files:[module]};}}else if(angular.isObject(module)){if(angular.isDefined(module.path)&&angular.isDefined(module.type)){config={files:[module]};}else{config=self.setModuleConfig(module);}}
if(config===null){var moduleName=self._getModuleName(module);errText='Module "'+(moduleName||'unknown')+'" is not configured, cannot load.';$delegate._$log.error(errText);deferred.reject(new Error(errText));return deferred.promise;}else{if(angular.isDefined(config.template)){if(angular.isUndefined(config.files)){config.files=[];}
if(angular.isString(config.template)){config.files.push(config.template);}else if(angular.isArray(config.template)){config.files.concat(config.template);}}}
var localParams=angular.extend({},params,config);if(angular.isUndefined(config.files)&&angular.isDefined(config.name)&&$delegate.moduleExists(config.name)){return $delegate.inject(config.name,localParams,true);}
$delegate.filesLoader(config,localParams).then(function(){$delegate.inject(null,localParams).then(function(res){deferred.resolve(res);},function(err){deferred.reject(err);});},function(err){deferred.reject(err);});return deferred.promise;};return $delegate;}]);}]);})(angular);(function(angular){'use strict';angular.module('oc.lazyLoad').config(["$provide",function($provide){$provide.decorator('$ocLazyLoad',["$delegate","$q",function($delegate,$q){$delegate.cssLoader=function(paths,callback,params){var promises=[];angular.forEach(paths,function(path){promises.push($delegate.buildElement('css',path,params));});$q.all(promises).then(function(){callback();},function(err){callback(err);});};$delegate.cssLoader.ocLazyLoadLoader=true;return $delegate;}]);}]);})(angular);(function(angular){'use strict';angular.module('oc.lazyLoad').config(["$provide",function($provide){$provide.decorator('$ocLazyLoad',["$delegate","$q",function($delegate,$q){$delegate.jsLoader=function(paths,callback,params){require(paths,callback.bind(null,undefined),callback,params);};$delegate.jsLoader.requirejs=true;return $delegate;}]);}]);})(angular);(function(angular){'use strict';angular.module('oc.lazyLoad').config(["$provide",function($provide){$provide.decorator('$ocLazyLoad',["$delegate","$templateCache","$q","$http",function($delegate,$templateCache,$q,$http){$delegate.templatesLoader=function(paths,callback,params){var promises=[],filesCache=$delegate._getFilesCache();angular.forEach(paths,function(url){var deferred=$q.defer();promises.push(deferred.promise);$http.get(url,params).then(function(response){var data=response.data;if(angular.isString(data)&&data.length>0){angular.forEach(angular.element(data),function(node){if(node.nodeName==='SCRIPT'&&node.type==='text/ng-template'){$templateCache.put(node.id,node.innerHTML);}});}
if(angular.isUndefined(filesCache.get(url))){filesCache.put(url,true);}
deferred.resolve();})['catch'](function(response){deferred.reject(new Error('Unable to load template file "'+url+'": '+response.data));});});return $q.all(promises).then(function(){callback();},function(err){callback(err);});};$delegate.templatesLoader.ocLazyLoadLoader=true;return $delegate;}]);}]);})(angular);if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(this==null){throw new TypeError('"this" is null or not defined');}
var O=Object(this);var len=O.length>>>0;if(len===0){return-1;}
var n=+fromIndex||0;if(Math.abs(n)===Infinity){n=0;}
if(n>=len){return-1;}
k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===searchElement){return k;}
k++;}
return-1;};}
function preLoadAngularWebfan(angular,window,undefined){(function(angular,window,undefined){'use strict';var modules=new Array(['ng','oc.lazyLoad']);Object.defineProperty(angular,'defined',{get:function(){return defined;}});Object.defineProperty(angular,'modules',{get:function(){return modules;}});Object.defineProperty(angular.modules,'defined',{get:function(){return defined;}});Object.defineProperty(angular.modules,'select',{get:function(){return select;}});Object.defineProperty(angular,'select',{get:function(){return select;}});function select(query){var cache=[],reg=new RegExp(query||'.*');for(var i=0,l=modules.length;i<l;i++){var item=modules[i];if(reg.test(item)){cache.push(item)}}
return cache;}
function addMod(m){try{if(!angular.isDefined(angular.module(m))){return false;}}catch(e){return false;}
if(angular.isDefined(angular.module(m))&&modules.indexOf(m)<=-1){modules.push(m);}
return modules.indexOf(m)>-1;}
function defined(m){return((modules.indexOf(m)>-1||true===addMod(m))&&'object'===typeof angular.module(m))?true:false;}})(angular,window);(function(angular,window){var orig=angular.module;angular.module=function(){var args=Array.prototype.slice.call(arguments),protLib=false;var bMods=['frdl.prototype.gui','$WebfanProvider','$frdlProvider','oc.lazyLoad','frdl.prototype','csrf-cross-domain','loaderModule','frdl.prototype.Pathprovider','ui.router','webfan.gui.progressApp','ngSanitize'];var appName=args[0];if(args.length>1&&'undefined'!==typeof args[1]){angular.forEach(['$frdlProvider','$WebfanProvider','frdl.prototype.gui'],function(m,i){if(-1===args[1].indexOf(m)&&-1===bMods.indexOf(args[0])&&('ng'!==args[0].substr(0,2))&&'ui.'!==args[0].substr(0,3)&&angular.modules.defined(m)){args[1].push(m);}});var app=orig.apply(null,args);if('undefined'!==typeof frdl&&'undefined'!==typeof Symbol&&'undefined'!==typeof Symbol.frdl&&'undefined'!==typeof Symbol.frdl.Plugin&&'funtion'===typeof frdl.plug){app[Symbol.frdl.Plugin.valueOf()]=function WebfanPlugin(){return frdl.plug(app.name,arguments[0]);};Object.defineProperty(app,'runInContext',{get:function(){return app[Symbol.frdl.Plugin.valueOf()];}});}
if(appName!=='$frdlProvider'&&appName!=='$WebfanProvider'&&angular.modules.defined('webfan.gui')&&angular.modules.defined('$frdlProvider')&&angular.modules.defined('$WebfanProvider')){app.run(['$frdl','$Webfan','$rootScope','$location','$state',function($frdl,$Webfan,$rootScope,$location,$state){$rootScope.PROTOCOL=location.protocol;$rootScope.HOST=location.host;$rootScope.LANG=frdl.getLang();$rootScope.$Webfan=$Webfan;$rootScope.$frdl=$frdl;}]);}
if(-1===angular.modules.indexOf(app.name)){angular.modules.push(app.name);}
return app;}else{return orig.apply(null,args);}};})(angular,window);(function(angular,window,undefined){function LibraryFrdlFactory($windowProvider){var $window=$windowProvider.$get();if(!$window.frdl){throw'frdl library missing!';return null;}
this.$get=function(){return $window.frdl;};}
LibraryFrdlFactory.$inject=['$windowProvider'];function LibraryWebfanFactory($windowProvider){var $window=$windowProvider.$get();if(!$window.Webfan){throw'Webfan library missing!';return null;}
this.$get=function(){return $window.Webfan;};}
LibraryWebfanFactory.$inject=['$windowProvider'];angular.module('$frdlProvider',['ng']).provider('$frdl',['$windowProvider',LibraryFrdlFactory]);angular.module('$WebfanProvider',['ng']).provider('$Webfan',['$windowProvider',LibraryWebfanFactory]);angular.module('frdl.prototype.Pathprovider',['ng']).provider('path',['$windowProvider',function($windowProvider){this.$get=function(){return $windowProvider.$get().Webfan.hps.Router.generate;};}]);angular.module('frdl.prototype',['csrf-cross-domain','ngSanitize','ui.router','oc.lazyLoad','$frdlProvider','$WebfanProvider','frdl.prototype.Pathprovider']);angular.module('frdl.prototype.gui',['frdl.prototype']);}(angular,window));}
preLoadAngularWebfan(angular,window);return angular;});
/*! $56 angular-ui-bootstrap/angular-ui-bootstrap */
define('angular-ui-bootstrap/angular-ui-bootstrap',['webfan/bootcache!bootstrap-4/js/bootstrap-bundle','angular-frdl'],function(bootstrap,angular){
/*!
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 2.5.0 - 2017-01-28
 * License: MIT
 */
angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/accordion/accordion-group.html","<div role=\"tab\" id=\"{{::headingId}}\" aria-selected=\"{{isOpen}}\" class=\"panel-heading\" ng-keypress=\"toggleOpen($event)\">\n"+"  <h4 class=\"panel-title\">\n"+"    <a role=\"button\" data-toggle=\"collapse\" href aria-expanded=\"{{isOpen}}\" aria-controls=\"{{::panelId}}\" tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\" ng-disabled=\"isDisabled\" uib-tabindex-toggle><span uib-accordion-header ng-class=\"{'text-muted': isDisabled}\">{{heading}}</span></a>\n"+"  </h4>\n"+"</div>\n"+"<div id=\"{{::panelId}}\" aria-labelledby=\"{{::headingId}}\" aria-hidden=\"{{!isOpen}}\" role=\"tabpanel\" class=\"panel-collapse collapse\" uib-collapse=\"!isOpen\">\n"+"  <div class=\"panel-body\" ng-transclude></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/accordion/accordion.html","<div role=\"tablist\" class=\"panel-group\" ng-transclude></div>");}]);angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/alert/alert.html","<button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close({$event: $event})\">\n"+"  <span aria-hidden=\"true\">&times;</span>\n"+"  <span class=\"sr-only\">Close</span>\n"+"</button>\n"+"<div ng-transclude></div>\n"+"");}]);angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/carousel/carousel.html","<div class=\"carousel-inner\" ng-transclude></div>\n"+"<a role=\"button\" href class=\"left carousel-control\" ng-click=\"prev()\" ng-class=\"{ disabled: isPrevDisabled() }\" ng-show=\"slides.length > 1\">\n"+"  <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></span>\n"+"  <span class=\"sr-only\">previous</span>\n"+"</a>\n"+"<a role=\"button\" href class=\"right carousel-control\" ng-click=\"next()\" ng-class=\"{ disabled: isNextDisabled() }\" ng-show=\"slides.length > 1\">\n"+"  <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></span>\n"+"  <span class=\"sr-only\">next</span>\n"+"</a>\n"+"<ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\n"+"  <li ng-repeat=\"slide in slides | orderBy:indexOfSlide track by $index\" ng-class=\"{ active: isActive(slide) }\" ng-click=\"select(slide)\">\n"+"    <span class=\"sr-only\">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if=\"isActive(slide)\">, currently active</span></span>\n"+"  </li>\n"+"</ol>\n"+"");}]);angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/carousel/slide.html","<div class=\"text-center\" ng-transclude></div>\n"+"");}]);angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/datepicker.html","<div ng-switch=\"datepickerMode\">\n"+"  <div uib-daypicker ng-switch-when=\"day\" tabindex=\"0\" class=\"uib-daypicker\"></div>\n"+"  <div uib-monthpicker ng-switch-when=\"month\" tabindex=\"0\" class=\"uib-monthpicker\"></div>\n"+"  <div uib-yearpicker ng-switch-when=\"year\" tabindex=\"0\" class=\"uib-yearpicker\"></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/day.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\n"+"      <th colspan=\"{{::5 + showWeeks}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></button></th>\n"+"    </tr>\n"+"    <tr>\n"+"      <th ng-if=\"showWeeks\" class=\"text-center\"></th>\n"+"      <th ng-repeat=\"label in ::labels track by $index\" class=\"text-center\"><small aria-label=\"{{::label.full}}\">{{::label.abbr}}</small></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr class=\"uib-weeks\" ng-repeat=\"row in rows track by $index\" role=\"row\">\n"+"      <td ng-if=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\n"+"      <td ng-repeat=\"dt in row\" class=\"uib-day text-center\" role=\"gridcell\"\n"+"        id=\"{{::dt.uid}}\"\n"+"        ng-class=\"::dt.customClass\">\n"+"        <button type=\"button\" class=\"btn btn-default btn-sm\"\n"+"          uib-is-class=\"\n"+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+"            on dt\"\n"+"          ng-click=\"select(dt.date)\"\n"+"          ng-disabled=\"::dt.disabled\"\n"+"          tabindex=\"-1\"><span ng-class=\"::{'text-muted': dt.secondary, 'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"");}]);angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/month.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\n"+"      <th colspan=\"{{::yearHeaderColspan}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></i></button></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr class=\"uib-months\" ng-repeat=\"row in rows track by $index\" role=\"row\">\n"+"      <td ng-repeat=\"dt in row\" class=\"uib-month text-center\" role=\"gridcell\"\n"+"        id=\"{{::dt.uid}}\"\n"+"        ng-class=\"::dt.customClass\">\n"+"        <button type=\"button\" class=\"btn btn-default\"\n"+"          uib-is-class=\"\n"+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+"            on dt\"\n"+"          ng-click=\"select(dt.date)\"\n"+"          ng-disabled=\"::dt.disabled\"\n"+"          tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"");}]);angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepicker/year.html","<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"  <thead>\n"+"    <tr>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></i><span class=\"sr-only\">previous</span></button></th>\n"+"      <th colspan=\"{{::columns - 2}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n"+"      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></i><span class=\"sr-only\">next</span></button></th>\n"+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+"    <tr class=\"uib-years\" ng-repeat=\"row in rows track by $index\" role=\"row\">\n"+"      <td ng-repeat=\"dt in row\" class=\"uib-year text-center\" role=\"gridcell\"\n"+"        id=\"{{::dt.uid}}\"\n"+"        ng-class=\"::dt.customClass\">\n"+"        <button type=\"button\" class=\"btn btn-default\"\n"+"          uib-is-class=\"\n"+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+"            on dt\"\n"+"          ng-click=\"select(dt.date)\"\n"+"          ng-disabled=\"::dt.disabled\"\n"+"          tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"");}]);angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/datepickerPopup/popup.html","<ul role=\"presentation\" class=\"uib-datepicker-popup dropdown-menu uib-position-measure\" dropdown-nested ng-if=\"isOpen\" ng-keydown=\"keydown($event)\" ng-click=\"$event.stopPropagation()\">\n"+"  <li ng-transclude></li>\n"+"  <li ng-if=\"showButtonBar\" class=\"uib-button-bar\">\n"+"    <span class=\"btn-group pull-left\">\n"+"      <button type=\"button\" class=\"btn btn-sm btn-info uib-datepicker-current\" ng-click=\"select('today', $event)\" ng-disabled=\"isDisabled('today')\">{{ getText('current') }}</button>\n"+"      <button type=\"button\" class=\"btn btn-sm btn-danger uib-clear\" ng-click=\"select(null, $event)\">{{ getText('clear') }}</button>\n"+"    </span>\n"+"    <button type=\"button\" class=\"btn btn-sm btn-success pull-right uib-close\" ng-click=\"close($event)\">{{ getText('close') }}</button>\n"+"  </li>\n"+"</ul>\n"+"");}]);angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n"+"");}]);angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pager/pager.html","<li ng-class=\"{disabled: noPrevious()||ngDisabled, previous: align}\"><a href ng-click=\"selectPage(page - 1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText('previous')}}</a></li>\n"+"<li ng-class=\"{disabled: noNext()||ngDisabled, next: align}\"><a href ng-click=\"selectPage(page + 1, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText('next')}}</a></li>\n"+"");}]);angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/pagination/pagination.html","<li role=\"menuitem\" ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"selectPage(1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText('first')}}</a></li>\n"+"<li role=\"menuitem\" ng-if=\"::directionLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"selectPage(page - 1, $event)\" ng-disabled=\"noPrevious()||ngDisabled\" uib-tabindex-toggle>{{::getText('previous')}}</a></li>\n"+"<li role=\"menuitem\" ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active,disabled: ngDisabled&&!page.active}\" class=\"pagination-page\"><a href ng-click=\"selectPage(page.number, $event)\" ng-disabled=\"ngDisabled&&!page.active\" uib-tabindex-toggle>{{page.text}}</a></li>\n"+"<li role=\"menuitem\" ng-if=\"::directionLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"selectPage(page + 1, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText('next')}}</a></li>\n"+"<li role=\"menuitem\" ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"selectPage(totalPages, $event)\" ng-disabled=\"noNext()||ngDisabled\" uib-tabindex-toggle>{{::getText('last')}}</a></li>\n"+"");}]);angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-html-popup.html","<div class=\"tooltip-arrow\"></div>\n"+"<div class=\"tooltip-inner\" ng-bind-html=\"contentExp()\"></div>\n"+"");}]);angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-popup.html","<div class=\"tooltip-arrow\"></div>\n"+"<div class=\"tooltip-inner\" ng-bind=\"content\"></div>\n"+"");}]);angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tooltip/tooltip-template-popup.html","<div class=\"tooltip-arrow\"></div>\n"+"<div class=\"tooltip-inner\"\n"+"  uib-tooltip-template-transclude=\"contentExp()\"\n"+"  tooltip-template-transclude-scope=\"originScope()\"></div>\n"+"");}]);angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-html.html","<div class=\"arrow\"></div>\n"+"\n"+"<div class=\"popover-inner\">\n"+"    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n"+"    <div class=\"popover-content\" ng-bind-html=\"contentExp()\"></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover-template.html","<div class=\"arrow\"></div>\n"+"\n"+"<div class=\"popover-inner\">\n"+"    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n"+"    <div class=\"popover-content\"\n"+"      uib-tooltip-template-transclude=\"contentExp()\"\n"+"      tooltip-template-transclude-scope=\"originScope()\"></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/popover/popover.html","<div class=\"arrow\"></div>\n"+"\n"+"<div class=\"popover-inner\">\n"+"    <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n"+"    <div class=\"popover-content\" ng-bind=\"content\"></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/bar.html","<div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\n"+"");}]);angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/progress.html","<div class=\"progress\" ng-transclude aria-labelledby=\"{{::title}}\"></div>");}]);angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/progressbar/progressbar.html","<div class=\"progress\">\n"+"  <div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\n"+"</div>\n"+"");}]);angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/rating/rating.html","<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\" aria-valuetext=\"{{title}}\">\n"+"    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n"+"    <i ng-repeat-end ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')\" ng-attr-title=\"{{r.title}}\"></i>\n"+"</span>\n"+"");}]);angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tabs/tab.html","<li ng-class=\"[{active: active, disabled: disabled}, classes]\" class=\"uib-tab nav-item\">\n"+"  <a href ng-click=\"select($event)\" class=\"nav-link\" uib-tab-heading-transclude>{{heading}}</a>\n"+"</li>\n"+"");}]);angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/tabs/tabset.html","<div>\n"+"  <ul class=\"nav nav-{{tabset.type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n"+"  <div class=\"tab-content\">\n"+"    <div class=\"tab-pane\"\n"+"         ng-repeat=\"tab in tabset.tabs\"\n"+"         ng-class=\"{active: tabset.active === tab.index}\"\n"+"         uib-tab-content-transclude=\"tab\">\n"+"    </div>\n"+"  </div>\n"+"</div>\n"+"");}]);angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/timepicker/timepicker.html","<table class=\"uib-timepicker\">\n"+"  <tbody>\n"+"    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n"+"      <td class=\"uib-increment hours\"><a ng-click=\"incrementHours()\" ng-class=\"{disabled: noIncrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementHours()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"      <td>&nbsp;</td>\n"+"      <td class=\"uib-increment minutes\"><a ng-click=\"incrementMinutes()\" ng-class=\"{disabled: noIncrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementMinutes()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"      <td ng-show=\"showSeconds\">&nbsp;</td>\n"+"      <td ng-show=\"showSeconds\" class=\"uib-increment seconds\"><a ng-click=\"incrementSeconds()\" ng-class=\"{disabled: noIncrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementSeconds()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"      <td ng-show=\"showMeridian\"></td>\n"+"    </tr>\n"+"    <tr>\n"+"      <td class=\"form-group uib-time hours\" ng-class=\"{'has-error': invalidHours}\">\n"+"        <input type=\"text\" placeholder=\"HH\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementHours()\" ng-blur=\"blur()\">\n"+"      </td>\n"+"      <td class=\"uib-separator\">:</td>\n"+"      <td class=\"form-group uib-time minutes\" ng-class=\"{'has-error': invalidMinutes}\">\n"+"        <input type=\"text\" placeholder=\"MM\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementMinutes()\" ng-blur=\"blur()\">\n"+"      </td>\n"+"      <td ng-show=\"showSeconds\" class=\"uib-separator\">:</td>\n"+"      <td class=\"form-group uib-time seconds\" ng-class=\"{'has-error': invalidSeconds}\" ng-show=\"showSeconds\">\n"+"        <input type=\"text\" placeholder=\"SS\" ng-model=\"seconds\" ng-change=\"updateSeconds()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementSeconds()\" ng-blur=\"blur()\">\n"+"      </td>\n"+"      <td ng-show=\"showMeridian\" class=\"uib-time am-pm\"><button type=\"button\" ng-class=\"{disabled: noToggleMeridian()}\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\" ng-disabled=\"noToggleMeridian()\" tabindex=\"{{::tabindex}}\">{{meridian}}</button></td>\n"+"    </tr>\n"+"    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n"+"      <td class=\"uib-decrement hours\"><a ng-click=\"decrementHours()\" ng-class=\"{disabled: noDecrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementHours()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"      <td>&nbsp;</td>\n"+"      <td class=\"uib-decrement minutes\"><a ng-click=\"decrementMinutes()\" ng-class=\"{disabled: noDecrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementMinutes()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"      <td ng-show=\"showSeconds\">&nbsp;</td>\n"+"      <td ng-show=\"showSeconds\" class=\"uib-decrement seconds\"><a ng-click=\"decrementSeconds()\" ng-class=\"{disabled: noDecrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementSeconds()\" tabindex=\"-1\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"      <td ng-show=\"showMeridian\"></td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"");}]);angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/typeahead/typeahead-match.html","<a href\n"+"   tabindex=\"-1\"\n"+"   ng-bind-html=\"match.label | uibTypeaheadHighlight:query\"\n"+"   ng-attr-title=\"{{match.label}}\"></a>\n"+"");}]);angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("uib/template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-show=\"isOpen() && !moveInProgress\" ng-style=\"{top: position().top+'px', left: position().left+'px'}\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\n"+"    <li class=\"uib-typeahead-match\" ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index, $event)\" role=\"option\" id=\"{{::match.id}}\">\n"+"        <div uib-typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\n"+"    </li>\n"+"</ul>\n"+"");}]);angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]);angular.module('ui.bootstrap.collapse',[]).directive('uibCollapse',['$animate','$q','$parse','$injector',function($animate,$q,$parse,$injector){var $animateCss=$injector.has('$animateCss')?$injector.get('$animateCss'):null;return{link:function(scope,element,attrs){var expandingExpr=$parse(attrs.expanding),expandedExpr=$parse(attrs.expanded),collapsingExpr=$parse(attrs.collapsing),collapsedExpr=$parse(attrs.collapsed),horizontal=false,css={},cssTo={};init();function init(){horizontal=!!('horizontal'in attrs);if(horizontal){css={width:''};cssTo={width:'0'};}else{css={height:''};cssTo={height:'0'};}
if(!scope.$eval(attrs.uibCollapse)){element.addClass('in').addClass('collapse').attr('aria-expanded',true).attr('aria-hidden',false).css(css);}}
function getScrollFromElement(element){if(horizontal){return{width:element.scrollWidth+'px'};}
return{height:element.scrollHeight+'px'};}
function expand(){if(element.hasClass('collapse')&&element.hasClass('in')){return;}
$q.resolve(expandingExpr(scope)).then(function(){element.removeClass('collapse').addClass('collapsing').attr('aria-expanded',true).attr('aria-hidden',false);if($animateCss){$animateCss(element,{addClass:'in',easing:'ease',css:{overflow:'hidden'},to:getScrollFromElement(element[0])}).start()['finally'](expandDone);}else{$animate.addClass(element,'in',{css:{overflow:'hidden'},to:getScrollFromElement(element[0])}).then(expandDone);}},angular.noop);}
function expandDone(){element.removeClass('collapsing').addClass('collapse').css(css);expandedExpr(scope);}
function collapse(){if(!element.hasClass('collapse')&&!element.hasClass('in')){return collapseDone();}
$q.resolve(collapsingExpr(scope)).then(function(){element.css(getScrollFromElement(element[0])).removeClass('collapse').addClass('collapsing').attr('aria-expanded',false).attr('aria-hidden',true);if($animateCss){$animateCss(element,{removeClass:'in',to:cssTo}).start()['finally'](collapseDone);}else{$animate.removeClass(element,'in',{to:cssTo}).then(collapseDone);}},angular.noop);}
function collapseDone(){element.css(cssTo);element.removeClass('collapsing').addClass('collapse');collapsedExpr(scope);}
scope.$watch(attrs.uibCollapse,function(shouldCollapse){if(shouldCollapse){collapse();}else{expand();}});}};}]);angular.module('ui.bootstrap.tabindex',[]).directive('uibTabindexToggle',function(){return{restrict:'A',link:function(scope,elem,attrs){attrs.$observe('disabled',function(disabled){attrs.$set('tabindex',disabled?-1:null);});}};});angular.module('ui.bootstrap.accordion',['ui.bootstrap.collapse','ui.bootstrap.tabindex']).constant('uibAccordionConfig',{closeOthers:true}).controller('UibAccordionController',['$scope','$attrs','uibAccordionConfig',function($scope,$attrs,accordionConfig){this.groups=[];this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;if(closeOthers){angular.forEach(this.groups,function(group){if(group!==openGroup){group.isOpen=false;}});}};this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope);groupScope.$on('$destroy',function(event){that.removeGroup(groupScope);});};this.removeGroup=function(group){var index=this.groups.indexOf(group);if(index!==-1){this.groups.splice(index,1);}};}]).directive('uibAccordion',function(){return{controller:'UibAccordionController',controllerAs:'accordion',transclude:true,templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/accordion/accordion.html';}};}).directive('uibAccordionGroup',function(){return{require:'^uibAccordion',transclude:true,restrict:'A',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/accordion/accordion-group.html';},scope:{heading:'@',panelClass:'@?',isOpen:'=?',isDisabled:'=?'},controller:function(){this.setHeading=function(element){this.heading=element;};},link:function(scope,element,attrs,accordionCtrl){element.addClass('panel');accordionCtrl.addGroup(scope);scope.openClass=attrs.openClass||'panel-open';scope.panelClass=attrs.panelClass||'panel-default';scope.$watch('isOpen',function(value){element.toggleClass(scope.openClass,!!value);if(value){accordionCtrl.closeOthers(scope);}});scope.toggleOpen=function($event){if(!scope.isDisabled){if(!$event||$event.which===32){scope.isOpen=!scope.isOpen;}}};var id='accordiongroup-'+scope.$id+'-'+Math.floor(Math.random()*10000);scope.headingId=id+'-tab';scope.panelId=id+'-panel';}};}).directive('uibAccordionHeading',function(){return{transclude:true,template:'',replace:true,require:'^uibAccordionGroup',link:function(scope,element,attrs,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,angular.noop));}};}).directive('uibAccordionTransclude',function(){return{require:'^uibAccordionGroup',link:function(scope,element,attrs,controller){scope.$watch(function(){return controller[attrs.uibAccordionTransclude];},function(heading){if(heading){var elem=angular.element(element[0].querySelector(getHeaderSelectors()));elem.html('');elem.append(heading);}});}};function getHeaderSelectors(){return'uib-accordion-header,'+'data-uib-accordion-header,'+'x-uib-accordion-header,'+'uib\\:accordion-header,'+'[uib-accordion-header],'+'[data-uib-accordion-header],'+'[x-uib-accordion-header]';}});angular.module('ui.bootstrap.alert',[]).controller('UibAlertController',['$scope','$element','$attrs','$interpolate','$timeout',function($scope,$element,$attrs,$interpolate,$timeout){$scope.closeable=!!$attrs.close;$element.addClass('alert');$attrs.$set('role','alert');if($scope.closeable){$element.addClass('alert-dismissible');}
var dismissOnTimeout=angular.isDefined($attrs.dismissOnTimeout)?$interpolate($attrs.dismissOnTimeout)($scope.$parent):null;if(dismissOnTimeout){$timeout(function(){$scope.close();},parseInt(dismissOnTimeout,10));}}]).directive('uibAlert',function(){return{controller:'UibAlertController',controllerAs:'alert',restrict:'A',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/alert/alert.html';},transclude:true,scope:{close:'&'}};});angular.module('ui.bootstrap.buttons',[]).constant('uibButtonConfig',{activeClass:'active',toggleEvent:'click'}).controller('UibButtonsController',['uibButtonConfig',function(buttonConfig){this.activeClass=buttonConfig.activeClass||'active';this.toggleEvent=buttonConfig.toggleEvent||'click';}]).directive('uibBtnRadio',['$parse',function($parse){return{require:['uibBtnRadio','ngModel'],controller:'UibButtonsController',controllerAs:'buttons',link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];var uncheckableExpr=$parse(attrs.uibUncheckable);element.find('input').css({display:'none'});ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.uibBtnRadio)));};element.on(buttonsCtrl.toggleEvent,function(){if(attrs.disabled){return;}
var isActive=element.hasClass(buttonsCtrl.activeClass);if(!isActive||angular.isDefined(attrs.uncheckable)){scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.uibBtnRadio));ngModelCtrl.$render();});}});if(attrs.uibUncheckable){scope.$watch(uncheckableExpr,function(uncheckable){attrs.$set('uncheckable',uncheckable?'':undefined);});}}};}]).directive('uibBtnCheckbox',function(){return{require:['uibBtnCheckbox','ngModel'],controller:'UibButtonsController',controllerAs:'button',link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];element.find('input').css({display:'none'});function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,true);}
function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,false);}
function getCheckboxValue(attribute,defaultValue){return angular.isDefined(attribute)?scope.$eval(attribute):defaultValue;}
ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()));};element.on(buttonsCtrl.toggleEvent,function(){if(attrs.disabled){return;}
scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue());ngModelCtrl.$render();});});}};});angular.module('ui.bootstrap.carousel',[]).controller('UibCarouselController',['$scope','$element','$interval','$timeout','$animate',function($scope,$element,$interval,$timeout,$animate){var self=this,slides=self.slides=$scope.slides=[],SLIDE_DIRECTION='uib-slideDirection',currentIndex=$scope.active,currentInterval,isPlaying;var destroyed=false;$element.addClass('carousel');self.addSlide=function(slide,element){slides.push({slide:slide,element:element});slides.sort(function(a,b){return+a.slide.index-+b.slide.index;});if(slide.index===$scope.active||slides.length===1&&!angular.isNumber($scope.active)){if($scope.$currentTransition){$scope.$currentTransition=null;}
currentIndex=slide.index;$scope.active=slide.index;setActive(currentIndex);self.select(slides[findSlideIndex(slide)]);if(slides.length===1){$scope.play();}}};self.getCurrentIndex=function(){for(var i=0;i<slides.length;i++){if(slides[i].slide.index===currentIndex){return i;}}};self.next=$scope.next=function(){var newIndex=(self.getCurrentIndex()+1)%slides.length;if(newIndex===0&&$scope.noWrap()){$scope.pause();return;}
return self.select(slides[newIndex],'next');};self.prev=$scope.prev=function(){var newIndex=self.getCurrentIndex()-1<0?slides.length-1:self.getCurrentIndex()-1;if($scope.noWrap()&&newIndex===slides.length-1){$scope.pause();return;}
return self.select(slides[newIndex],'prev');};self.removeSlide=function(slide){var index=findSlideIndex(slide);slides.splice(index,1);if(slides.length>0&&currentIndex===index){if(index>=slides.length){currentIndex=slides.length-1;$scope.active=currentIndex;setActive(currentIndex);self.select(slides[slides.length-1]);}else{currentIndex=index;$scope.active=currentIndex;setActive(currentIndex);self.select(slides[index]);}}else if(currentIndex>index){currentIndex--;$scope.active=currentIndex;}
if(slides.length===0){currentIndex=null;$scope.active=null;}};self.select=$scope.select=function(nextSlide,direction){var nextIndex=findSlideIndex(nextSlide.slide);if(direction===undefined){direction=nextIndex>self.getCurrentIndex()?'next':'prev';}
if(nextSlide.slide.index!==currentIndex&&!$scope.$currentTransition){goNext(nextSlide.slide,nextIndex,direction);}};$scope.indexOfSlide=function(slide){return+slide.slide.index;};$scope.isActive=function(slide){return $scope.active===slide.slide.index;};$scope.isPrevDisabled=function(){return $scope.active===0&&$scope.noWrap();};$scope.isNextDisabled=function(){return $scope.active===slides.length-1&&$scope.noWrap();};$scope.pause=function(){if(!$scope.noPause){isPlaying=false;resetTimer();}};$scope.play=function(){if(!isPlaying){isPlaying=true;restartTimer();}};$element.on('mouseenter',$scope.pause);$element.on('mouseleave',$scope.play);$scope.$on('$destroy',function(){destroyed=true;resetTimer();});$scope.$watch('noTransition',function(noTransition){$animate.enabled($element,!noTransition);});$scope.$watch('interval',restartTimer);$scope.$watchCollection('slides',resetTransition);$scope.$watch('active',function(index){if(angular.isNumber(index)&&currentIndex!==index){for(var i=0;i<slides.length;i++){if(slides[i].slide.index===index){index=i;break;}}
var slide=slides[index];if(slide){setActive(index);self.select(slides[index]);currentIndex=index;}}});function getSlideByIndex(index){for(var i=0,l=slides.length;i<l;++i){if(slides[i].index===index){return slides[i];}}}
function setActive(index){for(var i=0;i<slides.length;i++){slides[i].slide.active=i===index;}}
function goNext(slide,index,direction){if(destroyed){return;}
angular.extend(slide,{direction:direction});angular.extend(slides[currentIndex].slide||{},{direction:direction});if($animate.enabled($element)&&!$scope.$currentTransition&&slides[index].element&&self.slides.length>1){slides[index].element.data(SLIDE_DIRECTION,slide.direction);var currentIdx=self.getCurrentIndex();if(angular.isNumber(currentIdx)&&slides[currentIdx].element){slides[currentIdx].element.data(SLIDE_DIRECTION,slide.direction);}
$scope.$currentTransition=true;$animate.on('addClass',slides[index].element,function(element,phase){if(phase==='close'){$scope.$currentTransition=null;$animate.off('addClass',element);}});}
$scope.active=slide.index;currentIndex=slide.index;setActive(index);restartTimer();}
function findSlideIndex(slide){for(var i=0;i<slides.length;i++){if(slides[i].slide===slide){return i;}}}
function resetTimer(){if(currentInterval){$interval.cancel(currentInterval);currentInterval=null;}}
function resetTransition(slides){if(!slides.length){$scope.$currentTransition=null;}}
function restartTimer(){resetTimer();var interval=+$scope.interval;if(!isNaN(interval)&&interval>0){currentInterval=$interval(timerFn,interval);}}
function timerFn(){var interval=+$scope.interval;if(isPlaying&&!isNaN(interval)&&interval>0&&slides.length){$scope.next();}else{$scope.pause();}}}]).directive('uibCarousel',function(){return{transclude:true,controller:'UibCarouselController',controllerAs:'carousel',restrict:'A',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/carousel/carousel.html';},scope:{active:'=',interval:'=',noTransition:'=',noPause:'=',noWrap:'&'}};}).directive('uibSlide',['$animate',function($animate){return{require:'^uibCarousel',restrict:'A',transclude:true,templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/carousel/slide.html';},scope:{actual:'=?',index:'=?'},link:function(scope,element,attrs,carouselCtrl){element.addClass('item');carouselCtrl.addSlide(scope,element);scope.$on('$destroy',function(){carouselCtrl.removeSlide(scope);});scope.$watch('active',function(active){$animate[active?'addClass':'removeClass'](element,'active');});}};}]).animation('.item',['$animateCss',function($animateCss){var SLIDE_DIRECTION='uib-slideDirection';function removeClass(element,className,callback){element.removeClass(className);if(callback){callback();}}
return{beforeAddClass:function(element,className,done){if(className==='active'){var stopped=false;var direction=element.data(SLIDE_DIRECTION);var directionClass=direction==='next'?'left':'right';var removeClassFn=removeClass.bind(this,element,directionClass+' '+direction,done);element.addClass(direction);$animateCss(element,{addClass:directionClass}).start().done(removeClassFn);return function(){stopped=true;};}
done();},beforeRemoveClass:function(element,className,done){if(className==='active'){var stopped=false;var direction=element.data(SLIDE_DIRECTION);var directionClass=direction==='next'?'left':'right';var removeClassFn=removeClass.bind(this,element,directionClass,done);$animateCss(element,{addClass:directionClass}).start().done(removeClassFn);return function(){stopped=true;};}
done();}};}]);angular.module('ui.bootstrap.dateparser',[]).service('uibDateParser',['$log','$locale','dateFilter','orderByFilter','filterFilter',function($log,$locale,dateFilter,orderByFilter,filterFilter){var SPECIAL_CHARACTERS_REGEXP=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var localeId;var formatCodeToRegex;this.init=function(){localeId=$locale.id;this.parsers={};this.formatters={};formatCodeToRegex=[{key:'yyyy',regex:'\\d{4}',apply:function(value){this.year=+value;},formatter:function(date){var _date=new Date();_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,'yyyy');}},{key:'yy',regex:'\\d{2}',apply:function(value){value=+value;this.year=value<69?value+2000:value+1900;},formatter:function(date){var _date=new Date();_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,'yy');}},{key:'y',regex:'\\d{1,4}',apply:function(value){this.year=+value;},formatter:function(date){var _date=new Date();_date.setFullYear(Math.abs(date.getFullYear()));return dateFilter(_date,'y');}},{key:'M!',regex:'0?[1-9]|1[0-2]',apply:function(value){this.month=value-1;},formatter:function(date){var value=date.getMonth();if(/^[0-9]$/.test(value)){return dateFilter(date,'MM');}
return dateFilter(date,'M');}},{key:'MMMM',regex:$locale.DATETIME_FORMATS.MONTH.join('|'),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value);},formatter:function(date){return dateFilter(date,'MMMM');}},{key:'MMM',regex:$locale.DATETIME_FORMATS.SHORTMONTH.join('|'),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value);},formatter:function(date){return dateFilter(date,'MMM');}},{key:'MM',regex:'0[1-9]|1[0-2]',apply:function(value){this.month=value-1;},formatter:function(date){return dateFilter(date,'MM');}},{key:'M',regex:'[1-9]|1[0-2]',apply:function(value){this.month=value-1;},formatter:function(date){return dateFilter(date,'M');}},{key:'d!',regex:'[0-2]?[0-9]{1}|3[0-1]{1}',apply:function(value){this.date=+value;},formatter:function(date){var value=date.getDate();if(/^[1-9]$/.test(value)){return dateFilter(date,'dd');}
return dateFilter(date,'d');}},{key:'dd',regex:'[0-2][0-9]{1}|3[0-1]{1}',apply:function(value){this.date=+value;},formatter:function(date){return dateFilter(date,'dd');}},{key:'d',regex:'[1-2]?[0-9]{1}|3[0-1]{1}',apply:function(value){this.date=+value;},formatter:function(date){return dateFilter(date,'d');}},{key:'EEEE',regex:$locale.DATETIME_FORMATS.DAY.join('|'),formatter:function(date){return dateFilter(date,'EEEE');}},{key:'EEE',regex:$locale.DATETIME_FORMATS.SHORTDAY.join('|'),formatter:function(date){return dateFilter(date,'EEE');}},{key:'HH',regex:'(?:0|1)[0-9]|2[0-3]',apply:function(value){this.hours=+value;},formatter:function(date){return dateFilter(date,'HH');}},{key:'hh',regex:'0[0-9]|1[0-2]',apply:function(value){this.hours=+value;},formatter:function(date){return dateFilter(date,'hh');}},{key:'H',regex:'1?[0-9]|2[0-3]',apply:function(value){this.hours=+value;},formatter:function(date){return dateFilter(date,'H');}},{key:'h',regex:'[0-9]|1[0-2]',apply:function(value){this.hours=+value;},formatter:function(date){return dateFilter(date,'h');}},{key:'mm',regex:'[0-5][0-9]',apply:function(value){this.minutes=+value;},formatter:function(date){return dateFilter(date,'mm');}},{key:'m',regex:'[0-9]|[1-5][0-9]',apply:function(value){this.minutes=+value;},formatter:function(date){return dateFilter(date,'m');}},{key:'sss',regex:'[0-9][0-9][0-9]',apply:function(value){this.milliseconds=+value;},formatter:function(date){return dateFilter(date,'sss');}},{key:'ss',regex:'[0-5][0-9]',apply:function(value){this.seconds=+value;},formatter:function(date){return dateFilter(date,'ss');}},{key:'s',regex:'[0-9]|[1-5][0-9]',apply:function(value){this.seconds=+value;},formatter:function(date){return dateFilter(date,'s');}},{key:'a',regex:$locale.DATETIME_FORMATS.AMPMS.join('|'),apply:function(value){if(this.hours===12){this.hours=0;}
if(value==='PM'){this.hours+=12;}},formatter:function(date){return dateFilter(date,'a');}},{key:'Z',regex:'[+-]\\d{4}',apply:function(value){var matches=value.match(/([+-])(\d{2})(\d{2})/),sign=matches[1],hours=matches[2],minutes=matches[3];this.hours+=toInt(sign+hours);this.minutes+=toInt(sign+minutes);},formatter:function(date){return dateFilter(date,'Z');}},{key:'ww',regex:'[0-4][0-9]|5[0-3]',formatter:function(date){return dateFilter(date,'ww');}},{key:'w',regex:'[0-9]|[1-4][0-9]|5[0-3]',formatter:function(date){return dateFilter(date,'w');}},{key:'GGGG',regex:$locale.DATETIME_FORMATS.ERANAMES.join('|').replace(/\s/g,'\\s'),formatter:function(date){return dateFilter(date,'GGGG');}},{key:'GGG',regex:$locale.DATETIME_FORMATS.ERAS.join('|'),formatter:function(date){return dateFilter(date,'GGG');}},{key:'GG',regex:$locale.DATETIME_FORMATS.ERAS.join('|'),formatter:function(date){return dateFilter(date,'GG');}},{key:'G',regex:$locale.DATETIME_FORMATS.ERAS.join('|'),formatter:function(date){return dateFilter(date,'G');}}];if(angular.version.major>=1&&angular.version.minor>4){formatCodeToRegex.push({key:'LLLL',regex:$locale.DATETIME_FORMATS.STANDALONEMONTH.join('|'),apply:function(value){this.month=$locale.DATETIME_FORMATS.STANDALONEMONTH.indexOf(value);},formatter:function(date){return dateFilter(date,'LLLL');}});}};this.init();function getFormatCodeToRegex(key){return filterFilter(formatCodeToRegex,{key:key},true)[0];}
this.getParser=function(key){var f=getFormatCodeToRegex(key);return f&&f.apply||null;};this.overrideParser=function(key,parser){var f=getFormatCodeToRegex(key);if(f&&angular.isFunction(parser)){this.parsers={};f.apply=parser;}}.bind(this);function createParser(format){var map=[],regex=format.split('');var quoteIndex=format.indexOf('\'');if(quoteIndex>-1){var inLiteral=false;format=format.split('');for(var i=quoteIndex;i<format.length;i++){if(inLiteral){if(format[i]==='\''){if(i+1<format.length&&format[i+1]==='\''){format[i+1]='$';regex[i+1]='';}else{regex[i]='';inLiteral=false;}}
format[i]='$';}else{if(format[i]==='\''){format[i]='$';regex[i]='';inLiteral=true;}}}
format=format.join('');}
angular.forEach(formatCodeToRegex,function(data){var index=format.indexOf(data.key);if(index>-1){format=format.split('');regex[index]='('+data.regex+')';format[index]='$';for(var i=index+1,n=index+data.key.length;i<n;i++){regex[i]='';format[i]='$';}
format=format.join('');map.push({index:index,key:data.key,apply:data.apply,matcher:data.regex});}});return{regex:new RegExp('^'+regex.join('')+'$'),map:orderByFilter(map,'index')};}
function createFormatter(format){var formatters=[];var i=0;var formatter,literalIdx;while(i<format.length){if(angular.isNumber(literalIdx)){if(format.charAt(i)==='\''){if(i+1>=format.length||format.charAt(i+1)!=='\''){formatters.push(constructLiteralFormatter(format,literalIdx,i));literalIdx=null;}}else if(i===format.length){while(literalIdx<format.length){formatter=constructFormatterFromIdx(format,literalIdx);formatters.push(formatter);literalIdx=formatter.endIdx;}}
i++;continue;}
if(format.charAt(i)==='\''){literalIdx=i;i++;continue;}
formatter=constructFormatterFromIdx(format,i);formatters.push(formatter.parser);i=formatter.endIdx;}
return formatters;}
function constructLiteralFormatter(format,literalIdx,endIdx){return function(){return format.substr(literalIdx+1,endIdx-literalIdx-1);};}
function constructFormatterFromIdx(format,i){var currentPosStr=format.substr(i);for(var j=0;j<formatCodeToRegex.length;j++){if(new RegExp('^'+formatCodeToRegex[j].key).test(currentPosStr)){var data=formatCodeToRegex[j];return{endIdx:i+data.key.length,parser:data.formatter};}}
return{endIdx:i+1,parser:function(){return currentPosStr.charAt(0);}};}
this.filter=function(date,format){if(!angular.isDate(date)||isNaN(date)||!format){return'';}
format=$locale.DATETIME_FORMATS[format]||format;if($locale.id!==localeId){this.init();}
if(!this.formatters[format]){this.formatters[format]=createFormatter(format);}
var formatters=this.formatters[format];return formatters.reduce(function(str,formatter){return str+formatter(date);},'');};this.parse=function(input,format,baseDate){if(!angular.isString(input)||!format){return input;}
format=$locale.DATETIME_FORMATS[format]||format;format=format.replace(SPECIAL_CHARACTERS_REGEXP,'\\$&');if($locale.id!==localeId){this.init();}
if(!this.parsers[format]){this.parsers[format]=createParser(format,'apply');}
var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex),tzOffset=false;if(results&&results.length){var fields,dt;if(angular.isDate(baseDate)&&!isNaN(baseDate.getTime())){fields={year:baseDate.getFullYear(),month:baseDate.getMonth(),date:baseDate.getDate(),hours:baseDate.getHours(),minutes:baseDate.getMinutes(),seconds:baseDate.getSeconds(),milliseconds:baseDate.getMilliseconds()};}else{if(baseDate){$log.warn('dateparser:','baseDate is not a valid date');}
fields={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};}
for(var i=1,n=results.length;i<n;i++){var mapper=map[i-1];if(mapper.matcher==='Z'){tzOffset=true;}
if(mapper.apply){mapper.apply.call(fields,results[i]);}}
var datesetter=tzOffset?Date.prototype.setUTCFullYear:Date.prototype.setFullYear;var timesetter=tzOffset?Date.prototype.setUTCHours:Date.prototype.setHours;if(isValid(fields.year,fields.month,fields.date)){if(angular.isDate(baseDate)&&!isNaN(baseDate.getTime())&&!tzOffset){dt=new Date(baseDate);datesetter.call(dt,fields.year,fields.month,fields.date);timesetter.call(dt,fields.hours,fields.minutes,fields.seconds,fields.milliseconds);}else{dt=new Date(0);datesetter.call(dt,fields.year,fields.month,fields.date);timesetter.call(dt,fields.hours||0,fields.minutes||0,fields.seconds||0,fields.milliseconds||0);}}
return dt;}};function isValid(year,month,date){if(date<1){return false;}
if(month===1&&date>28){return date===29&&(year%4===0&&year%100!==0||year%400===0);}
if(month===3||month===5||month===8||month===10){return date<31;}
return true;}
function toInt(str){return parseInt(str,10);}
this.toTimezone=toTimezone;this.fromTimezone=fromTimezone;this.timezoneToOffset=timezoneToOffset;this.addDateMinutes=addDateMinutes;this.convertTimezoneToLocal=convertTimezoneToLocal;function toTimezone(date,timezone){return date&&timezone?convertTimezoneToLocal(date,timezone):date;}
function fromTimezone(date,timezone){return date&&timezone?convertTimezoneToLocal(date,timezone,true):date;}
function timezoneToOffset(timezone,fallback){timezone=timezone.replace(/:/g,'');var requestedTimezoneOffset=Date.parse('Jan 01, 1970 00:00:00 '+timezone)/60000;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset;}
function addDateMinutes(date,minutes){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+minutes);return date;}
function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();var timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset));}}]);angular.module('ui.bootstrap.isClass',[]).directive('uibIsClass',['$animate',function($animate){var ON_REGEXP=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/;var IS_REGEXP=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;var dataPerTracked={};return{restrict:'A',compile:function(tElement,tAttrs){var linkedScopes=[];var instances=[];var expToData={};var lastActivated=null;var onExpMatches=tAttrs.uibIsClass.match(ON_REGEXP);var onExp=onExpMatches[2];var expsStr=onExpMatches[1];var exps=expsStr.split(',');return linkFn;function linkFn(scope,element,attrs){linkedScopes.push(scope);instances.push({scope:scope,element:element});exps.forEach(function(exp,k){addForExp(exp,scope);});scope.$on('$destroy',removeScope);}
function addForExp(exp,scope){var matches=exp.match(IS_REGEXP);var clazz=scope.$eval(matches[1]);var compareWithExp=matches[2];var data=expToData[exp];if(!data){var watchFn=function(compareWithVal){var newActivated=null;instances.some(function(instance){var thisVal=instance.scope.$eval(onExp);if(thisVal===compareWithVal){newActivated=instance;return true;}});if(data.lastActivated!==newActivated){if(data.lastActivated){$animate.removeClass(data.lastActivated.element,clazz);}
if(newActivated){$animate.addClass(newActivated.element,clazz);}
data.lastActivated=newActivated;}};expToData[exp]=data={lastActivated:null,scope:scope,watchFn:watchFn,compareWithExp:compareWithExp,watcher:scope.$watch(compareWithExp,watchFn)};}
data.watchFn(scope.$eval(compareWithExp));}
function removeScope(e){var removedScope=e.targetScope;var index=linkedScopes.indexOf(removedScope);linkedScopes.splice(index,1);instances.splice(index,1);if(linkedScopes.length){var newWatchScope=linkedScopes[0];angular.forEach(expToData,function(data){if(data.scope===removedScope){data.watcher=newWatchScope.$watch(data.compareWithExp,data.watchFn);data.scope=newWatchScope;}});}else{expToData={};}}}};}]);angular.module('ui.bootstrap.datepicker',['ui.bootstrap.dateparser','ui.bootstrap.isClass']).value('$datepickerSuppressError',false).value('$datepickerLiteralWarning',true).constant('uibDatepickerConfig',{datepickerMode:'day',formatDay:'dd',formatMonth:'MMMM',formatYear:'yyyy',formatDayHeader:'EEE',formatDayTitle:'MMMM yyyy',formatMonthTitle:'yyyy',maxDate:null,maxMode:'year',minDate:null,minMode:'day',monthColumns:3,ngModelOptions:{},shortcutPropagation:false,showWeeks:true,yearColumns:5,yearRows:4}).controller('UibDatepickerController',['$scope','$element','$attrs','$parse','$interpolate','$locale','$log','dateFilter','uibDatepickerConfig','$datepickerLiteralWarning','$datepickerSuppressError','uibDateParser',function($scope,$element,$attrs,$parse,$interpolate,$locale,$log,dateFilter,datepickerConfig,$datepickerLiteralWarning,$datepickerSuppressError,dateParser){var self=this,ngModelCtrl={$setViewValue:angular.noop},ngModelOptions={},watchListeners=[];$element.addClass('uib-datepicker');$attrs.$set('role','application');if(!$scope.datepickerOptions){$scope.datepickerOptions={};}
this.modes=['day','month','year'];['customClass','dateDisabled','datepickerMode','formatDay','formatDayHeader','formatDayTitle','formatMonth','formatMonthTitle','formatYear','maxDate','maxMode','minDate','minMode','monthColumns','showWeeks','shortcutPropagation','startingDay','yearColumns','yearRows'].forEach(function(key){switch(key){case'customClass':case'dateDisabled':$scope[key]=$scope.datepickerOptions[key]||angular.noop;break;case'datepickerMode':$scope.datepickerMode=angular.isDefined($scope.datepickerOptions.datepickerMode)?$scope.datepickerOptions.datepickerMode:datepickerConfig.datepickerMode;break;case'formatDay':case'formatDayHeader':case'formatDayTitle':case'formatMonth':case'formatMonthTitle':case'formatYear':self[key]=angular.isDefined($scope.datepickerOptions[key])?$interpolate($scope.datepickerOptions[key])($scope.$parent):datepickerConfig[key];break;case'monthColumns':case'showWeeks':case'shortcutPropagation':case'yearColumns':case'yearRows':self[key]=angular.isDefined($scope.datepickerOptions[key])?$scope.datepickerOptions[key]:datepickerConfig[key];break;case'startingDay':if(angular.isDefined($scope.datepickerOptions.startingDay)){self.startingDay=$scope.datepickerOptions.startingDay;}else if(angular.isNumber(datepickerConfig.startingDay)){self.startingDay=datepickerConfig.startingDay;}else{self.startingDay=($locale.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;}
break;case'maxDate':case'minDate':$scope.$watch('datepickerOptions.'+key,function(value){if(value){if(angular.isDate(value)){self[key]=dateParser.fromTimezone(new Date(value),ngModelOptions.getOption('timezone'));}else{if($datepickerLiteralWarning){$log.warn('Literal date support has been deprecated, please switch to date object usage');}
self[key]=new Date(dateFilter(value,'medium'));}}else{self[key]=datepickerConfig[key]?dateParser.fromTimezone(new Date(datepickerConfig[key]),ngModelOptions.getOption('timezone')):null;}
self.refreshView();});break;case'maxMode':case'minMode':if($scope.datepickerOptions[key]){$scope.$watch(function(){return $scope.datepickerOptions[key];},function(value){self[key]=$scope[key]=angular.isDefined(value)?value:$scope.datepickerOptions[key];if(key==='minMode'&&self.modes.indexOf($scope.datepickerOptions.datepickerMode)<self.modes.indexOf(self[key])||key==='maxMode'&&self.modes.indexOf($scope.datepickerOptions.datepickerMode)>self.modes.indexOf(self[key])){$scope.datepickerMode=self[key];$scope.datepickerOptions.datepickerMode=self[key];}});}else{self[key]=$scope[key]=datepickerConfig[key]||null;}
break;}});$scope.uniqueId='datepicker-'+$scope.$id+'-'+Math.floor(Math.random()*10000);$scope.disabled=angular.isDefined($attrs.disabled)||false;if(angular.isDefined($attrs.ngDisabled)){watchListeners.push($scope.$parent.$watch($attrs.ngDisabled,function(disabled){$scope.disabled=disabled;self.refreshView();}));}
$scope.isActive=function(dateObject){if(self.compare(dateObject.date,self.activeDate)===0){$scope.activeDateId=dateObject.uid;return true;}
return false;};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_;ngModelOptions=extractOptions(ngModelCtrl);if($scope.datepickerOptions.initDate){self.activeDate=dateParser.fromTimezone($scope.datepickerOptions.initDate,ngModelOptions.getOption('timezone'))||new Date();$scope.$watch('datepickerOptions.initDate',function(initDate){if(initDate&&(ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue)||ngModelCtrl.$invalid)){self.activeDate=dateParser.fromTimezone(initDate,ngModelOptions.getOption('timezone'));self.refreshView();}});}else{self.activeDate=new Date();}
var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):new Date();this.activeDate=!isNaN(date)?dateParser.fromTimezone(date,ngModelOptions.getOption('timezone')):dateParser.fromTimezone(new Date(),ngModelOptions.getOption('timezone'));ngModelCtrl.$render=function(){self.render();};};this.render=function(){if(ngModelCtrl.$viewValue){var date=new Date(ngModelCtrl.$viewValue),isValid=!isNaN(date);if(isValid){this.activeDate=dateParser.fromTimezone(date,ngModelOptions.getOption('timezone'));}else if(!$datepickerSuppressError){$log.error('Datepicker directive: "ng-model" value must be a Date object');}}
this.refreshView();};this.refreshView=function(){if(this.element){$scope.selectedDt=null;this._refreshView();if($scope.activeDt){$scope.activeDateId=$scope.activeDt.uid;}
var date=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;date=dateParser.fromTimezone(date,ngModelOptions.getOption('timezone'));ngModelCtrl.$setValidity('dateDisabled',!date||this.element&&!this.isDisabled(date));}};this.createDateObject=function(date,format){var model=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;model=dateParser.fromTimezone(model,ngModelOptions.getOption('timezone'));var today=new Date();today=dateParser.fromTimezone(today,ngModelOptions.getOption('timezone'));var time=this.compare(date,today);var dt={date:date,label:dateParser.filter(date,format),selected:model&&this.compare(date,model)===0,disabled:this.isDisabled(date),past:time<0,current:time===0,future:time>0,customClass:this.customClass(date)||null};if(model&&this.compare(date,model)===0){$scope.selectedDt=dt;}
if(self.activeDate&&this.compare(dt.date,self.activeDate)===0){$scope.activeDt=dt;}
return dt;};this.isDisabled=function(date){return $scope.disabled||this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$scope.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode});};this.customClass=function(date){return $scope.customClass({date:date,mode:$scope.datepickerMode});};this.split=function(arr,size){var arrays=[];while(arr.length>0){arrays.push(arr.splice(0,size));}
return arrays;};$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$viewValue?dateParser.fromTimezone(new Date(ngModelCtrl.$viewValue),ngModelOptions.getOption('timezone')):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());dt=dateParser.toTimezone(dt,ngModelOptions.getOption('timezone'));ngModelCtrl.$setViewValue(dt);ngModelCtrl.$render();}else{self.activeDate=date;setMode(self.modes[self.modes.indexOf($scope.datepickerMode)-1]);$scope.$emit('uib:datepicker.mode');}
$scope.$broadcast('uib:datepicker.focus');};$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1);self.refreshView();};$scope.toggleMode=function(direction){direction=direction||1;if($scope.datepickerMode===self.maxMode&&direction===1||$scope.datepickerMode===self.minMode&&direction===-1){return;}
setMode(self.modes[self.modes.indexOf($scope.datepickerMode)+direction]);$scope.$emit('uib:datepicker.mode');};$scope.keys={13:'enter',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down'};var focusElement=function(){self.element[0].focus();};$scope.$on('uib:datepicker.focus',focusElement);$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(!key||evt.shiftKey||evt.altKey||$scope.disabled){return;}
evt.preventDefault();if(!self.shortcutPropagation){evt.stopPropagation();}
if(key==='enter'||key==='space'){if(self.isDisabled(self.activeDate)){return;}
$scope.select(self.activeDate);}else if(evt.ctrlKey&&(key==='up'||key==='down')){$scope.toggleMode(key==='up'?1:-1);}else{self.handleKeyDown(key,evt);self.refreshView();}};$element.on('keydown',function(evt){$scope.$apply(function(){$scope.keydown(evt);});});$scope.$on('$destroy',function(){while(watchListeners.length){watchListeners.shift()();}});function setMode(mode){$scope.datepickerMode=mode;$scope.datepickerOptions.datepickerMode=mode;}
function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=ngModelCtrl.$options||$scope.datepickerOptions.ngModelOptions||datepickerConfig.ngModelOptions||{};ngModelOptions.getOption=function(key){return ngModelOptions[key];};}else{var timezone=ngModelCtrl.$options.getOption('timezone')||($scope.datepickerOptions.ngModelOptions?$scope.datepickerOptions.ngModelOptions.timezone:null)||(datepickerConfig.ngModelOptions?datepickerConfig.ngModelOptions.timezone:null);ngModelOptions=ngModelCtrl.$options.createChild(datepickerConfig.ngModelOptions).createChild($scope.datepickerOptions.ngModelOptions).createChild(ngModelCtrl.$options).createChild({timezone:timezone});}
return ngModelOptions;}}]).controller('UibDaypickerController',['$scope','$element','dateFilter',function(scope,$element,dateFilter){var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1};this.element=$element;function getDaysInMonth(year,month){return month===1&&year%4===0&&(year%100!==0||year%400===0)?29:DAYS_IN_MONTH[month];}
this.init=function(ctrl){angular.extend(ctrl,this);scope.showWeeks=ctrl.showWeeks;ctrl.refreshView();};this.getDates=function(startDate,n){var dates=new Array(n),current=new Date(startDate),i=0,date;while(i<n){date=new Date(current);dates[i++]=date;current.setDate(current.getDate()+1);}
return dates;};this._refreshView=function(){var year=this.activeDate.getFullYear(),month=this.activeDate.getMonth(),firstDayOfMonth=new Date(this.activeDate);firstDayOfMonth.setFullYear(year,month,1);var difference=this.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);if(numDisplayedFromPreviousMonth>0){firstDate.setDate(-numDisplayedFromPreviousMonth+1);}
var days=this.getDates(firstDate,42);for(var i=0;i<42;i++){days[i]=angular.extend(this.createDateObject(days[i],this.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+'-'+i});}
scope.labels=new Array(7);for(var j=0;j<7;j++){scope.labels[j]={abbr:dateFilter(days[j].date,this.formatDayHeader),full:dateFilter(days[j].date,'EEEE')};}
scope.title=dateFilter(this.activeDate,this.formatDayTitle);scope.rows=this.split(days,7);if(scope.showWeeks){scope.weekNumbers=[];var thursdayIndex=(4+7-this.startingDay)%7,numWeeks=scope.rows.length;for(var curWeek=0;curWeek<numWeeks;curWeek++){scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));}}};this.compare=function(date1,date2){var _date1=new Date(date1.getFullYear(),date1.getMonth(),date1.getDate());var _date2=new Date(date2.getFullYear(),date2.getMonth(),date2.getDate());_date1.setFullYear(date1.getFullYear());_date2.setFullYear(date2.getFullYear());return _date1-_date2;};function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;}
this.handleKeyDown=function(key,evt){var date=this.activeDate.getDate();if(key==='left'){date=date-1;}else if(key==='up'){date=date-7;}else if(key==='right'){date=date+1;}else if(key==='down'){date=date+7;}else if(key==='pageup'||key==='pagedown'){var month=this.activeDate.getMonth()+(key==='pageup'?-1:1);this.activeDate.setMonth(month,1);date=Math.min(getDaysInMonth(this.activeDate.getFullYear(),this.activeDate.getMonth()),date);}else if(key==='home'){date=1;}else if(key==='end'){date=getDaysInMonth(this.activeDate.getFullYear(),this.activeDate.getMonth());}
this.activeDate.setDate(date);};}]).controller('UibMonthpickerController',['$scope','$element','dateFilter',function(scope,$element,dateFilter){this.step={years:1};this.element=$element;this.init=function(ctrl){angular.extend(ctrl,this);ctrl.refreshView();};this._refreshView=function(){var months=new Array(12),year=this.activeDate.getFullYear(),date;for(var i=0;i<12;i++){date=new Date(this.activeDate);date.setFullYear(year,i,1);months[i]=angular.extend(this.createDateObject(date,this.formatMonth),{uid:scope.uniqueId+'-'+i});}
scope.title=dateFilter(this.activeDate,this.formatMonthTitle);scope.rows=this.split(months,this.monthColumns);scope.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1;};this.compare=function(date1,date2){var _date1=new Date(date1.getFullYear(),date1.getMonth());var _date2=new Date(date2.getFullYear(),date2.getMonth());_date1.setFullYear(date1.getFullYear());_date2.setFullYear(date2.getFullYear());return _date1-_date2;};this.handleKeyDown=function(key,evt){var date=this.activeDate.getMonth();if(key==='left'){date=date-1;}else if(key==='up'){date=date-this.monthColumns;}else if(key==='right'){date=date+1;}else if(key==='down'){date=date+this.monthColumns;}else if(key==='pageup'||key==='pagedown'){var year=this.activeDate.getFullYear()+(key==='pageup'?-1:1);this.activeDate.setFullYear(year);}else if(key==='home'){date=0;}else if(key==='end'){date=11;}
this.activeDate.setMonth(date);};}]).controller('UibYearpickerController',['$scope','$element','dateFilter',function(scope,$element,dateFilter){var columns,range;this.element=$element;function getStartingYear(year){return parseInt((year-1)/range,10)*range+1;}
this.yearpickerInit=function(){columns=this.yearColumns;range=this.yearRows*columns;this.step={years:range};};this._refreshView=function(){var years=new Array(range),date;for(var i=0,start=getStartingYear(this.activeDate.getFullYear());i<range;i++){date=new Date(this.activeDate);date.setFullYear(start+i,0,1);years[i]=angular.extend(this.createDateObject(date,this.formatYear),{uid:scope.uniqueId+'-'+i});}
scope.title=[years[0].label,years[range-1].label].join(' - ');scope.rows=this.split(years,columns);scope.columns=columns;};this.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear();};this.handleKeyDown=function(key,evt){var date=this.activeDate.getFullYear();if(key==='left'){date=date-1;}else if(key==='up'){date=date-columns;}else if(key==='right'){date=date+1;}else if(key==='down'){date=date+columns;}else if(key==='pageup'||key==='pagedown'){date+=(key==='pageup'?-1:1)*range;}else if(key==='home'){date=getStartingYear(this.activeDate.getFullYear());}else if(key==='end'){date=getStartingYear(this.activeDate.getFullYear())+range-1;}
this.activeDate.setFullYear(date);};}]).directive('uibDatepicker',function(){return{templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepicker/datepicker.html';},scope:{datepickerOptions:'=?'},require:['uibDatepicker','^ngModel'],restrict:'A',controller:'UibDatepickerController',controllerAs:'datepicker',link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];datepickerCtrl.init(ngModelCtrl);}};}).directive('uibDaypicker',function(){return{templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepicker/day.html';},require:['^uibDatepicker','uibDaypicker'],restrict:'A',controller:'UibDaypickerController',link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],daypickerCtrl=ctrls[1];daypickerCtrl.init(datepickerCtrl);}};}).directive('uibMonthpicker',function(){return{templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepicker/month.html';},require:['^uibDatepicker','uibMonthpicker'],restrict:'A',controller:'UibMonthpickerController',link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],monthpickerCtrl=ctrls[1];monthpickerCtrl.init(datepickerCtrl);}};}).directive('uibYearpicker',function(){return{templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepicker/year.html';},require:['^uibDatepicker','uibYearpicker'],restrict:'A',controller:'UibYearpickerController',link:function(scope,element,attrs,ctrls){var ctrl=ctrls[0];angular.extend(ctrl,ctrls[1]);ctrl.yearpickerInit();ctrl.refreshView();}};});angular.module('ui.bootstrap.position',[]).factory('$uibPosition',['$document','$window',function($document,$window){var SCROLLBAR_WIDTH;var BODY_SCROLLBAR_WIDTH;var OVERFLOW_REGEX={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/};var PLACEMENT_REGEX={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};var BODY_REGEX=/(HTML|BODY)/;return{getRawNode:function(elem){return elem.nodeName?elem:elem[0]||elem;},parseStyle:function(value){value=parseFloat(value);return isFinite(value)?value:0;},offsetParent:function(elem){elem=this.getRawNode(elem);var offsetParent=elem.offsetParent||$document[0].documentElement;function isStaticPositioned(el){return($window.getComputedStyle(el).position||'static')==='static';}
while(offsetParent&&offsetParent!==$document[0].documentElement&&isStaticPositioned(offsetParent)){offsetParent=offsetParent.offsetParent;}
return offsetParent||$document[0].documentElement;},scrollbarWidth:function(isBody){if(isBody){if(angular.isUndefined(BODY_SCROLLBAR_WIDTH)){var bodyElem=$document.find('body');bodyElem.addClass('uib-position-body-scrollbar-measure');BODY_SCROLLBAR_WIDTH=$window.innerWidth-bodyElem[0].clientWidth;BODY_SCROLLBAR_WIDTH=isFinite(BODY_SCROLLBAR_WIDTH)?BODY_SCROLLBAR_WIDTH:0;bodyElem.removeClass('uib-position-body-scrollbar-measure');}
return BODY_SCROLLBAR_WIDTH;}
if(angular.isUndefined(SCROLLBAR_WIDTH)){var scrollElem=angular.element('<div class="uib-position-scrollbar-measure"></div>');$document.find('body').append(scrollElem);SCROLLBAR_WIDTH=scrollElem[0].offsetWidth-scrollElem[0].clientWidth;SCROLLBAR_WIDTH=isFinite(SCROLLBAR_WIDTH)?SCROLLBAR_WIDTH:0;scrollElem.remove();}
return SCROLLBAR_WIDTH;},scrollbarPadding:function(elem){elem=this.getRawNode(elem);var elemStyle=$window.getComputedStyle(elem);var paddingRight=this.parseStyle(elemStyle.paddingRight);var paddingBottom=this.parseStyle(elemStyle.paddingBottom);var scrollParent=this.scrollParent(elem,false,true);var scrollbarWidth=this.scrollbarWidth(BODY_REGEX.test(scrollParent.tagName));return{scrollbarWidth:scrollbarWidth,widthOverflow:scrollParent.scrollWidth>scrollParent.clientWidth,right:paddingRight+scrollbarWidth,originalRight:paddingRight,heightOverflow:scrollParent.scrollHeight>scrollParent.clientHeight,bottom:paddingBottom+scrollbarWidth,originalBottom:paddingBottom};},isScrollable:function(elem,includeHidden){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal;var elemStyle=$window.getComputedStyle(elem);return overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX);},scrollParent:function(elem,includeHidden,includeSelf){elem=this.getRawNode(elem);var overflowRegex=includeHidden?OVERFLOW_REGEX.hidden:OVERFLOW_REGEX.normal;var documentEl=$document[0].documentElement;var elemStyle=$window.getComputedStyle(elem);if(includeSelf&&overflowRegex.test(elemStyle.overflow+elemStyle.overflowY+elemStyle.overflowX)){return elem;}
var excludeStatic=elemStyle.position==='absolute';var scrollParent=elem.parentElement||documentEl;if(scrollParent===documentEl||elemStyle.position==='fixed'){return documentEl;}
while(scrollParent.parentElement&&scrollParent!==documentEl){var spStyle=$window.getComputedStyle(scrollParent);if(excludeStatic&&spStyle.position!=='static'){excludeStatic=false;}
if(!excludeStatic&&overflowRegex.test(spStyle.overflow+spStyle.overflowY+spStyle.overflowX)){break;}
scrollParent=scrollParent.parentElement;}
return scrollParent;},position:function(elem,includeMagins){elem=this.getRawNode(elem);var elemOffset=this.offset(elem);if(includeMagins){var elemStyle=$window.getComputedStyle(elem);elemOffset.top-=this.parseStyle(elemStyle.marginTop);elemOffset.left-=this.parseStyle(elemStyle.marginLeft);}
var parent=this.offsetParent(elem);var parentOffset={top:0,left:0};if(parent!==$document[0].documentElement){parentOffset=this.offset(parent);parentOffset.top+=parent.clientTop-parent.scrollTop;parentOffset.left+=parent.clientLeft-parent.scrollLeft;}
return{width:Math.round(angular.isNumber(elemOffset.width)?elemOffset.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemOffset.height)?elemOffset.height:elem.offsetHeight),top:Math.round(elemOffset.top-parentOffset.top),left:Math.round(elemOffset.left-parentOffset.left)};},offset:function(elem){elem=this.getRawNode(elem);var elemBCR=elem.getBoundingClientRect();return{width:Math.round(angular.isNumber(elemBCR.width)?elemBCR.width:elem.offsetWidth),height:Math.round(angular.isNumber(elemBCR.height)?elemBCR.height:elem.offsetHeight),top:Math.round(elemBCR.top+($window.pageYOffset||$document[0].documentElement.scrollTop)),left:Math.round(elemBCR.left+($window.pageXOffset||$document[0].documentElement.scrollLeft))};},viewportOffset:function(elem,useDocument,includePadding){elem=this.getRawNode(elem);includePadding=includePadding!==false?true:false;var elemBCR=elem.getBoundingClientRect();var offsetBCR={top:0,left:0,bottom:0,right:0};var offsetParent=useDocument?$document[0].documentElement:this.scrollParent(elem);var offsetParentBCR=offsetParent.getBoundingClientRect();offsetBCR.top=offsetParentBCR.top+offsetParent.clientTop;offsetBCR.left=offsetParentBCR.left+offsetParent.clientLeft;if(offsetParent===$document[0].documentElement){offsetBCR.top+=$window.pageYOffset;offsetBCR.left+=$window.pageXOffset;}
offsetBCR.bottom=offsetBCR.top+offsetParent.clientHeight;offsetBCR.right=offsetBCR.left+offsetParent.clientWidth;if(includePadding){var offsetParentStyle=$window.getComputedStyle(offsetParent);offsetBCR.top+=this.parseStyle(offsetParentStyle.paddingTop);offsetBCR.bottom-=this.parseStyle(offsetParentStyle.paddingBottom);offsetBCR.left+=this.parseStyle(offsetParentStyle.paddingLeft);offsetBCR.right-=this.parseStyle(offsetParentStyle.paddingRight);}
return{top:Math.round(elemBCR.top-offsetBCR.top),bottom:Math.round(offsetBCR.bottom-elemBCR.bottom),left:Math.round(elemBCR.left-offsetBCR.left),right:Math.round(offsetBCR.right-elemBCR.right)};},parsePlacement:function(placement){var autoPlace=PLACEMENT_REGEX.auto.test(placement);if(autoPlace){placement=placement.replace(PLACEMENT_REGEX.auto,'');}
placement=placement.split('-');placement[0]=placement[0]||'top';if(!PLACEMENT_REGEX.primary.test(placement[0])){placement[0]='top';}
placement[1]=placement[1]||'center';if(!PLACEMENT_REGEX.secondary.test(placement[1])){placement[1]='center';}
if(autoPlace){placement[2]=true;}else{placement[2]=false;}
return placement;},positionElements:function(hostElem,targetElem,placement,appendToBody){hostElem=this.getRawNode(hostElem);targetElem=this.getRawNode(targetElem);var targetWidth=angular.isDefined(targetElem.offsetWidth)?targetElem.offsetWidth:targetElem.prop('offsetWidth');var targetHeight=angular.isDefined(targetElem.offsetHeight)?targetElem.offsetHeight:targetElem.prop('offsetHeight');placement=this.parsePlacement(placement);var hostElemPos=appendToBody?this.offset(hostElem):this.position(hostElem);var targetElemPos={top:0,left:0,placement:''};if(placement[2]){var viewportOffset=this.viewportOffset(hostElem,appendToBody);var targetElemStyle=$window.getComputedStyle(targetElem);var adjustedSize={width:targetWidth+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginLeft)+this.parseStyle(targetElemStyle.marginRight))),height:targetHeight+Math.round(Math.abs(this.parseStyle(targetElemStyle.marginTop)+this.parseStyle(targetElemStyle.marginBottom)))};placement[0]=placement[0]==='top'&&adjustedSize.height>viewportOffset.top&&adjustedSize.height<=viewportOffset.bottom?'bottom':placement[0]==='bottom'&&adjustedSize.height>viewportOffset.bottom&&adjustedSize.height<=viewportOffset.top?'top':placement[0]==='left'&&adjustedSize.width>viewportOffset.left&&adjustedSize.width<=viewportOffset.right?'right':placement[0]==='right'&&adjustedSize.width>viewportOffset.right&&adjustedSize.width<=viewportOffset.left?'left':placement[0];placement[1]=placement[1]==='top'&&adjustedSize.height-hostElemPos.height>viewportOffset.bottom&&adjustedSize.height-hostElemPos.height<=viewportOffset.top?'bottom':placement[1]==='bottom'&&adjustedSize.height-hostElemPos.height>viewportOffset.top&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom?'top':placement[1]==='left'&&adjustedSize.width-hostElemPos.width>viewportOffset.right&&adjustedSize.width-hostElemPos.width<=viewportOffset.left?'right':placement[1]==='right'&&adjustedSize.width-hostElemPos.width>viewportOffset.left&&adjustedSize.width-hostElemPos.width<=viewportOffset.right?'left':placement[1];if(placement[1]==='center'){if(PLACEMENT_REGEX.vertical.test(placement[0])){var xOverflow=hostElemPos.width/2-targetWidth/2;if(viewportOffset.left+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.right){placement[1]='left';}else if(viewportOffset.right+xOverflow<0&&adjustedSize.width-hostElemPos.width<=viewportOffset.left){placement[1]='right';}}else{var yOverflow=hostElemPos.height/2-adjustedSize.height/2;if(viewportOffset.top+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.bottom){placement[1]='top';}else if(viewportOffset.bottom+yOverflow<0&&adjustedSize.height-hostElemPos.height<=viewportOffset.top){placement[1]='bottom';}}}}
switch(placement[0]){case'top':targetElemPos.top=hostElemPos.top-targetHeight;break;case'bottom':targetElemPos.top=hostElemPos.top+hostElemPos.height;break;case'left':targetElemPos.left=hostElemPos.left-targetWidth;break;case'right':targetElemPos.left=hostElemPos.left+hostElemPos.width;break;}
switch(placement[1]){case'top':targetElemPos.top=hostElemPos.top;break;case'bottom':targetElemPos.top=hostElemPos.top+hostElemPos.height-targetHeight;break;case'left':targetElemPos.left=hostElemPos.left;break;case'right':targetElemPos.left=hostElemPos.left+hostElemPos.width-targetWidth;break;case'center':if(PLACEMENT_REGEX.vertical.test(placement[0])){targetElemPos.left=hostElemPos.left+hostElemPos.width/2-targetWidth/2;}else{targetElemPos.top=hostElemPos.top+hostElemPos.height/2-targetHeight/2;}
break;}
targetElemPos.top=Math.round(targetElemPos.top);targetElemPos.left=Math.round(targetElemPos.left);targetElemPos.placement=placement[1]==='center'?placement[0]:placement[0]+'-'+placement[1];return targetElemPos;},adjustTop:function(placementClasses,containerPosition,initialHeight,currentHeight){if(placementClasses.indexOf('top')!==-1&&initialHeight!==currentHeight){return{top:containerPosition.top-currentHeight+'px'};}},positionArrow:function(elem,placement){elem=this.getRawNode(elem);var innerElem=elem.querySelector('.tooltip-inner, .popover-inner');if(!innerElem){return;}
var isTooltip=angular.element(innerElem).hasClass('tooltip-inner');var arrowElem=isTooltip?elem.querySelector('.tooltip-arrow'):elem.querySelector('.arrow');if(!arrowElem){return;}
var arrowCss={top:'',bottom:'',left:'',right:''};placement=this.parsePlacement(placement);if(placement[1]==='center'){angular.element(arrowElem).css(arrowCss);return;}
var borderProp='border-'+placement[0]+'-width';var borderWidth=$window.getComputedStyle(arrowElem)[borderProp];var borderRadiusProp='border-';if(PLACEMENT_REGEX.vertical.test(placement[0])){borderRadiusProp+=placement[0]+'-'+placement[1];}else{borderRadiusProp+=placement[1]+'-'+placement[0];}
borderRadiusProp+='-radius';var borderRadius=$window.getComputedStyle(isTooltip?innerElem:elem)[borderRadiusProp];switch(placement[0]){case'top':arrowCss.bottom=isTooltip?'0':'-'+borderWidth;break;case'bottom':arrowCss.top=isTooltip?'0':'-'+borderWidth;break;case'left':arrowCss.right=isTooltip?'0':'-'+borderWidth;break;case'right':arrowCss.left=isTooltip?'0':'-'+borderWidth;break;}
arrowCss[placement[1]]=borderRadius;angular.element(arrowElem).css(arrowCss);}};}]);angular.module('ui.bootstrap.datepickerPopup',['ui.bootstrap.datepicker','ui.bootstrap.position']).value('$datepickerPopupLiteralWarning',true).constant('uibDatepickerPopupConfig',{altInputFormats:[],appendToBody:false,clearText:'Clear',closeOnDateSelection:true,closeText:'Done',currentText:'Today',datepickerPopup:'yyyy-MM-dd',datepickerPopupTemplateUrl:'uib/template/datepickerPopup/popup.html',datepickerTemplateUrl:'uib/template/datepicker/datepicker.html',html5Types:{date:'yyyy-MM-dd','datetime-local':'yyyy-MM-ddTHH:mm:ss.sss','month':'yyyy-MM'},onOpenFocus:true,showButtonBar:true,placement:'auto bottom-left'}).controller('UibDatepickerPopupController',['$scope','$element','$attrs','$compile','$log','$parse','$window','$document','$rootScope','$uibPosition','dateFilter','uibDateParser','uibDatepickerPopupConfig','$timeout','uibDatepickerConfig','$datepickerPopupLiteralWarning',function($scope,$element,$attrs,$compile,$log,$parse,$window,$document,$rootScope,$position,dateFilter,dateParser,datepickerPopupConfig,$timeout,datepickerConfig,$datepickerPopupLiteralWarning){var cache={},isHtml5DateInput=false;var dateFormat,closeOnDateSelection,appendToBody,onOpenFocus,datepickerPopupTemplateUrl,datepickerTemplateUrl,popupEl,datepickerEl,scrollParentEl,ngModel,ngModelOptions,$popup,altInputFormats,watchListeners=[];this.init=function(_ngModel_){ngModel=_ngModel_;ngModelOptions=extractOptions(ngModel);closeOnDateSelection=angular.isDefined($attrs.closeOnDateSelection)?$scope.$parent.$eval($attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection;appendToBody=angular.isDefined($attrs.datepickerAppendToBody)?$scope.$parent.$eval($attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;onOpenFocus=angular.isDefined($attrs.onOpenFocus)?$scope.$parent.$eval($attrs.onOpenFocus):datepickerPopupConfig.onOpenFocus;datepickerPopupTemplateUrl=angular.isDefined($attrs.datepickerPopupTemplateUrl)?$attrs.datepickerPopupTemplateUrl:datepickerPopupConfig.datepickerPopupTemplateUrl;datepickerTemplateUrl=angular.isDefined($attrs.datepickerTemplateUrl)?$attrs.datepickerTemplateUrl:datepickerPopupConfig.datepickerTemplateUrl;altInputFormats=angular.isDefined($attrs.altInputFormats)?$scope.$parent.$eval($attrs.altInputFormats):datepickerPopupConfig.altInputFormats;$scope.showButtonBar=angular.isDefined($attrs.showButtonBar)?$scope.$parent.$eval($attrs.showButtonBar):datepickerPopupConfig.showButtonBar;if(datepickerPopupConfig.html5Types[$attrs.type]){dateFormat=datepickerPopupConfig.html5Types[$attrs.type];isHtml5DateInput=true;}else{dateFormat=$attrs.uibDatepickerPopup||datepickerPopupConfig.datepickerPopup;$attrs.$observe('uibDatepickerPopup',function(value,oldValue){var newDateFormat=value||datepickerPopupConfig.datepickerPopup;if(newDateFormat!==dateFormat){dateFormat=newDateFormat;ngModel.$modelValue=null;if(!dateFormat){throw new Error('uibDatepickerPopup must have a date format specified.');}}});}
if(!dateFormat){throw new Error('uibDatepickerPopup must have a date format specified.');}
if(isHtml5DateInput&&$attrs.uibDatepickerPopup){throw new Error('HTML5 date input types do not support custom formats.');}
popupEl=angular.element('<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>');popupEl.attr({'ng-model':'date','ng-change':'dateSelection(date)','template-url':datepickerPopupTemplateUrl});datepickerEl=angular.element(popupEl.children()[0]);datepickerEl.attr('template-url',datepickerTemplateUrl);if(!$scope.datepickerOptions){$scope.datepickerOptions={};}
if(isHtml5DateInput){if($attrs.type==='month'){$scope.datepickerOptions.datepickerMode='month';$scope.datepickerOptions.minMode='month';}}
datepickerEl.attr('datepicker-options','datepickerOptions');if(!isHtml5DateInput){ngModel.$$parserName='date';ngModel.$validators.date=validator;ngModel.$parsers.unshift(parseDate);ngModel.$formatters.push(function(value){if(ngModel.$isEmpty(value)){$scope.date=value;return value;}
if(angular.isNumber(value)){value=new Date(value);}
$scope.date=dateParser.fromTimezone(value,ngModelOptions.getOption('timezone'));return dateParser.filter($scope.date,dateFormat);});}else{ngModel.$formatters.push(function(value){$scope.date=dateParser.fromTimezone(value,ngModelOptions.getOption('timezone'));return value;});}
ngModel.$viewChangeListeners.push(function(){$scope.date=parseDateString(ngModel.$viewValue);});$element.on('keydown',inputKeydownBind);$popup=$compile(popupEl)($scope);popupEl.remove();if(appendToBody){$document.find('body').append($popup);}else{$element.after($popup);}
$scope.$on('$destroy',function(){if($scope.isOpen===true){if(!$rootScope.$$phase){$scope.$apply(function(){$scope.isOpen=false;});}}
$popup.remove();$element.off('keydown',inputKeydownBind);$document.off('click',documentClickBind);if(scrollParentEl){scrollParentEl.off('scroll',positionPopup);}
angular.element($window).off('resize',positionPopup);while(watchListeners.length){watchListeners.shift()();}});};$scope.getText=function(key){return $scope[key+'Text']||datepickerPopupConfig[key+'Text'];};$scope.isDisabled=function(date){if(date==='today'){date=dateParser.fromTimezone(new Date(),ngModelOptions.getOption('timezone'));}
var dates={};angular.forEach(['minDate','maxDate'],function(key){if(!$scope.datepickerOptions[key]){dates[key]=null;}else if(angular.isDate($scope.datepickerOptions[key])){dates[key]=new Date($scope.datepickerOptions[key]);}else{if($datepickerPopupLiteralWarning){$log.warn('Literal date support has been deprecated, please switch to date object usage');}
dates[key]=new Date(dateFilter($scope.datepickerOptions[key],'medium'));}});return $scope.datepickerOptions&&dates.minDate&&$scope.compare(date,dates.minDate)<0||dates.maxDate&&$scope.compare(date,dates.maxDate)>0;};$scope.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate());};$scope.dateSelection=function(dt){$scope.date=dt;var date=$scope.date?dateParser.filter($scope.date,dateFormat):null;$element.val(date);ngModel.$setViewValue(date);if(closeOnDateSelection){$scope.isOpen=false;$element[0].focus();}};$scope.keydown=function(evt){if(evt.which===27){evt.stopPropagation();$scope.isOpen=false;$element[0].focus();}};$scope.select=function(date,evt){evt.stopPropagation();if(date==='today'){var today=new Date();if(angular.isDate($scope.date)){date=new Date($scope.date);date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate());}else{date=dateParser.fromTimezone(today,ngModelOptions.getOption('timezone'));date.setHours(0,0,0,0);}}
$scope.dateSelection(date);};$scope.close=function(evt){evt.stopPropagation();$scope.isOpen=false;$element[0].focus();};$scope.disabled=angular.isDefined($attrs.disabled)||false;if($attrs.ngDisabled){watchListeners.push($scope.$parent.$watch($parse($attrs.ngDisabled),function(disabled){$scope.disabled=disabled;}));}
$scope.$watch('isOpen',function(value){if(value){if(!$scope.disabled){$timeout(function(){positionPopup();if(onOpenFocus){$scope.$broadcast('uib:datepicker.focus');}
$document.on('click',documentClickBind);var placement=$attrs.popupPlacement?$attrs.popupPlacement:datepickerPopupConfig.placement;if(appendToBody||$position.parsePlacement(placement)[2]){scrollParentEl=scrollParentEl||angular.element($position.scrollParent($element));if(scrollParentEl){scrollParentEl.on('scroll',positionPopup);}}else{scrollParentEl=null;}
angular.element($window).on('resize',positionPopup);},0,false);}else{$scope.isOpen=false;}}else{$document.off('click',documentClickBind);if(scrollParentEl){scrollParentEl.off('scroll',positionPopup);}
angular.element($window).off('resize',positionPopup);}});function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return'-'+$1.toLowerCase();});}
function parseDateString(viewValue){var date=dateParser.parse(viewValue,dateFormat,$scope.date);if(isNaN(date)){for(var i=0;i<altInputFormats.length;i++){date=dateParser.parse(viewValue,altInputFormats[i],$scope.date);if(!isNaN(date)){return date;}}}
return date;}
function parseDate(viewValue){if(angular.isNumber(viewValue)){viewValue=new Date(viewValue);}
if(!viewValue){return null;}
if(angular.isDate(viewValue)&&!isNaN(viewValue)){return viewValue;}
if(angular.isString(viewValue)){var date=parseDateString(viewValue);if(!isNaN(date)){return dateParser.toTimezone(date,ngModelOptions.getOption('timezone'));}}
return ngModelOptions.getOption('allowInvalid')?viewValue:undefined;}
function validator(modelValue,viewValue){var value=modelValue||viewValue;if(!$attrs.ngRequired&&!value){return true;}
if(angular.isNumber(value)){value=new Date(value);}
if(!value){return true;}
if(angular.isDate(value)&&!isNaN(value)){return true;}
if(angular.isString(value)){return!isNaN(parseDateString(value));}
return false;}
function documentClickBind(event){if(!$scope.isOpen&&$scope.disabled){return;}
var popup=$popup[0];var dpContainsTarget=$element[0].contains(event.target);var popupContainsTarget=popup.contains!==undefined&&popup.contains(event.target);if($scope.isOpen&&!(dpContainsTarget||popupContainsTarget)){$scope.$apply(function(){$scope.isOpen=false;});}}
function inputKeydownBind(evt){if(evt.which===27&&$scope.isOpen){evt.preventDefault();evt.stopPropagation();$scope.$apply(function(){$scope.isOpen=false;});$element[0].focus();}else if(evt.which===40&&!$scope.isOpen){evt.preventDefault();evt.stopPropagation();$scope.$apply(function(){$scope.isOpen=true;});}}
function positionPopup(){if($scope.isOpen){var dpElement=angular.element($popup[0].querySelector('.uib-datepicker-popup'));var placement=$attrs.popupPlacement?$attrs.popupPlacement:datepickerPopupConfig.placement;var position=$position.positionElements($element,dpElement,placement,appendToBody);dpElement.css({top:position.top+'px',left:position.left+'px'});if(dpElement.hasClass('uib-position-measure')){dpElement.removeClass('uib-position-measure');}}}
function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=angular.isObject(ngModelCtrl.$options)?ngModelCtrl.$options:{timezone:null};ngModelOptions.getOption=function(key){return ngModelOptions[key];};}else{ngModelOptions=ngModelCtrl.$options;}
return ngModelOptions;}
$scope.$on('uib:datepicker.mode',function(){$timeout(positionPopup,0,false);});}]).directive('uibDatepickerPopup',function(){return{require:['ngModel','uibDatepickerPopup'],controller:'UibDatepickerPopupController',scope:{datepickerOptions:'=?',isOpen:'=?',currentText:'@',clearText:'@',closeText:'@'},link:function(scope,element,attrs,ctrls){var ngModel=ctrls[0],ctrl=ctrls[1];ctrl.init(ngModel);}};}).directive('uibDatepickerPopupWrap',function(){return{restrict:'A',transclude:true,templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/datepickerPopup/popup.html';}};});angular.module('ui.bootstrap.debounce',[]).factory('$$debounce',['$timeout',function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this;var args=Array.prototype.slice.call(arguments);if(timeoutPromise){$timeout.cancel(timeoutPromise);}
timeoutPromise=$timeout(function(){callback.apply(self,args);},debounceTime);};};}]);angular.module('ui.bootstrap.multiMap',[]).factory('$$multiMap',function(){return{createNew:function(){var map={};return{entries:function(){return Object.keys(map).map(function(key){return{key:key,value:map[key]};});},get:function(key){return map[key];},hasKey:function(key){return!!map[key];},keys:function(){return Object.keys(map);},put:function(key,value){if(!map[key]){map[key]=[];}
map[key].push(value);},remove:function(key,value){var values=map[key];if(!values){return;}
var idx=values.indexOf(value);if(idx!==-1){values.splice(idx,1);}
if(!values.length){delete map[key];}}};}};});angular.module('ui.bootstrap.dropdown',['ui.bootstrap.multiMap','ui.bootstrap.position']).constant('uibDropdownConfig',{appendToOpenClass:'uib-dropdown-open',openClass:'open'}).service('uibDropdownService',['$document','$rootScope','$$multiMap',function($document,$rootScope,$$multiMap){var openScope=null;var openedContainers=$$multiMap.createNew();this.isOnlyOpen=function(dropdownScope,appendTo){var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var openDropdown=openedDropdowns.reduce(function(toClose,dropdown){if(dropdown.scope===dropdownScope){return dropdown;}
return toClose;},{});if(openDropdown){return openedDropdowns.length===1;}}
return false;};this.open=function(dropdownScope,element,appendTo){if(!openScope){$document.on('click',closeDropdown);}
if(openScope&&openScope!==dropdownScope){openScope.isOpen=false;}
openScope=dropdownScope;if(!appendTo){return;}
var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var openedScopes=openedDropdowns.map(function(dropdown){return dropdown.scope;});if(openedScopes.indexOf(dropdownScope)===-1){openedContainers.put(appendTo,{scope:dropdownScope});}}else{openedContainers.put(appendTo,{scope:dropdownScope});}};this.close=function(dropdownScope,element,appendTo){if(openScope===dropdownScope){$document.off('click',closeDropdown);$document.off('keydown',this.keybindFilter);openScope=null;}
if(!appendTo){return;}
var openedDropdowns=openedContainers.get(appendTo);if(openedDropdowns){var dropdownToClose=openedDropdowns.reduce(function(toClose,dropdown){if(dropdown.scope===dropdownScope){return dropdown;}
return toClose;},{});if(dropdownToClose){openedContainers.remove(appendTo,dropdownToClose);}}};var closeDropdown=function(evt){if(!openScope||!openScope.isOpen){return;}
if(evt&&openScope.getAutoClose()==='disabled'){return;}
if(evt&&evt.which===3){return;}
var toggleElement=openScope.getToggleElement();if(evt&&toggleElement&&toggleElement[0].contains(evt.target)){return;}
var dropdownElement=openScope.getDropdownElement();if(evt&&openScope.getAutoClose()==='outsideClick'&&dropdownElement&&dropdownElement[0].contains(evt.target)){return;}
openScope.focusToggleElement();openScope.isOpen=false;if(!$rootScope.$$phase){openScope.$apply();}};this.keybindFilter=function(evt){if(!openScope){return;}
var dropdownElement=openScope.getDropdownElement();var toggleElement=openScope.getToggleElement();var dropdownElementTargeted=dropdownElement&&dropdownElement[0].contains(evt.target);var toggleElementTargeted=toggleElement&&toggleElement[0].contains(evt.target);if(evt.which===27){evt.stopPropagation();openScope.focusToggleElement();closeDropdown();}else if(openScope.isKeynavEnabled()&&[38,40].indexOf(evt.which)!==-1&&openScope.isOpen&&(dropdownElementTargeted||toggleElementTargeted)){evt.preventDefault();evt.stopPropagation();openScope.focusDropdownEntry(evt.which);}};}]).controller('UibDropdownController',['$scope','$element','$attrs','$parse','uibDropdownConfig','uibDropdownService','$animate','$uibPosition','$document','$compile','$templateRequest',function($scope,$element,$attrs,$parse,dropdownConfig,uibDropdownService,$animate,$position,$document,$compile,$templateRequest){var self=this,scope=$scope.$new(),templateScope,appendToOpenClass=dropdownConfig.appendToOpenClass,openClass=dropdownConfig.openClass,getIsOpen,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop,keynavEnabled=false,selectedOption=null,body=$document.find('body');$element.addClass('dropdown');this.init=function(){if($attrs.isOpen){getIsOpen=$parse($attrs.isOpen);setIsOpen=getIsOpen.assign;$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value;});}
keynavEnabled=angular.isDefined($attrs.keyboardNav);};this.toggle=function(open){scope.isOpen=arguments.length?!!open:!scope.isOpen;if(angular.isFunction(setIsOpen)){setIsOpen(scope,scope.isOpen);}
return scope.isOpen;};this.isOpen=function(){return scope.isOpen;};scope.getToggleElement=function(){return self.toggleElement;};scope.getAutoClose=function(){return $attrs.autoClose||'always';};scope.getElement=function(){return $element;};scope.isKeynavEnabled=function(){return keynavEnabled;};scope.focusDropdownEntry=function(keyCode){var elems=self.dropdownMenu?angular.element(self.dropdownMenu).find('a'):$element.find('ul').eq(0).find('a');switch(keyCode){case 40:{if(!angular.isNumber(self.selectedOption)){self.selectedOption=0;}else{self.selectedOption=self.selectedOption===elems.length-1?self.selectedOption:self.selectedOption+1;}
break;}
case 38:{if(!angular.isNumber(self.selectedOption)){self.selectedOption=elems.length-1;}else{self.selectedOption=self.selectedOption===0?0:self.selectedOption-1;}
break;}}
elems[self.selectedOption].focus();};scope.getDropdownElement=function(){return self.dropdownMenu;};scope.focusToggleElement=function(){if(self.toggleElement){self.toggleElement[0].focus();}};function removeDropdownMenu(){$element.append(self.dropdownMenu);}
scope.$watch('isOpen',function(isOpen,wasOpen){var appendTo=null,appendToBody=false;if(angular.isDefined($attrs.dropdownAppendTo)){var appendToEl=$parse($attrs.dropdownAppendTo)(scope);if(appendToEl){appendTo=angular.element(appendToEl);}}
if(angular.isDefined($attrs.dropdownAppendToBody)){var appendToBodyValue=$parse($attrs.dropdownAppendToBody)(scope);if(appendToBodyValue!==false){appendToBody=true;}}
if(appendToBody&&!appendTo){appendTo=body;}
if(appendTo&&self.dropdownMenu){if(isOpen){appendTo.append(self.dropdownMenu);$element.on('$destroy',removeDropdownMenu);}else{$element.off('$destroy',removeDropdownMenu);removeDropdownMenu();}}
if(appendTo&&self.dropdownMenu){var pos=$position.positionElements($element,self.dropdownMenu,'bottom-left',true),css,rightalign,scrollbarPadding,scrollbarWidth=0;css={top:pos.top+'px',display:isOpen?'block':'none'};rightalign=self.dropdownMenu.hasClass('dropdown-menu-right');if(!rightalign){css.left=pos.left+'px';css.right='auto';}else{css.left='auto';scrollbarPadding=$position.scrollbarPadding(appendTo);if(scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){scrollbarWidth=scrollbarPadding.scrollbarWidth;}
css.right=window.innerWidth-scrollbarWidth-
(pos.left+$element.prop('offsetWidth'))+'px';}
if(!appendToBody){var appendOffset=$position.offset(appendTo);css.top=pos.top-appendOffset.top+'px';if(!rightalign){css.left=pos.left-appendOffset.left+'px';}else{css.right=window.innerWidth-
(pos.left-appendOffset.left+$element.prop('offsetWidth'))+'px';}}
self.dropdownMenu.css(css);}
var openContainer=appendTo?appendTo:$element;var dropdownOpenClass=appendTo?appendToOpenClass:openClass;var hasOpenClass=openContainer.hasClass(dropdownOpenClass);var isOnlyOpen=uibDropdownService.isOnlyOpen($scope,appendTo);if(hasOpenClass===!isOpen){var toggleClass;if(appendTo){toggleClass=!isOnlyOpen?'addClass':'removeClass';}else{toggleClass=isOpen?'addClass':'removeClass';}
$animate[toggleClass](openContainer,dropdownOpenClass).then(function(){if(angular.isDefined(isOpen)&&isOpen!==wasOpen){toggleInvoker($scope,{open:!!isOpen});}});}
if(isOpen){if(self.dropdownMenuTemplateUrl){$templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent){templateScope=scope.$new();$compile(tplContent.trim())(templateScope,function(dropdownElement){var newEl=dropdownElement;self.dropdownMenu.replaceWith(newEl);self.dropdownMenu=newEl;$document.on('keydown',uibDropdownService.keybindFilter);});});}else{$document.on('keydown',uibDropdownService.keybindFilter);}
scope.focusToggleElement();uibDropdownService.open(scope,$element,appendTo);}else{uibDropdownService.close(scope,$element,appendTo);if(self.dropdownMenuTemplateUrl){if(templateScope){templateScope.$destroy();}
var newEl=angular.element('<ul class="dropdown-menu"></ul>');self.dropdownMenu.replaceWith(newEl);self.dropdownMenu=newEl;}
self.selectedOption=null;}
if(angular.isFunction(setIsOpen)){setIsOpen($scope,isOpen);}});}]).directive('uibDropdown',function(){return{controller:'UibDropdownController',link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init();}};}).directive('uibDropdownMenu',function(){return{restrict:'A',require:'?^uibDropdown',link:function(scope,element,attrs,dropdownCtrl){if(!dropdownCtrl||angular.isDefined(attrs.dropdownNested)){return;}
element.addClass('dropdown-menu');var tplUrl=attrs.templateUrl;if(tplUrl){dropdownCtrl.dropdownMenuTemplateUrl=tplUrl;}
if(!dropdownCtrl.dropdownMenu){dropdownCtrl.dropdownMenu=element;}}};}).directive('uibDropdownToggle',function(){return{require:'?^uibDropdown',link:function(scope,element,attrs,dropdownCtrl){if(!dropdownCtrl){return;}
element.addClass('dropdown-toggle');dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault();if(!element.hasClass('disabled')&&!attrs.disabled){scope.$apply(function(){dropdownCtrl.toggle();});}};element.on('click',toggleDropdown);element.attr({'aria-haspopup':true,'aria-expanded':false});scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr('aria-expanded',!!isOpen);});scope.$on('$destroy',function(){element.off('click',toggleDropdown);});}};});angular.module('ui.bootstrap.stackedMap',[]).factory('$$stackedMap',function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value});},get:function(key){for(var i=0;i<stack.length;i++){if(key===stack[i].key){return stack[i];}}},keys:function(){var keys=[];for(var i=0;i<stack.length;i++){keys.push(stack[i].key);}
return keys;},top:function(){return stack[stack.length-1];},remove:function(key){var idx=-1;for(var i=0;i<stack.length;i++){if(key===stack[i].key){idx=i;break;}}
return stack.splice(idx,1)[0];},removeTop:function(){return stack.pop();},length:function(){return stack.length;}};}};});angular.module('ui.bootstrap.modal',['ui.bootstrap.multiMap','ui.bootstrap.stackedMap','ui.bootstrap.position']).provider('$uibResolve',function(){var resolve=this;this.resolver=null;this.setResolver=function(resolver){this.resolver=resolver;};this.$get=['$injector','$q',function($injector,$q){var resolver=resolve.resolver?$injector.get(resolve.resolver):null;return{resolve:function(invocables,locals,parent,self){if(resolver){return resolver.resolve(invocables,locals,parent,self);}
var promises=[];angular.forEach(invocables,function(value){if(angular.isFunction(value)||angular.isArray(value)){promises.push($q.resolve($injector.invoke(value)));}else if(angular.isString(value)){promises.push($q.resolve($injector.get(value)));}else{promises.push($q.resolve(value));}});return $q.all(promises).then(function(resolves){var resolveObj={};var resolveIter=0;angular.forEach(invocables,function(value,key){resolveObj[key]=resolves[resolveIter++];});return resolveObj;});}};}];}).directive('uibModalBackdrop',['$animate','$injector','$uibModalStack',function($animate,$injector,$modalStack){return{restrict:'A',compile:function(tElement,tAttrs){tElement.addClass(tAttrs.backdropClass);return linkFn;}};function linkFn(scope,element,attrs){if(attrs.modalInClass){$animate.addClass(element,attrs.modalInClass);scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();if(scope.modalOptions.animation){$animate.removeClass(element,attrs.modalInClass).then(done);}else{done();}});}}}]).directive('uibModalWindow',['$uibModalStack','$q','$animateCss','$document',function($modalStack,$q,$animateCss,$document){return{scope:{index:'@'},restrict:'A',transclude:true,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||'uib/template/modal/window.html';},link:function(scope,element,attrs){element.addClass(attrs.windowTopClass||'');scope.size=attrs.size;scope.close=function(evt){var modal=$modalStack.getTop();if(modal&&modal.value.backdrop&&modal.value.backdrop!=='static'&&evt.target===evt.currentTarget){evt.preventDefault();evt.stopPropagation();$modalStack.dismiss(modal.key,'backdrop click');}};element.on('click',scope.close);scope.$isRendered=true;var modalRenderDeferObj=$q.defer();scope.$$postDigest(function(){modalRenderDeferObj.resolve();});modalRenderDeferObj.promise.then(function(){var animationPromise=null;if(attrs.modalInClass){animationPromise=$animateCss(element,{addClass:attrs.modalInClass}).start();scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();$animateCss(element,{removeClass:attrs.modalInClass}).start().then(done);});}
$q.when(animationPromise).then(function(){var modal=$modalStack.getTop();if(modal){$modalStack.modalRendered(modal.key);}
if(!($document[0].activeElement&&element[0].contains($document[0].activeElement))){var inputWithAutofocus=element[0].querySelector('[autofocus]');if(inputWithAutofocus){inputWithAutofocus.focus();}else{element[0].focus();}}});});}};}]).directive('uibModalAnimationClass',function(){return{compile:function(tElement,tAttrs){if(tAttrs.modalAnimation){tElement.addClass(tAttrs.uibModalAnimationClass);}}};}).directive('uibModalTransclude',['$animate',function($animate){return{link:function(scope,element,attrs,controller,transclude){transclude(scope.$parent,function(clone){element.empty();$animate.enter(clone,element);});}};}]).factory('$uibModalStack',['$animate','$animateCss','$document','$compile','$rootScope','$q','$$multiMap','$$stackedMap','$uibPosition',function($animate,$animateCss,$document,$compile,$rootScope,$q,$$multiMap,$$stackedMap,$uibPosition){var OPENED_MODAL_CLASS='modal-open';var backdropDomEl,backdropScope;var openedWindows=$$stackedMap.createNew();var openedClasses=$$multiMap.createNew();var $modalStack={NOW_CLOSING_EVENT:'modal.stack.now-closing'};var topModalIndex=0;var previousTopOpenedModal=null;var ARIA_HIDDEN_ATTRIBUTE_NAME='data-bootstrap-modal-aria-hidden-count';var tabbableSelector='a[href], area[href], input:not([disabled]):not([tabindex=\'-1\']), '+'button:not([disabled]):not([tabindex=\'-1\']),select:not([disabled]):not([tabindex=\'-1\']), textarea:not([disabled]):not([tabindex=\'-1\']), '+'iframe, object, embed, *[tabindex]:not([tabindex=\'-1\']), *[contenteditable=true]';var scrollbarPadding;var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name){var separator='-';return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:'')+letter.toLowerCase();});}
function isVisible(element){return!!(element.offsetWidth||element.offsetHeight||element.getClientRects().length);}
function backdropIndex(){var topBackdropIndex=-1;var opened=openedWindows.keys();for(var i=0;i<opened.length;i++){if(openedWindows.get(opened[i]).value.backdrop){topBackdropIndex=i;}}
if(topBackdropIndex>-1&&topBackdropIndex<topModalIndex){topBackdropIndex=topModalIndex;}
return topBackdropIndex;}
$rootScope.$watch(backdropIndex,function(newBackdropIndex){if(backdropScope){backdropScope.index=newBackdropIndex;}});function removeModalWindow(modalInstance,elementToReceiveFocus){var modalWindow=openedWindows.get(modalInstance).value;var appendToElement=modalWindow.appendTo;openedWindows.remove(modalInstance);previousTopOpenedModal=openedWindows.top();if(previousTopOpenedModal){topModalIndex=parseInt(previousTopOpenedModal.value.modalDomEl.attr('index'),10);}
removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,function(){var modalBodyClass=modalWindow.openedClass||OPENED_MODAL_CLASS;openedClasses.remove(modalBodyClass,modalInstance);var areAnyOpen=openedClasses.hasKey(modalBodyClass);appendToElement.toggleClass(modalBodyClass,areAnyOpen);if(!areAnyOpen&&scrollbarPadding&&scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){if(scrollbarPadding.originalRight){appendToElement.css({paddingRight:scrollbarPadding.originalRight+'px'});}else{appendToElement.css({paddingRight:''});}
scrollbarPadding=null;}
toggleTopWindowClass(true);},modalWindow.closedDeferred);checkRemoveBackdrop();if(elementToReceiveFocus&&elementToReceiveFocus.focus){elementToReceiveFocus.focus();}else if(appendToElement.focus){appendToElement.focus();}}
function toggleTopWindowClass(toggleSwitch){var modalWindow;if(openedWindows.length()>0){modalWindow=openedWindows.top().value;modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass||'',toggleSwitch);}}
function checkRemoveBackdrop(){if(backdropDomEl&&backdropIndex()===-1){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,function(){backdropScopeRef=null;});backdropDomEl=undefined;backdropScope=undefined;}}
function removeAfterAnimate(domEl,scope,done,closedDeferred){var asyncDeferred;var asyncPromise=null;var setIsAsync=function(){if(!asyncDeferred){asyncDeferred=$q.defer();asyncPromise=asyncDeferred.promise;}
return function asyncDone(){asyncDeferred.resolve();};};scope.$broadcast($modalStack.NOW_CLOSING_EVENT,setIsAsync);return $q.when(asyncPromise).then(afterAnimating);function afterAnimating(){if(afterAnimating.done){return;}
afterAnimating.done=true;$animate.leave(domEl).then(function(){if(done){done();}
domEl.remove();if(closedDeferred){closedDeferred.resolve();}});scope.$destroy();}}
$document.on('keydown',keydownListener);$rootScope.$on('$destroy',function(){$document.off('keydown',keydownListener);});function keydownListener(evt){if(evt.isDefaultPrevented()){return evt;}
var modal=openedWindows.top();if(modal){switch(evt.which){case 27:{if(modal.value.keyboard){evt.preventDefault();$rootScope.$apply(function(){$modalStack.dismiss(modal.key,'escape key press');});}
break;}
case 9:{var list=$modalStack.loadFocusElementList(modal);var focusChanged=false;if(evt.shiftKey){if($modalStack.isFocusInFirstItem(evt,list)||$modalStack.isModalFocused(evt,modal)){focusChanged=$modalStack.focusLastFocusableElement(list);}}else{if($modalStack.isFocusInLastItem(evt,list)){focusChanged=$modalStack.focusFirstFocusableElement(list);}}
if(focusChanged){evt.preventDefault();evt.stopPropagation();}
break;}}}}
$modalStack.open=function(modalInstance,modal){var modalOpener=$document[0].activeElement,modalBodyClass=modal.openedClass||OPENED_MODAL_CLASS;toggleTopWindowClass(false);previousTopOpenedModal=openedWindows.top();openedWindows.add(modalInstance,{deferred:modal.deferred,renderDeferred:modal.renderDeferred,closedDeferred:modal.closedDeferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard,openedClass:modal.openedClass,windowTopClass:modal.windowTopClass,animation:modal.animation,appendTo:modal.appendTo});openedClasses.put(modalBodyClass,modalInstance);var appendToElement=modal.appendTo,currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(true);backdropScope.modalOptions=modal;backdropScope.index=currBackdropIndex;backdropDomEl=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');backdropDomEl.attr({'class':'modal-backdrop','ng-style':'{\'z-index\': 1040 + (index && 1 || 0) + index*10}','uib-modal-animation-class':'fade','modal-in-class':'in'});if(modal.backdropClass){backdropDomEl.addClass(modal.backdropClass);}
if(modal.animation){backdropDomEl.attr('modal-animation','true');}
$compile(backdropDomEl)(backdropScope);$animate.enter(backdropDomEl,appendToElement);if($uibPosition.isScrollable(appendToElement)){scrollbarPadding=$uibPosition.scrollbarPadding(appendToElement);if(scrollbarPadding.heightOverflow&&scrollbarPadding.scrollbarWidth){appendToElement.css({paddingRight:scrollbarPadding.right+'px'});}}}
var content;if(modal.component){content=document.createElement(snake_case(modal.component.name));content=angular.element(content);content.attr({resolve:'$resolve','modal-instance':'$uibModalInstance',close:'$close($value)',dismiss:'$dismiss($value)'});}else{content=modal.content;}
topModalIndex=previousTopOpenedModal?parseInt(previousTopOpenedModal.value.modalDomEl.attr('index'),10)+1:0;var angularDomEl=angular.element('<div uib-modal-window="modal-window"></div>');angularDomEl.attr({'class':'modal','template-url':modal.windowTemplateUrl,'window-top-class':modal.windowTopClass,'role':'dialog','aria-labelledby':modal.ariaLabelledBy,'aria-describedby':modal.ariaDescribedBy,'size':modal.size,'index':topModalIndex,'animate':'animate','ng-style':'{\'z-index\': 1050 + $$topModalIndex*10, display: \'block\'}','tabindex':-1,'uib-modal-animation-class':'fade','modal-in-class':'in'}).append(content);if(modal.windowClass){angularDomEl.addClass(modal.windowClass);}
if(modal.animation){angularDomEl.attr('modal-animation','true');}
appendToElement.addClass(modalBodyClass);if(modal.scope){modal.scope.$$topModalIndex=topModalIndex;}
$animate.enter($compile(angularDomEl)(modal.scope),appendToElement);openedWindows.top().value.modalDomEl=angularDomEl;openedWindows.top().value.modalOpener=modalOpener;applyAriaHidden(angularDomEl);function applyAriaHidden(el){if(!el||el[0].tagName==='BODY'){return;}
getSiblings(el).forEach(function(sibling){var elemIsAlreadyHidden=sibling.getAttribute('aria-hidden')==='true',ariaHiddenCount=parseInt(sibling.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME),10);if(!ariaHiddenCount){ariaHiddenCount=elemIsAlreadyHidden?1:0;}
sibling.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME,ariaHiddenCount+1);sibling.setAttribute('aria-hidden','true');});return applyAriaHidden(el.parent());function getSiblings(el){var children=el.parent()?el.parent().children():[];return Array.prototype.filter.call(children,function(child){return child!==el[0];});}}};function broadcastClosing(modalWindow,resultOrReason,closing){return!modalWindow.value.modalScope.$broadcast('modal.closing',resultOrReason,closing).defaultPrevented;}
function unhideBackgroundElements(){Array.prototype.forEach.call(document.querySelectorAll('['+ARIA_HIDDEN_ATTRIBUTE_NAME+']'),function(hiddenEl){var ariaHiddenCount=parseInt(hiddenEl.getAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME),10),newHiddenCount=ariaHiddenCount-1;hiddenEl.setAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME,newHiddenCount);if(!newHiddenCount){hiddenEl.removeAttribute(ARIA_HIDDEN_ATTRIBUTE_NAME);hiddenEl.removeAttribute('aria-hidden');}});}
$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);unhideBackgroundElements();if(modalWindow&&broadcastClosing(modalWindow,result,true)){modalWindow.value.modalScope.$$uibDestructionScheduled=true;modalWindow.value.deferred.resolve(result);removeModalWindow(modalInstance,modalWindow.value.modalOpener);return true;}
return!modalWindow;};$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);unhideBackgroundElements();if(modalWindow&&broadcastClosing(modalWindow,reason,false)){modalWindow.value.modalScope.$$uibDestructionScheduled=true;modalWindow.value.deferred.reject(reason);removeModalWindow(modalInstance,modalWindow.value.modalOpener);return true;}
return!modalWindow;};$modalStack.dismissAll=function(reason){var topModal=this.getTop();while(topModal&&this.dismiss(topModal.key,reason)){topModal=this.getTop();}};$modalStack.getTop=function(){return openedWindows.top();};$modalStack.modalRendered=function(modalInstance){var modalWindow=openedWindows.get(modalInstance);if(modalWindow){modalWindow.value.renderDeferred.resolve();}};$modalStack.focusFirstFocusableElement=function(list){if(list.length>0){list[0].focus();return true;}
return false;};$modalStack.focusLastFocusableElement=function(list){if(list.length>0){list[list.length-1].focus();return true;}
return false;};$modalStack.isModalFocused=function(evt,modalWindow){if(evt&&modalWindow){var modalDomEl=modalWindow.value.modalDomEl;if(modalDomEl&&modalDomEl.length){return(evt.target||evt.srcElement)===modalDomEl[0];}}
return false;};$modalStack.isFocusInFirstItem=function(evt,list){if(list.length>0){return(evt.target||evt.srcElement)===list[0];}
return false;};$modalStack.isFocusInLastItem=function(evt,list){if(list.length>0){return(evt.target||evt.srcElement)===list[list.length-1];}
return false;};$modalStack.loadFocusElementList=function(modalWindow){if(modalWindow){var modalDomE1=modalWindow.value.modalDomEl;if(modalDomE1&&modalDomE1.length){var elements=modalDomE1[0].querySelectorAll(tabbableSelector);return elements?Array.prototype.filter.call(elements,function(element){return isVisible(element);}):elements;}}};return $modalStack;}]).provider('$uibModal',function(){var $modalProvider={options:{animation:true,backdrop:true,keyboard:true},$get:['$rootScope','$q','$document','$templateRequest','$controller','$uibResolve','$uibModalStack',function($rootScope,$q,$document,$templateRequest,$controller,$uibResolve,$modalStack){var $modal={};function getTemplatePromise(options){return options.template?$q.when(options.template):$templateRequest(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl);}
var promiseChain=null;$modal.getPromiseChain=function(){return promiseChain;};$modal.open=function(modalOptions){var modalResultDeferred=$q.defer();var modalOpenedDeferred=$q.defer();var modalClosedDeferred=$q.defer();var modalRenderDeferred=$q.defer();var modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,closed:modalClosedDeferred.promise,rendered:modalRenderDeferred.promise,close:function(result){return $modalStack.close(modalInstance,result);},dismiss:function(reason){return $modalStack.dismiss(modalInstance,reason);}};modalOptions=angular.extend({},$modalProvider.options,modalOptions);modalOptions.resolve=modalOptions.resolve||{};modalOptions.appendTo=modalOptions.appendTo||$document.find('body').eq(0);if(!modalOptions.appendTo.length){throw new Error('appendTo element not found. Make sure that the element passed is in DOM.');}
if(!modalOptions.component&&!modalOptions.template&&!modalOptions.templateUrl){throw new Error('One of component or template or templateUrl options is required.');}
var templateAndResolvePromise;if(modalOptions.component){templateAndResolvePromise=$q.when($uibResolve.resolve(modalOptions.resolve,{},null,null));}else{templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions),$uibResolve.resolve(modalOptions.resolve,{},null,null)]);}
function resolveWithTemplate(){return templateAndResolvePromise;}
var samePromise;samePromise=promiseChain=$q.all([promiseChain]).then(resolveWithTemplate,resolveWithTemplate).then(function resolveSuccess(tplAndVars){var providedScope=modalOptions.scope||$rootScope;var modalScope=providedScope.$new();modalScope.$close=modalInstance.close;modalScope.$dismiss=modalInstance.dismiss;modalScope.$on('$destroy',function(){if(!modalScope.$$uibDestructionScheduled){modalScope.$dismiss('$uibUnscheduledDestruction');}});var modal={scope:modalScope,deferred:modalResultDeferred,renderDeferred:modalRenderDeferred,closedDeferred:modalClosedDeferred,animation:modalOptions.animation,backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowTopClass:modalOptions.windowTopClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,ariaLabelledBy:modalOptions.ariaLabelledBy,ariaDescribedBy:modalOptions.ariaDescribedBy,size:modalOptions.size,openedClass:modalOptions.openedClass,appendTo:modalOptions.appendTo};var component={};var ctrlInstance,ctrlInstantiate,ctrlLocals={};if(modalOptions.component){constructLocals(component,false,true,false);component.name=modalOptions.component;modal.component=component;}else if(modalOptions.controller){constructLocals(ctrlLocals,true,false,true);ctrlInstantiate=$controller(modalOptions.controller,ctrlLocals,true,modalOptions.controllerAs);if(modalOptions.controllerAs&&modalOptions.bindToController){ctrlInstance=ctrlInstantiate.instance;ctrlInstance.$close=modalScope.$close;ctrlInstance.$dismiss=modalScope.$dismiss;angular.extend(ctrlInstance,{$resolve:ctrlLocals.$scope.$resolve},providedScope);}
ctrlInstance=ctrlInstantiate();if(angular.isFunction(ctrlInstance.$onInit)){ctrlInstance.$onInit();}}
if(!modalOptions.component){modal.content=tplAndVars[0];}
$modalStack.open(modalInstance,modal);modalOpenedDeferred.resolve(true);function constructLocals(obj,template,instanceOnScope,injectable){obj.$scope=modalScope;obj.$scope.$resolve={};if(instanceOnScope){obj.$scope.$uibModalInstance=modalInstance;}else{obj.$uibModalInstance=modalInstance;}
var resolves=template?tplAndVars[1]:tplAndVars;angular.forEach(resolves,function(value,key){if(injectable){obj[key]=value;}
obj.$scope.$resolve[key]=value;});}},function resolveError(reason){modalOpenedDeferred.reject(reason);modalResultDeferred.reject(reason);})['finally'](function(){if(promiseChain===samePromise){promiseChain=null;}});return modalInstance;};return $modal;}]};return $modalProvider;});angular.module('ui.bootstrap.paging',[]).factory('uibPaging',['$parse',function($parse){return{create:function(ctrl,$scope,$attrs){ctrl.setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;ctrl.ngModelCtrl={$setViewValue:angular.noop};ctrl._watchers=[];ctrl.init=function(ngModelCtrl,config){ctrl.ngModelCtrl=ngModelCtrl;ctrl.config=config;ngModelCtrl.$render=function(){ctrl.render();};if($attrs.itemsPerPage){ctrl._watchers.push($scope.$parent.$watch($attrs.itemsPerPage,function(value){ctrl.itemsPerPage=parseInt(value,10);$scope.totalPages=ctrl.calculateTotalPages();ctrl.updatePage();}));}else{ctrl.itemsPerPage=config.itemsPerPage;}
$scope.$watch('totalItems',function(newTotal,oldTotal){if(angular.isDefined(newTotal)||newTotal!==oldTotal){$scope.totalPages=ctrl.calculateTotalPages();ctrl.updatePage();}});};ctrl.calculateTotalPages=function(){var totalPages=ctrl.itemsPerPage<1?1:Math.ceil($scope.totalItems/ctrl.itemsPerPage);return Math.max(totalPages||0,1);};ctrl.render=function(){$scope.page=parseInt(ctrl.ngModelCtrl.$viewValue,10)||1;};$scope.selectPage=function(page,evt){if(evt){evt.preventDefault();}
var clickAllowed=!$scope.ngDisabled||!evt;if(clickAllowed&&$scope.page!==page&&page>0&&page<=$scope.totalPages){if(evt&&evt.target){evt.target.blur();}
ctrl.ngModelCtrl.$setViewValue(page);ctrl.ngModelCtrl.$render();}};$scope.getText=function(key){return $scope[key+'Text']||ctrl.config[key+'Text'];};$scope.noPrevious=function(){return $scope.page===1;};$scope.noNext=function(){return $scope.page===$scope.totalPages;};ctrl.updatePage=function(){ctrl.setNumPages($scope.$parent,$scope.totalPages);if($scope.page>$scope.totalPages){$scope.selectPage($scope.totalPages);}else{ctrl.ngModelCtrl.$render();}};$scope.$on('$destroy',function(){while(ctrl._watchers.length){ctrl._watchers.shift()();}});}};}]);angular.module('ui.bootstrap.pager',['ui.bootstrap.paging','ui.bootstrap.tabindex']).controller('UibPagerController',['$scope','$attrs','uibPaging','uibPagerConfig',function($scope,$attrs,uibPaging,uibPagerConfig){$scope.align=angular.isDefined($attrs.align)?$scope.$parent.$eval($attrs.align):uibPagerConfig.align;uibPaging.create(this,$scope,$attrs);}]).constant('uibPagerConfig',{itemsPerPage:10,previousText:'« Previous',nextText:'Next »',align:true}).directive('uibPager',['uibPagerConfig',function(uibPagerConfig){return{scope:{totalItems:'=',previousText:'@',nextText:'@',ngDisabled:'='},require:['uibPager','?ngModel'],restrict:'A',controller:'UibPagerController',controllerAs:'pager',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/pager/pager.html';},link:function(scope,element,attrs,ctrls){element.addClass('pager');var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl){return;}
paginationCtrl.init(ngModelCtrl,uibPagerConfig);}};}]);angular.module('ui.bootstrap.pagination',['ui.bootstrap.paging','ui.bootstrap.tabindex']).controller('UibPaginationController',['$scope','$attrs','$parse','uibPaging','uibPaginationConfig',function($scope,$attrs,$parse,uibPaging,uibPaginationConfig){var ctrl=this;var maxSize=angular.isDefined($attrs.maxSize)?$scope.$parent.$eval($attrs.maxSize):uibPaginationConfig.maxSize,rotate=angular.isDefined($attrs.rotate)?$scope.$parent.$eval($attrs.rotate):uibPaginationConfig.rotate,forceEllipses=angular.isDefined($attrs.forceEllipses)?$scope.$parent.$eval($attrs.forceEllipses):uibPaginationConfig.forceEllipses,boundaryLinkNumbers=angular.isDefined($attrs.boundaryLinkNumbers)?$scope.$parent.$eval($attrs.boundaryLinkNumbers):uibPaginationConfig.boundaryLinkNumbers,pageLabel=angular.isDefined($attrs.pageLabel)?function(idx){return $scope.$parent.$eval($attrs.pageLabel,{$page:idx});}:angular.identity;$scope.boundaryLinks=angular.isDefined($attrs.boundaryLinks)?$scope.$parent.$eval($attrs.boundaryLinks):uibPaginationConfig.boundaryLinks;$scope.directionLinks=angular.isDefined($attrs.directionLinks)?$scope.$parent.$eval($attrs.directionLinks):uibPaginationConfig.directionLinks;$attrs.$set('role','menu');uibPaging.create(this,$scope,$attrs);if($attrs.maxSize){ctrl._watchers.push($scope.$parent.$watch($parse($attrs.maxSize),function(value){maxSize=parseInt(value,10);ctrl.render();}));}
function makePage(number,text,isActive){return{number:number,text:text,active:isActive};}
function getPages(currentPage,totalPages){var pages=[];var startPage=1,endPage=totalPages;var isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;if(isMaxSized){if(rotate){startPage=Math.max(currentPage-Math.floor(maxSize/2),1);endPage=startPage+maxSize-1;if(endPage>totalPages){endPage=totalPages;startPage=endPage-maxSize+1;}}else{startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1;endPage=Math.min(startPage+maxSize-1,totalPages);}}
for(var number=startPage;number<=endPage;number++){var page=makePage(number,pageLabel(number),number===currentPage);pages.push(page);}
if(isMaxSized&&maxSize>0&&(!rotate||forceEllipses||boundaryLinkNumbers)){if(startPage>1){if(!boundaryLinkNumbers||startPage>3){var previousPageSet=makePage(startPage-1,'...',false);pages.unshift(previousPageSet);}
if(boundaryLinkNumbers){if(startPage===3){var secondPageLink=makePage(2,'2',false);pages.unshift(secondPageLink);}
var firstPageLink=makePage(1,'1',false);pages.unshift(firstPageLink);}}
if(endPage<totalPages){if(!boundaryLinkNumbers||endPage<totalPages-2){var nextPageSet=makePage(endPage+1,'...',false);pages.push(nextPageSet);}
if(boundaryLinkNumbers){if(endPage===totalPages-2){var secondToLastPageLink=makePage(totalPages-1,totalPages-1,false);pages.push(secondToLastPageLink);}
var lastPageLink=makePage(totalPages,totalPages,false);pages.push(lastPageLink);}}}
return pages;}
var originalRender=this.render;this.render=function(){originalRender();if($scope.page>0&&$scope.page<=$scope.totalPages){$scope.pages=getPages($scope.page,$scope.totalPages);}};}]).constant('uibPaginationConfig',{itemsPerPage:10,boundaryLinks:false,boundaryLinkNumbers:false,directionLinks:true,firstText:'First',previousText:'Previous',nextText:'Next',lastText:'Last',rotate:true,forceEllipses:false}).directive('uibPagination',['$parse','uibPaginationConfig',function($parse,uibPaginationConfig){return{scope:{totalItems:'=',firstText:'@',previousText:'@',nextText:'@',lastText:'@',ngDisabled:'='},require:['uibPagination','?ngModel'],restrict:'A',controller:'UibPaginationController',controllerAs:'pagination',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/pagination/pagination.html';},link:function(scope,element,attrs,ctrls){element.addClass('pagination');var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(!ngModelCtrl){return;}
paginationCtrl.init(ngModelCtrl,uibPaginationConfig);}};}]);angular.module('ui.bootstrap.tooltip',['ui.bootstrap.position','ui.bootstrap.stackedMap']).provider('$uibTooltip',function(){var defaultOptions={placement:'top',placementClassPrefix:'',animation:true,popupDelay:0,popupCloseDelay:0,useContentExp:false};var triggerMap={'mouseenter':'mouseleave','click':'click','outsideClick':'outsideClick','focus':'blur','none':''};var globalOptions={};this.options=function(value){angular.extend(globalOptions,value);};this.setTriggers=function setTriggers(triggers){angular.extend(triggerMap,triggers);};function snake_case(name){var regexp=/[A-Z]/g;var separator='-';return name.replace(regexp,function(letter,pos){return(pos?separator:'')+letter.toLowerCase();});}
this.$get=['$window','$compile','$timeout','$document','$uibPosition','$interpolate','$rootScope','$parse','$$stackedMap',function($window,$compile,$timeout,$document,$position,$interpolate,$rootScope,$parse,$$stackedMap){var openedTooltips=$$stackedMap.createNew();$document.on('keyup',keypressListener);$rootScope.$on('$destroy',function(){$document.off('keyup',keypressListener);});function keypressListener(e){if(e.which===27){var last=openedTooltips.top();if(last){last.value.close();last=null;}}}
return function $tooltip(ttType,prefix,defaultTriggerShow,options){options=angular.extend({},defaultOptions,globalOptions,options);function getTriggers(trigger){var show=(trigger||options.trigger||defaultTriggerShow).split(' ');var hide=show.map(function(trigger){return triggerMap[trigger]||trigger;});return{show:show,hide:hide};}
var directiveName=snake_case(ttType);var startSym=$interpolate.startSymbol();var endSym=$interpolate.endSymbol();var template='<div '+directiveName+'-popup '+'uib-title="'+startSym+'title'+endSym+'" '+
(options.useContentExp?'content-exp="contentExp()" ':'content="'+startSym+'content'+endSym+'" ')+'origin-scope="origScope" '+'class="uib-position-measure '+prefix+'" '+'tooltip-animation-class="fade"'+'uib-tooltip-classes '+'ng-class="{ in: isOpen }" '+'>'+'</div>';return{compile:function(tElem,tAttrs){var tooltipLinker=$compile(template);return function link(scope,element,attrs,tooltipCtrl){var tooltip;var tooltipLinkedScope;var transitionTimeout;var showTimeout;var hideTimeout;var positionTimeout;var adjustmentTimeout;var appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:false;var triggers=getTriggers(undefined);var hasEnableExp=angular.isDefined(attrs[prefix+'Enable']);var ttScope=scope.$new(true);var repositionScheduled=false;var isOpenParse=angular.isDefined(attrs[prefix+'IsOpen'])?$parse(attrs[prefix+'IsOpen']):false;var contentParse=options.useContentExp?$parse(attrs[ttType]):false;var observers=[];var lastPlacement;var positionTooltip=function(){if(!tooltip||!tooltip.html()){return;}
if(!positionTimeout){positionTimeout=$timeout(function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);var initialHeight=angular.isDefined(tooltip.offsetHeight)?tooltip.offsetHeight:tooltip.prop('offsetHeight');var elementPos=appendToBody?$position.offset(element):$position.position(element);tooltip.css({top:ttPosition.top+'px',left:ttPosition.left+'px'});var placementClasses=ttPosition.placement.split('-');if(!tooltip.hasClass(placementClasses[0])){tooltip.removeClass(lastPlacement.split('-')[0]);tooltip.addClass(placementClasses[0]);}
if(!tooltip.hasClass(options.placementClassPrefix+ttPosition.placement)){tooltip.removeClass(options.placementClassPrefix+lastPlacement);tooltip.addClass(options.placementClassPrefix+ttPosition.placement);}
adjustmentTimeout=$timeout(function(){var currentHeight=angular.isDefined(tooltip.offsetHeight)?tooltip.offsetHeight:tooltip.prop('offsetHeight');var adjustment=$position.adjustTop(placementClasses,elementPos,initialHeight,currentHeight);if(adjustment){tooltip.css(adjustment);}
adjustmentTimeout=null;},0,false);if(tooltip.hasClass('uib-position-measure')){$position.positionArrow(tooltip,ttPosition.placement);tooltip.removeClass('uib-position-measure');}else if(lastPlacement!==ttPosition.placement){$position.positionArrow(tooltip,ttPosition.placement);}
lastPlacement=ttPosition.placement;positionTimeout=null;},0,false);}};ttScope.origScope=scope;ttScope.isOpen=false;function toggleTooltipBind(){if(!ttScope.isOpen){showTooltipBind();}else{hideTooltipBind();}}
function showTooltipBind(){if(hasEnableExp&&!scope.$eval(attrs[prefix+'Enable'])){return;}
cancelHide();prepareTooltip();if(ttScope.popupDelay){if(!showTimeout){showTimeout=$timeout(show,ttScope.popupDelay,false);}}else{show();}}
function hideTooltipBind(){cancelShow();if(ttScope.popupCloseDelay){if(!hideTimeout){hideTimeout=$timeout(hide,ttScope.popupCloseDelay,false);}}else{hide();}}
function show(){cancelShow();cancelHide();if(!ttScope.content){return angular.noop;}
createTooltip();ttScope.$evalAsync(function(){ttScope.isOpen=true;assignIsOpen(true);positionTooltip();});}
function cancelShow(){if(showTimeout){$timeout.cancel(showTimeout);showTimeout=null;}
if(positionTimeout){$timeout.cancel(positionTimeout);positionTimeout=null;}}
function hide(){if(!ttScope){return;}
ttScope.$evalAsync(function(){if(ttScope){ttScope.isOpen=false;assignIsOpen(false);if(ttScope.animation){if(!transitionTimeout){transitionTimeout=$timeout(removeTooltip,150,false);}}else{removeTooltip();}}});}
function cancelHide(){if(hideTimeout){$timeout.cancel(hideTimeout);hideTimeout=null;}
if(transitionTimeout){$timeout.cancel(transitionTimeout);transitionTimeout=null;}}
function createTooltip(){if(tooltip){return;}
tooltipLinkedScope=ttScope.$new();tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){if(appendToBody){$document.find('body').append(tooltip);}else{element.after(tooltip);}});openedTooltips.add(ttScope,{close:hide});prepObservers();}
function removeTooltip(){cancelShow();cancelHide();unregisterObservers();if(tooltip){tooltip.remove();tooltip=null;if(adjustmentTimeout){$timeout.cancel(adjustmentTimeout);}}
openedTooltips.remove(ttScope);if(tooltipLinkedScope){tooltipLinkedScope.$destroy();tooltipLinkedScope=null;}}
function prepareTooltip(){ttScope.title=attrs[prefix+'Title'];if(contentParse){ttScope.content=contentParse(scope);}else{ttScope.content=attrs[ttType];}
ttScope.popupClass=attrs[prefix+'Class'];ttScope.placement=angular.isDefined(attrs[prefix+'Placement'])?attrs[prefix+'Placement']:options.placement;var placement=$position.parsePlacement(ttScope.placement);lastPlacement=placement[1]?placement[0]+'-'+placement[1]:placement[0];var delay=parseInt(attrs[prefix+'PopupDelay'],10);var closeDelay=parseInt(attrs[prefix+'PopupCloseDelay'],10);ttScope.popupDelay=!isNaN(delay)?delay:options.popupDelay;ttScope.popupCloseDelay=!isNaN(closeDelay)?closeDelay:options.popupCloseDelay;}
function assignIsOpen(isOpen){if(isOpenParse&&angular.isFunction(isOpenParse.assign)){isOpenParse.assign(scope,isOpen);}}
ttScope.contentExp=function(){return ttScope.content;};attrs.$observe('disabled',function(val){if(val){cancelShow();}
if(val&&ttScope.isOpen){hide();}});if(isOpenParse){scope.$watch(isOpenParse,function(val){if(ttScope&&!val===ttScope.isOpen){toggleTooltipBind();}});}
function prepObservers(){observers.length=0;if(contentParse){observers.push(scope.$watch(contentParse,function(val){ttScope.content=val;if(!val&&ttScope.isOpen){hide();}}));observers.push(tooltipLinkedScope.$watch(function(){if(!repositionScheduled){repositionScheduled=true;tooltipLinkedScope.$$postDigest(function(){repositionScheduled=false;if(ttScope&&ttScope.isOpen){positionTooltip();}});}}));}else{observers.push(attrs.$observe(ttType,function(val){ttScope.content=val;if(!val&&ttScope.isOpen){hide();}else{positionTooltip();}}));}
observers.push(attrs.$observe(prefix+'Title',function(val){ttScope.title=val;if(ttScope.isOpen){positionTooltip();}}));observers.push(attrs.$observe(prefix+'Placement',function(val){ttScope.placement=val?val:options.placement;if(ttScope.isOpen){positionTooltip();}}));}
function unregisterObservers(){if(observers.length){angular.forEach(observers,function(observer){observer();});observers.length=0;}}
function bodyHideTooltipBind(e){if(!ttScope||!ttScope.isOpen||!tooltip){return;}
if(!element[0].contains(e.target)&&!tooltip[0].contains(e.target)){hideTooltipBind();}}
function hideOnEscapeKey(e){if(e.which===27){hideTooltipBind();}}
var unregisterTriggers=function(){triggers.show.forEach(function(trigger){if(trigger==='outsideClick'){element.off('click',toggleTooltipBind);}else{element.off(trigger,showTooltipBind);element.off(trigger,toggleTooltipBind);}
element.off('keypress',hideOnEscapeKey);});triggers.hide.forEach(function(trigger){if(trigger==='outsideClick'){$document.off('click',bodyHideTooltipBind);}else{element.off(trigger,hideTooltipBind);}});};function prepTriggers(){var showTriggers=[],hideTriggers=[];var val=scope.$eval(attrs[prefix+'Trigger']);unregisterTriggers();if(angular.isObject(val)){Object.keys(val).forEach(function(key){showTriggers.push(key);hideTriggers.push(val[key]);});triggers={show:showTriggers,hide:hideTriggers};}else{triggers=getTriggers(val);}
if(triggers.show!=='none'){triggers.show.forEach(function(trigger,idx){if(trigger==='outsideClick'){element.on('click',toggleTooltipBind);$document.on('click',bodyHideTooltipBind);}else if(trigger===triggers.hide[idx]){element.on(trigger,toggleTooltipBind);}else if(trigger){element.on(trigger,showTooltipBind);element.on(triggers.hide[idx],hideTooltipBind);}
element.on('keypress',hideOnEscapeKey);});}}
prepTriggers();var animation=scope.$eval(attrs[prefix+'Animation']);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal;var appendKey=prefix+'AppendToBody';if(appendKey in attrs&&attrs[appendKey]===undefined){appendToBodyVal=true;}else{appendToBodyVal=scope.$eval(attrs[appendKey]);}
appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody;scope.$on('$destroy',function onDestroyTooltip(){unregisterTriggers();removeTooltip();ttScope=null;});};}};};}];}).directive('uibTooltipTemplateTransclude',['$animate','$sce','$compile','$templateRequest',function($animate,$sce,$compile,$templateRequest){return{link:function(scope,elem,attrs){var origScope=scope.$eval(attrs.tooltipTemplateTranscludeScope);var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null;}
if(currentScope){currentScope.$destroy();currentScope=null;}
if(currentElement){$animate.leave(currentElement).then(function(){previousElement=null;});previousElement=currentElement;currentElement=null;}};scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude),function(src){var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(thisChangeId!==changeCounter){return;}
var newScope=origScope.$new();var template=response;var clone=$compile(template)(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,elem);});currentScope=newScope;currentElement=clone;currentScope.$emit('$includeContentLoaded',src);},function(){if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit('$includeContentError',src);}});scope.$emit('$includeContentRequested',src);}else{cleanupLastIncludeContent();}});scope.$on('$destroy',cleanupLastIncludeContent);}};}]).directive('uibTooltipClasses',['$uibPosition',function($uibPosition){return{restrict:'A',link:function(scope,element,attrs){if(scope.placement){var position=$uibPosition.parsePlacement(scope.placement);element.addClass(position[0]);}
if(scope.popupClass){element.addClass(scope.popupClass);}
if(scope.animation){element.addClass(attrs.tooltipAnimationClass);}}};}]).directive('uibTooltipPopup',function(){return{restrict:'A',scope:{content:'@'},templateUrl:'uib/template/tooltip/tooltip-popup.html'};}).directive('uibTooltip',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibTooltip','tooltip','mouseenter');}]).directive('uibTooltipTemplatePopup',function(){return{restrict:'A',scope:{contentExp:'&',originScope:'&'},templateUrl:'uib/template/tooltip/tooltip-template-popup.html'};}).directive('uibTooltipTemplate',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibTooltipTemplate','tooltip','mouseenter',{useContentExp:true});}]).directive('uibTooltipHtmlPopup',function(){return{restrict:'A',scope:{contentExp:'&'},templateUrl:'uib/template/tooltip/tooltip-html-popup.html'};}).directive('uibTooltipHtml',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibTooltipHtml','tooltip','mouseenter',{useContentExp:true});}]);angular.module('ui.bootstrap.popover',['ui.bootstrap.tooltip']).directive('uibPopoverTemplatePopup',function(){return{restrict:'A',scope:{uibTitle:'@',contentExp:'&',originScope:'&'},templateUrl:'uib/template/popover/popover-template.html'};}).directive('uibPopoverTemplate',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibPopoverTemplate','popover','click',{useContentExp:true});}]).directive('uibPopoverHtmlPopup',function(){return{restrict:'A',scope:{contentExp:'&',uibTitle:'@'},templateUrl:'uib/template/popover/popover-html.html'};}).directive('uibPopoverHtml',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibPopoverHtml','popover','click',{useContentExp:true});}]).directive('uibPopoverPopup',function(){return{restrict:'A',scope:{uibTitle:'@',content:'@'},templateUrl:'uib/template/popover/popover.html'};}).directive('uibPopover',['$uibTooltip',function($uibTooltip){return $uibTooltip('uibPopover','popover','click');}]);angular.module('ui.bootstrap.progressbar',[]).constant('uibProgressConfig',{animate:true,max:100}).controller('UibProgressController',['$scope','$attrs','uibProgressConfig',function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[];$scope.max=getMaxOrDefault();this.addBar=function(bar,element,attrs){if(!animate){element.css({'transition':'none'});}
this.bars.push(bar);bar.max=getMaxOrDefault();bar.title=attrs&&angular.isDefined(attrs.title)?attrs.title:'progressbar';bar.$watch('value',function(value){bar.recalculatePercentage();});bar.recalculatePercentage=function(){var totalPercentage=self.bars.reduce(function(total,bar){bar.percent=+(100*bar.value/bar.max).toFixed(2);return total+bar.percent;},0);if(totalPercentage>100){bar.percent-=totalPercentage-100;}};bar.$on('$destroy',function(){element=null;self.removeBar(bar);});};this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1);this.bars.forEach(function(bar){bar.recalculatePercentage();});};$scope.$watch('maxParam',function(maxParam){self.bars.forEach(function(bar){bar.max=getMaxOrDefault();bar.recalculatePercentage();});});function getMaxOrDefault(){return angular.isDefined($scope.maxParam)?$scope.maxParam:progressConfig.max;}}]).directive('uibProgress',function(){return{replace:true,transclude:true,controller:'UibProgressController',require:'uibProgress',scope:{maxParam:'=?max'},templateUrl:'uib/template/progressbar/progress.html'};}).directive('uibBar',function(){return{replace:true,transclude:true,require:'^uibProgress',scope:{value:'=',type:'@'},templateUrl:'uib/template/progressbar/bar.html',link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element,attrs);}};}).directive('uibProgressbar',function(){return{replace:true,transclude:true,controller:'UibProgressController',scope:{value:'=',maxParam:'=?max',type:'@'},templateUrl:'uib/template/progressbar/progressbar.html',link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]),{title:attrs.title});}};});angular.module('ui.bootstrap.rating',[]).constant('uibRatingConfig',{max:5,stateOn:null,stateOff:null,enableReset:true,titles:['one','two','three','four','five']}).controller('UibRatingController',['$scope','$attrs','uibRatingConfig',function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop},self=this;this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=this.render;ngModelCtrl.$formatters.push(function(value){if(angular.isNumber(value)&&value<<0!==value){value=Math.round(value);}
return value;});this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn;this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;this.enableReset=angular.isDefined($attrs.enableReset)?$scope.$parent.$eval($attrs.enableReset):ratingConfig.enableReset;var tmpTitles=angular.isDefined($attrs.titles)?$scope.$parent.$eval($attrs.titles):ratingConfig.titles;this.titles=angular.isArray(tmpTitles)&&tmpTitles.length>0?tmpTitles:ratingConfig.titles;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates);};this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++){states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(i)},states[i]);}
return states;};this.getTitle=function(index){if(index>=this.titles.length){return index+1;}
return this.titles[index];};$scope.rate=function(value){if(!$scope.readonly&&value>=0&&value<=$scope.range.length){var newViewValue=self.enableReset&&ngModelCtrl.$viewValue===value?0:value;ngModelCtrl.$setViewValue(newViewValue);ngModelCtrl.$render();}};$scope.enter=function(value){if(!$scope.readonly){$scope.value=value;}
$scope.onHover({value:value});};$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue;$scope.onLeave();};$scope.onKeydown=function(evt){if(/(37|38|39|40)/.test(evt.which)){evt.preventDefault();evt.stopPropagation();$scope.rate($scope.value+(evt.which===38||evt.which===39?1:-1));}};this.render=function(){$scope.value=ngModelCtrl.$viewValue;$scope.title=self.getTitle($scope.value-1);};}]).directive('uibRating',function(){return{require:['uibRating','ngModel'],restrict:'A',scope:{readonly:'=?readOnly',onHover:'&',onLeave:'&'},controller:'UibRatingController',templateUrl:'uib/template/rating/rating.html',link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ratingCtrl.init(ngModelCtrl);}};});angular.module('ui.bootstrap.tabs',[]).controller('UibTabsetController',['$scope',function($scope){var ctrl=this,oldIndex;ctrl.tabs=[];ctrl.select=function(index,evt){if(!destroyed){var previousIndex=findTabIndex(oldIndex);var previousSelected=ctrl.tabs[previousIndex];if(previousSelected){previousSelected.tab.onDeselect({$event:evt,$selectedIndex:index});if(evt&&evt.isDefaultPrevented()){return;}
previousSelected.tab.active=false;}
var selected=ctrl.tabs[index];if(selected){selected.tab.onSelect({$event:evt});selected.tab.active=true;ctrl.active=selected.index;oldIndex=selected.index;}else if(!selected&&angular.isDefined(oldIndex)){ctrl.active=null;oldIndex=null;}}};ctrl.addTab=function addTab(tab){ctrl.tabs.push({tab:tab,index:tab.index});ctrl.tabs.sort(function(t1,t2){if(t1.index>t2.index){return 1;}
if(t1.index<t2.index){return-1;}
return 0;});if(tab.index===ctrl.active||!angular.isDefined(ctrl.active)&&ctrl.tabs.length===1){var newActiveIndex=findTabIndex(tab.index);ctrl.select(newActiveIndex);}};ctrl.removeTab=function removeTab(tab){var index;for(var i=0;i<ctrl.tabs.length;i++){if(ctrl.tabs[i].tab===tab){index=i;break;}}
if(ctrl.tabs[index].index===ctrl.active){var newActiveTabIndex=index===ctrl.tabs.length-1?index-1:index+1%ctrl.tabs.length;ctrl.select(newActiveTabIndex);}
ctrl.tabs.splice(index,1);};$scope.$watch('tabset.active',function(val){if(angular.isDefined(val)&&val!==oldIndex){ctrl.select(findTabIndex(val));}});var destroyed;$scope.$on('$destroy',function(){destroyed=true;});function findTabIndex(index){for(var i=0;i<ctrl.tabs.length;i++){if(ctrl.tabs[i].index===index){return i;}}}}]).directive('uibTabset',function(){return{transclude:true,replace:true,scope:{},bindToController:{active:'=?',type:'@'},controller:'UibTabsetController',controllerAs:'tabset',templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/tabs/tabset.html';},link:function(scope,element,attrs){scope.vertical=angular.isDefined(attrs.vertical)?scope.$parent.$eval(attrs.vertical):false;scope.justified=angular.isDefined(attrs.justified)?scope.$parent.$eval(attrs.justified):false;}};}).directive('uibTab',['$parse',function($parse){return{require:'^uibTabset',replace:true,templateUrl:function(element,attrs){return attrs.templateUrl||'uib/template/tabs/tab.html';},transclude:true,scope:{heading:'@',index:'=?',classes:'@?',onSelect:'&select',onDeselect:'&deselect'},controller:function(){},controllerAs:'tab',link:function(scope,elm,attrs,tabsetCtrl,transclude){scope.disabled=false;if(attrs.disable){scope.$parent.$watch($parse(attrs.disable),function(value){scope.disabled=!!value;});}
if(angular.isUndefined(attrs.index)){if(tabsetCtrl.tabs&&tabsetCtrl.tabs.length){scope.index=Math.max.apply(null,tabsetCtrl.tabs.map(function(t){return t.index;}))+1;}else{scope.index=0;}}
if(angular.isUndefined(attrs.classes)){scope.classes='';}
scope.select=function(evt){if(!scope.disabled){var index;for(var i=0;i<tabsetCtrl.tabs.length;i++){if(tabsetCtrl.tabs[i].tab===scope){index=i;break;}}
tabsetCtrl.select(index,evt);}};tabsetCtrl.addTab(scope);scope.$on('$destroy',function(){tabsetCtrl.removeTab(scope);});scope.$transcludeFn=transclude;}};}]).directive('uibTabHeadingTransclude',function(){return{restrict:'A',require:'^uibTab',link:function(scope,elm){scope.$watch('headingElement',function updateHeadingElement(heading){if(heading){elm.html('');elm.append(heading);}});}};}).directive('uibTabContentTransclude',function(){return{restrict:'A',require:'^uibTabset',link:function(scope,elm,attrs){var tab=scope.$eval(attrs.uibTabContentTransclude).tab;tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){if(isTabHeading(node)){tab.headingElement=node;}else{elm.append(node);}});});}};function isTabHeading(node){return node.tagName&&(node.hasAttribute('uib-tab-heading')||node.hasAttribute('data-uib-tab-heading')||node.hasAttribute('x-uib-tab-heading')||node.tagName.toLowerCase()==='uib-tab-heading'||node.tagName.toLowerCase()==='data-uib-tab-heading'||node.tagName.toLowerCase()==='x-uib-tab-heading'||node.tagName.toLowerCase()==='uib:tab-heading');}});angular.module('ui.bootstrap.timepicker',[]).constant('uibTimepickerConfig',{hourStep:1,minuteStep:1,secondStep:1,showMeridian:true,showSeconds:false,meridians:null,readonlyInput:false,mousewheel:true,arrowkeys:true,showSpinners:true,templateUrl:'uib/template/timepicker/timepicker.html'}).controller('UibTimepickerController',['$scope','$element','$attrs','$parse','$log','$locale','uibTimepickerConfig',function($scope,$element,$attrs,$parse,$log,$locale,timepickerConfig){var hoursModelCtrl,minutesModelCtrl,secondsModelCtrl;var selected=new Date(),watchers=[],ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS,padHours=angular.isDefined($attrs.padHours)?$scope.$parent.$eval($attrs.padHours):true;$scope.tabindex=angular.isDefined($attrs.tabindex)?$attrs.tabindex:0;$element.removeAttr('tabindex');this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_;ngModelCtrl.$render=this.render;ngModelCtrl.$formatters.unshift(function(modelValue){return modelValue?new Date(modelValue):null;});var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),secondsInputEl=inputs.eq(2);hoursModelCtrl=hoursInputEl.controller('ngModel');minutesModelCtrl=minutesInputEl.controller('ngModel');secondsModelCtrl=secondsInputEl.controller('ngModel');var mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;if(mousewheel){this.setupMousewheelEvents(hoursInputEl,minutesInputEl,secondsInputEl);}
var arrowkeys=angular.isDefined($attrs.arrowkeys)?$scope.$parent.$eval($attrs.arrowkeys):timepickerConfig.arrowkeys;if(arrowkeys){this.setupArrowkeyEvents(hoursInputEl,minutesInputEl,secondsInputEl);}
$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput;this.setupInputEvents(hoursInputEl,minutesInputEl,secondsInputEl);};var hourStep=timepickerConfig.hourStep;if($attrs.hourStep){watchers.push($scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=+value;}));}
var minuteStep=timepickerConfig.minuteStep;if($attrs.minuteStep){watchers.push($scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=+value;}));}
var min;watchers.push($scope.$parent.$watch($parse($attrs.min),function(value){var dt=new Date(value);min=isNaN(dt)?undefined:dt;}));var max;watchers.push($scope.$parent.$watch($parse($attrs.max),function(value){var dt=new Date(value);max=isNaN(dt)?undefined:dt;}));var disabled=false;if($attrs.ngDisabled){watchers.push($scope.$parent.$watch($parse($attrs.ngDisabled),function(value){disabled=value;}));}
$scope.noIncrementHours=function(){var incrementedSelected=addMinutes(selected,hourStep*60);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min;};$scope.noDecrementHours=function(){var decrementedSelected=addMinutes(selected,-hourStep*60);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max;};$scope.noIncrementMinutes=function(){var incrementedSelected=addMinutes(selected,minuteStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min;};$scope.noDecrementMinutes=function(){var decrementedSelected=addMinutes(selected,-minuteStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max;};$scope.noIncrementSeconds=function(){var incrementedSelected=addSeconds(selected,secondStep);return disabled||incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min;};$scope.noDecrementSeconds=function(){var decrementedSelected=addSeconds(selected,-secondStep);return disabled||decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max;};$scope.noToggleMeridian=function(){if(selected.getHours()<12){return disabled||addMinutes(selected,12*60)>max;}
return disabled||addMinutes(selected,-12*60)<min;};var secondStep=timepickerConfig.secondStep;if($attrs.secondStep){watchers.push($scope.$parent.$watch($parse($attrs.secondStep),function(value){secondStep=+value;}));}
$scope.showSeconds=timepickerConfig.showSeconds;if($attrs.showSeconds){watchers.push($scope.$parent.$watch($parse($attrs.showSeconds),function(value){$scope.showSeconds=!!value;}));}
$scope.showMeridian=timepickerConfig.showMeridian;if($attrs.showMeridian){watchers.push($scope.$parent.$watch($parse($attrs.showMeridian),function(value){$scope.showMeridian=!!value;if(ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();if(angular.isDefined(hours)&&angular.isDefined(minutes)){selected.setHours(hours);refresh();}}else{updateTemplate();}}));}
function getHoursFromTemplate(){var hours=+$scope.hours;var valid=$scope.showMeridian?hours>0&&hours<13:hours>=0&&hours<24;if(!valid||$scope.hours===''){return undefined;}
if($scope.showMeridian){if(hours===12){hours=0;}
if($scope.meridian===meridians[1]){hours=hours+12;}}
return hours;}
function getMinutesFromTemplate(){var minutes=+$scope.minutes;var valid=minutes>=0&&minutes<60;if(!valid||$scope.minutes===''){return undefined;}
return minutes;}
function getSecondsFromTemplate(){var seconds=+$scope.seconds;return seconds>=0&&seconds<60?seconds:undefined;}
function pad(value,noPad){if(value===null){return'';}
return angular.isDefined(value)&&value.toString().length<2&&!noPad?'0'+value:value.toString();}
this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){var isScrollingUp=function(e){if(e.originalEvent){e=e.originalEvent;}
var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0;};hoursInputEl.on('mousewheel wheel',function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours());}
e.preventDefault();});minutesInputEl.on('mousewheel wheel',function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes());}
e.preventDefault();});secondsInputEl.on('mousewheel wheel',function(e){if(!disabled){$scope.$apply(isScrollingUp(e)?$scope.incrementSeconds():$scope.decrementSeconds());}
e.preventDefault();});};this.setupArrowkeyEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){hoursInputEl.on('keydown',function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementHours();$scope.$apply();}else if(e.which===40){e.preventDefault();$scope.decrementHours();$scope.$apply();}}});minutesInputEl.on('keydown',function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementMinutes();$scope.$apply();}else if(e.which===40){e.preventDefault();$scope.decrementMinutes();$scope.$apply();}}});secondsInputEl.on('keydown',function(e){if(!disabled){if(e.which===38){e.preventDefault();$scope.incrementSeconds();$scope.$apply();}else if(e.which===40){e.preventDefault();$scope.decrementSeconds();$scope.$apply();}}});};this.setupInputEvents=function(hoursInputEl,minutesInputEl,secondsInputEl){if($scope.readonlyInput){$scope.updateHours=angular.noop;$scope.updateMinutes=angular.noop;$scope.updateSeconds=angular.noop;return;}
var invalidate=function(invalidHours,invalidMinutes,invalidSeconds){ngModelCtrl.$setViewValue(null);ngModelCtrl.$setValidity('time',false);if(angular.isDefined(invalidHours)){$scope.invalidHours=invalidHours;if(hoursModelCtrl){hoursModelCtrl.$setValidity('hours',false);}}
if(angular.isDefined(invalidMinutes)){$scope.invalidMinutes=invalidMinutes;if(minutesModelCtrl){minutesModelCtrl.$setValidity('minutes',false);}}
if(angular.isDefined(invalidSeconds)){$scope.invalidSeconds=invalidSeconds;if(secondsModelCtrl){secondsModelCtrl.$setValidity('seconds',false);}}};$scope.updateHours=function(){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(hours)&&angular.isDefined(minutes)){selected.setHours(hours);selected.setMinutes(minutes);if(selected<min||selected>max){invalidate(true);}else{refresh('h');}}else{invalidate(true);}};hoursInputEl.on('blur',function(e){ngModelCtrl.$setTouched();if(modelIsEmpty()){makeValid();}else if($scope.hours===null||$scope.hours===''){invalidate(true);}else if(!$scope.invalidHours&&$scope.hours<10){$scope.$apply(function(){$scope.hours=pad($scope.hours,!padHours);});}});$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate(),hours=getHoursFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(minutes)&&angular.isDefined(hours)){selected.setHours(hours);selected.setMinutes(minutes);if(selected<min||selected>max){invalidate(undefined,true);}else{refresh('m');}}else{invalidate(undefined,true);}};minutesInputEl.on('blur',function(e){ngModelCtrl.$setTouched();if(modelIsEmpty()){makeValid();}else if($scope.minutes===null){invalidate(undefined,true);}else if(!$scope.invalidMinutes&&$scope.minutes<10){$scope.$apply(function(){$scope.minutes=pad($scope.minutes);});}});$scope.updateSeconds=function(){var seconds=getSecondsFromTemplate();ngModelCtrl.$setDirty();if(angular.isDefined(seconds)){selected.setSeconds(seconds);refresh('s');}else{invalidate(undefined,undefined,true);}};secondsInputEl.on('blur',function(e){if(modelIsEmpty()){makeValid();}else if(!$scope.invalidSeconds&&$scope.seconds<10){$scope.$apply(function(){$scope.seconds=pad($scope.seconds);});}});};this.render=function(){var date=ngModelCtrl.$viewValue;if(isNaN(date)){ngModelCtrl.$setValidity('time',false);$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');}else{if(date){selected=date;}
if(selected<min||selected>max){ngModelCtrl.$setValidity('time',false);$scope.invalidHours=true;$scope.invalidMinutes=true;}else{makeValid();}
updateTemplate();}};function refresh(keyboardChange){makeValid();ngModelCtrl.$setViewValue(new Date(selected));updateTemplate(keyboardChange);}
function makeValid(){if(hoursModelCtrl){hoursModelCtrl.$setValidity('hours',true);}
if(minutesModelCtrl){minutesModelCtrl.$setValidity('minutes',true);}
if(secondsModelCtrl){secondsModelCtrl.$setValidity('seconds',true);}
ngModelCtrl.$setValidity('time',true);$scope.invalidHours=false;$scope.invalidMinutes=false;$scope.invalidSeconds=false;}
function updateTemplate(keyboardChange){if(!ngModelCtrl.$modelValue){$scope.hours=null;$scope.minutes=null;$scope.seconds=null;$scope.meridian=meridians[0];}else{var hours=selected.getHours(),minutes=selected.getMinutes(),seconds=selected.getSeconds();if($scope.showMeridian){hours=hours===0||hours===12?12:hours%12;}
$scope.hours=keyboardChange==='h'?hours:pad(hours,!padHours);if(keyboardChange!=='m'){$scope.minutes=pad(minutes);}
$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1];if(keyboardChange!=='s'){$scope.seconds=pad(seconds);}
$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1];}}
function addSecondsToSelected(seconds){selected=addSeconds(selected,seconds);refresh();}
function addMinutes(selected,minutes){return addSeconds(selected,minutes*60);}
function addSeconds(date,seconds){var dt=new Date(date.getTime()+seconds*1000);var newDate=new Date(date);newDate.setHours(dt.getHours(),dt.getMinutes(),dt.getSeconds());return newDate;}
function modelIsEmpty(){return($scope.hours===null||$scope.hours==='')&&($scope.minutes===null||$scope.minutes==='')&&(!$scope.showSeconds||$scope.showSeconds&&($scope.seconds===null||$scope.seconds===''));}
$scope.showSpinners=angular.isDefined($attrs.showSpinners)?$scope.$parent.$eval($attrs.showSpinners):timepickerConfig.showSpinners;$scope.incrementHours=function(){if(!$scope.noIncrementHours()){addSecondsToSelected(hourStep*60*60);}};$scope.decrementHours=function(){if(!$scope.noDecrementHours()){addSecondsToSelected(-hourStep*60*60);}};$scope.incrementMinutes=function(){if(!$scope.noIncrementMinutes()){addSecondsToSelected(minuteStep*60);}};$scope.decrementMinutes=function(){if(!$scope.noDecrementMinutes()){addSecondsToSelected(-minuteStep*60);}};$scope.incrementSeconds=function(){if(!$scope.noIncrementSeconds()){addSecondsToSelected(secondStep);}};$scope.decrementSeconds=function(){if(!$scope.noDecrementSeconds()){addSecondsToSelected(-secondStep);}};$scope.toggleMeridian=function(){var minutes=getMinutesFromTemplate(),hours=getHoursFromTemplate();if(!$scope.noToggleMeridian()){if(angular.isDefined(minutes)&&angular.isDefined(hours)){addSecondsToSelected(12*60*(selected.getHours()<12?60:-60));}else{$scope.meridian=$scope.meridian===meridians[0]?meridians[1]:meridians[0];}}};$scope.blur=function(){ngModelCtrl.$setTouched();};$scope.$on('$destroy',function(){while(watchers.length){watchers.shift()();}});}]).directive('uibTimepicker',['uibTimepickerConfig',function(uibTimepickerConfig){return{require:['uibTimepicker','?^ngModel'],restrict:'A',controller:'UibTimepickerController',controllerAs:'timepicker',scope:{},templateUrl:function(element,attrs){return attrs.templateUrl||uibTimepickerConfig.templateUrl;},link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){timepickerCtrl.init(ngModelCtrl,element.find('input'));}}};}]);angular.module('ui.bootstrap.typeahead',['ui.bootstrap.debounce','ui.bootstrap.position']).factory('uibTypeaheadParser',['$parse',function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match){throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_"'+' but got "'+input+'".');}
return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])};}};}]).controller('UibTypeaheadController',['$scope','$element','$attrs','$compile','$parse','$q','$timeout','$document','$window','$rootScope','$$debounce','$uibPosition','uibTypeaheadParser',function(originalScope,element,attrs,$compile,$parse,$q,$timeout,$document,$window,$rootScope,$$debounce,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];var eventDebounceTime=200;var modelCtrl,ngModelOptions;var minLength=originalScope.$eval(attrs.typeaheadMinLength);if(!minLength&&minLength!==0){minLength=1;}
originalScope.$watch(attrs.typeaheadMinLength,function(newVal){minLength=!newVal&&newVal!==0?1:newVal;});var waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0;var isEditable=originalScope.$eval(attrs.typeaheadEditable)!==false;originalScope.$watch(attrs.typeaheadEditable,function(newVal){isEditable=newVal!==false;});var isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop;var isSelectEvent=attrs.typeaheadShouldSelect?$parse(attrs.typeaheadShouldSelect):function(scope,vals){var evt=vals.$event;return evt.which===13||evt.which===9;};var onSelectCallback=$parse(attrs.typeaheadOnSelect);var isSelectOnBlur=angular.isDefined(attrs.typeaheadSelectOnBlur)?originalScope.$eval(attrs.typeaheadSelectOnBlur):false;var isNoResultsSetter=$parse(attrs.typeaheadNoResults).assign||angular.noop;var inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):undefined;var appendToBody=attrs.typeaheadAppendToBody?originalScope.$eval(attrs.typeaheadAppendToBody):false;var appendTo=attrs.typeaheadAppendTo?originalScope.$eval(attrs.typeaheadAppendTo):null;var focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==false;var selectOnExact=attrs.typeaheadSelectOnExact?originalScope.$eval(attrs.typeaheadSelectOnExact):false;var isOpenSetter=$parse(attrs.typeaheadIsOpen).assign||angular.noop;var showHint=originalScope.$eval(attrs.typeaheadShowHint)||false;var parsedModel=$parse(attrs.ngModel);var invokeModelSetter=$parse(attrs.ngModel+'($$$p)');var $setModelValue=function(scope,newValue){if(angular.isFunction(parsedModel(originalScope))&&ngModelOptions.getOption('getterSetter')){return invokeModelSetter(scope,{$$$p:newValue});}
return parsedModel.assign(scope,newValue);};var parserResult=typeaheadParser.parse(attrs.uibTypeahead);var hasFocus;var selected;var scope=originalScope.$new();var offDestroy=originalScope.$on('$destroy',function(){scope.$destroy();});scope.$on('$destroy',offDestroy);var popupId='typeahead-'+scope.$id+'-'+Math.floor(Math.random()*10000);element.attr({'aria-autocomplete':'list','aria-expanded':false,'aria-owns':popupId});var inputsContainer,hintInputElem;if(showHint){inputsContainer=angular.element('<div></div>');inputsContainer.css('position','relative');element.after(inputsContainer);hintInputElem=element.clone();hintInputElem.attr('placeholder','');hintInputElem.attr('tabindex','-1');hintInputElem.val('');hintInputElem.css({'position':'absolute','top':'0px','left':'0px','border-color':'transparent','box-shadow':'none','opacity':1,'background':'none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)','color':'#999'});element.css({'position':'relative','vertical-align':'top','background-color':'transparent'});if(hintInputElem.attr('id')){hintInputElem.removeAttr('id');}
inputsContainer.append(hintInputElem);hintInputElem.after(element);}
var popUpEl=angular.element('<div uib-typeahead-popup></div>');popUpEl.attr({id:popupId,matches:'matches',active:'activeIdx',select:'select(activeIdx, evt)','move-in-progress':'moveInProgress',query:'query',position:'position','assign-is-open':'assignIsOpen(isOpen)',debounce:'debounceUpdate'});if(angular.isDefined(attrs.typeaheadTemplateUrl)){popUpEl.attr('template-url',attrs.typeaheadTemplateUrl);}
if(angular.isDefined(attrs.typeaheadPopupTemplateUrl)){popUpEl.attr('popup-template-url',attrs.typeaheadPopupTemplateUrl);}
var resetHint=function(){if(showHint){hintInputElem.val('');}};var resetMatches=function(){scope.matches=[];scope.activeIdx=-1;element.attr('aria-expanded',false);resetHint();};var getMatchId=function(index){return popupId+'-option-'+index;};scope.$watch('activeIdx',function(index){if(index<0){element.removeAttr('aria-activedescendant');}else{element.attr('aria-activedescendant',getMatchId(index));}});var inputIsExactMatch=function(inputValue,index){if(scope.matches.length>index&&inputValue){return inputValue.toUpperCase()===scope.matches[index].label.toUpperCase();}
return false;};var getMatchesAsync=function(inputValue,evt){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,true);isNoResultsSetter(originalScope,false);$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus){if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1;isNoResultsSetter(originalScope,false);scope.matches.length=0;for(var i=0;i<matches.length;i++){locals[parserResult.itemName]=matches[i];scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});}
scope.query=inputValue;recalculatePosition();element.attr('aria-expanded',true);if(selectOnExact&&scope.matches.length===1&&inputIsExactMatch(inputValue,0)){if(angular.isNumber(scope.debounceUpdate)||angular.isObject(scope.debounceUpdate)){$$debounce(function(){scope.select(0,evt);},angular.isNumber(scope.debounceUpdate)?scope.debounceUpdate:scope.debounceUpdate['default']);}else{scope.select(0,evt);}}
if(showHint){var firstLabel=scope.matches[0].label;if(angular.isString(inputValue)&&inputValue.length>0&&firstLabel.slice(0,inputValue.length).toUpperCase()===inputValue.toUpperCase()){hintInputElem.val(inputValue+firstLabel.slice(inputValue.length));}else{hintInputElem.val('');}}}else{resetMatches();isNoResultsSetter(originalScope,true);}}
if(onCurrentRequest){isLoadingSetter(originalScope,false);}},function(){resetMatches();isLoadingSetter(originalScope,false);isNoResultsSetter(originalScope,true);});};if(appendToBody){angular.element($window).on('resize',fireRecalculating);$document.find('body').on('scroll',fireRecalculating);}
var debouncedRecalculate=$$debounce(function(){if(scope.matches.length){recalculatePosition();}
scope.moveInProgress=false;},eventDebounceTime);scope.moveInProgress=false;function fireRecalculating(){if(!scope.moveInProgress){scope.moveInProgress=true;scope.$digest();}
debouncedRecalculate();}
function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element);scope.position.top+=element.prop('offsetHeight');}
scope.query=undefined;var timeoutPromise;var scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue);},waitTime);};var cancelPreviousTimeout=function(){if(timeoutPromise){$timeout.cancel(timeoutPromise);}};resetMatches();scope.assignIsOpen=function(isOpen){isOpenSetter(originalScope,isOpen);};scope.select=function(activeIdx,evt){var locals={};var model,item;selected=true;locals[parserResult.itemName]=item=scope.matches[activeIdx].model;model=parserResult.modelMapper(originalScope,locals);$setModelValue(originalScope,model);modelCtrl.$setValidity('editable',true);modelCtrl.$setValidity('parse',true);onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals),$event:evt});resetMatches();if(scope.$eval(attrs.typeaheadFocusOnSelect)!==false){$timeout(function(){element[0].focus();},0,false);}};element.on('keydown',function(evt){if(scope.matches.length===0||HOT_KEYS.indexOf(evt.which)===-1){return;}
var shouldSelect=isSelectEvent(originalScope,{$event:evt});if(scope.activeIdx===-1&&shouldSelect||evt.which===9&&!!evt.shiftKey){resetMatches();scope.$digest();return;}
evt.preventDefault();var target;switch(evt.which){case 27:evt.stopPropagation();resetMatches();originalScope.$digest();break;case 38:scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1;scope.$digest();target=popUpEl[0].querySelectorAll('.uib-typeahead-match')[scope.activeIdx];target.parentNode.scrollTop=target.offsetTop;break;case 40:scope.activeIdx=(scope.activeIdx+1)%scope.matches.length;scope.$digest();target=popUpEl[0].querySelectorAll('.uib-typeahead-match')[scope.activeIdx];target.parentNode.scrollTop=target.offsetTop;break;default:if(shouldSelect){scope.$apply(function(){if(angular.isNumber(scope.debounceUpdate)||angular.isObject(scope.debounceUpdate)){$$debounce(function(){scope.select(scope.activeIdx,evt);},angular.isNumber(scope.debounceUpdate)?scope.debounceUpdate:scope.debounceUpdate['default']);}else{scope.select(scope.activeIdx,evt);}});}}});element.on('focus',function(evt){hasFocus=true;if(minLength===0&&!modelCtrl.$viewValue){$timeout(function(){getMatchesAsync(modelCtrl.$viewValue,evt);},0);}});element.on('blur',function(evt){if(isSelectOnBlur&&scope.matches.length&&scope.activeIdx!==-1&&!selected){selected=true;scope.$apply(function(){if(angular.isObject(scope.debounceUpdate)&&angular.isNumber(scope.debounceUpdate.blur)){$$debounce(function(){scope.select(scope.activeIdx,evt);},scope.debounceUpdate.blur);}else{scope.select(scope.activeIdx,evt);}});}
if(!isEditable&&modelCtrl.$error.editable){modelCtrl.$setViewValue();scope.$apply(function(){modelCtrl.$setValidity('editable',true);modelCtrl.$setValidity('parse',true);});element.val('');}
hasFocus=false;selected=false;});var dismissClickHandler=function(evt){if(element[0]!==evt.target&&evt.which!==3&&scope.matches.length!==0){resetMatches();if(!$rootScope.$$phase){originalScope.$digest();}}};$document.on('click',dismissClickHandler);originalScope.$on('$destroy',function(){$document.off('click',dismissClickHandler);if(appendToBody||appendTo){$popup.remove();}
if(appendToBody){angular.element($window).off('resize',fireRecalculating);$document.find('body').off('scroll',fireRecalculating);}
popUpEl.remove();if(showHint){inputsContainer.remove();}});var $popup=$compile(popUpEl)(scope);if(appendToBody){$document.find('body').append($popup);}else if(appendTo){angular.element(appendTo).eq(0).append($popup);}else{element.after($popup);}
this.init=function(_modelCtrl){modelCtrl=_modelCtrl;ngModelOptions=extractOptions(modelCtrl);scope.debounceUpdate=$parse(ngModelOptions.getOption('debounce'))(originalScope);modelCtrl.$parsers.unshift(function(inputValue){hasFocus=true;if(minLength===0||inputValue&&inputValue.length>=minLength){if(waitTime>0){cancelPreviousTimeout();scheduleSearchWithTimeout(inputValue);}else{getMatchesAsync(inputValue);}}else{isLoadingSetter(originalScope,false);cancelPreviousTimeout();resetMatches();}
if(isEditable){return inputValue;}
if(!inputValue){modelCtrl.$setValidity('editable',true);return null;}
modelCtrl.$setValidity('editable',false);return undefined;});modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue;var locals={};if(!isEditable){modelCtrl.$setValidity('editable',true);}
if(inputFormatter){locals.$model=modelValue;return inputFormatter(originalScope,locals);}
locals[parserResult.itemName]=modelValue;candidateViewValue=parserResult.viewMapper(originalScope,locals);locals[parserResult.itemName]=undefined;emptyViewValue=parserResult.viewMapper(originalScope,locals);return candidateViewValue!==emptyViewValue?candidateViewValue:modelValue;});};function extractOptions(ngModelCtrl){var ngModelOptions;if(angular.version.minor<6){ngModelOptions=ngModelCtrl.$options||{};ngModelOptions.getOption=function(key){return ngModelOptions[key];};}else{ngModelOptions=ngModelCtrl.$options;}
return ngModelOptions;}}]).directive('uibTypeahead',function(){return{controller:'UibTypeaheadController',require:['ngModel','uibTypeahead'],link:function(originalScope,element,attrs,ctrls){ctrls[1].init(ctrls[0]);}};}).directive('uibTypeaheadPopup',['$$debounce',function($$debounce){return{scope:{matches:'=',query:'=',active:'=',position:'&',moveInProgress:'=',select:'&',assignIsOpen:'&',debounce:'&'},replace:true,templateUrl:function(element,attrs){return attrs.popupTemplateUrl||'uib/template/typeahead/typeahead-popup.html';},link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl;scope.isOpen=function(){var isDropdownOpen=scope.matches.length>0;scope.assignIsOpen({isOpen:isDropdownOpen});return isDropdownOpen;};scope.isActive=function(matchIdx){return scope.active===matchIdx;};scope.selectActive=function(matchIdx){scope.active=matchIdx;};scope.selectMatch=function(activeIdx,evt){var debounce=scope.debounce();if(angular.isNumber(debounce)||angular.isObject(debounce)){$$debounce(function(){scope.select({activeIdx:activeIdx,evt:evt});},angular.isNumber(debounce)?debounce:debounce['default']);}else{scope.select({activeIdx:activeIdx,evt:evt});}};}};}]).directive('uibTypeaheadMatch',['$templateRequest','$compile','$parse',function($templateRequest,$compile,$parse){return{scope:{index:'=',match:'=',query:'='},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||'uib/template/typeahead/typeahead-match.html';$templateRequest(tplUrl).then(function(tplContent){var tplEl=angular.element(tplContent.trim());element.replaceWith(tplEl);$compile(tplEl)(scope);});}};}]).filter('uibTypeaheadHighlight',['$sce','$injector','$log',function($sce,$injector,$log){var isSanitizePresent;isSanitizePresent=$injector.has('$sanitize');function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,'\\$1');}
function containsHtml(matchItem){return/<.*>/g.test(matchItem);}
return function(matchItem,query){if(!isSanitizePresent&&containsHtml(matchItem)){$log.warn('Unsafe use of typeahead please use ngSanitize');}
matchItem=query?(''+matchItem).replace(new RegExp(escapeRegexp(query),'gi'),'<strong>$&</strong>'):matchItem;if(!isSanitizePresent){matchItem=$sce.trustAsHtml(matchItem);}
return matchItem;};}]);angular.module('ui.bootstrap.carousel').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find('head').prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');angular.$$uibCarouselCss=true;});angular.module('ui.bootstrap.datepicker').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find('head').prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>');angular.$$uibDatepickerCss=true;});angular.module('ui.bootstrap.position').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find('head').prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>');angular.$$uibPositionCss=true;});angular.module('ui.bootstrap.datepickerPopup').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find('head').prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>');angular.$$uibDatepickerpopupCss=true;});angular.module('ui.bootstrap.tooltip').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find('head').prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>');angular.$$uibTooltipCss=true;});angular.module('ui.bootstrap.timepicker').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find('head').prepend('<style type="text/css">.uib-time input{width:50px;}</style>');angular.$$uibTimepickerCss=true;});angular.module('ui.bootstrap.typeahead').run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find('head').prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>');angular.$$uibTypeaheadCss=true;});return angular.module("ui.bootstrap");});
/*! $57 angular-ui-select/ui-select */
define('angular-ui-select/ui-select',['angular-frdl'],function(angular){
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.19.7 - 2017-04-15T14:28:36.649Z
 * License: MIT
 */
(function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true;}
if(e.metaKey||e.ctrlKey||e.altKey)return true;return false;},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123;},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k);},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k);},toSeparator:function(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];if(sep)return sep;return KEY[k]?undefined:k;}};function isNil(value){return angular.isUndefined(value)||value===null;}
if(angular.element.prototype.querySelectorAll===undefined){angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector));};}
if(angular.element.prototype.closest===undefined){angular.element.prototype.closest=function(selector){var elem=this[0];var matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;while(elem){if(matchesSelector.bind(elem)(selector)){return elem;}else{elem=elem.parentElement;}}
return false;};}
var latestId=0;var uis=angular.module('ui.select',[]).constant('uiSelectConfig',{theme:'bootstrap',searchEnabled:true,sortable:false,placeholder:'',refreshDelay:1000,closeOnSelect:true,skipFocusser:false,dropdownPosition:'auto',removeSelected:true,resetSearchInput:true,generateId:function(){return latestId++;},appendToBody:false,spinnerEnabled:false,spinnerClass:'glyphicon glyphicon-refresh ui-select-spin',backspaceReset:true}).service('uiSelectMinErr',function(){var minErr=angular.$$minErr('ui.select');return function(){var error=minErr.apply(this,arguments);var message=error.message.replace(new RegExp('\nhttp://errors.angularjs.org/.*'),'');return new Error(message);};}).directive('uisTranscludeAppend',function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone);});}};}).filter('highlight',function(){function escapeRegexp(queryToEscape){return(''+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,'\\$1');}
return function(matchItem,query){return query&&matchItem?(''+matchItem).replace(new RegExp(escapeRegexp(query),'gi'),'<span class="ui-select-highlight">$&</span>'):matchItem;};}).factory('uisOffset',['$document','$window',function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop('offsetWidth'),height:boundingClientRect.height||element.prop('offsetHeight'),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)};};}]);uis.factory('$$uisDebounce',['$timeout',function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this;var args=Array.prototype.slice.call(arguments);if(timeoutPromise){$timeout.cancel(timeoutPromise);}
timeoutPromise=$timeout(function(){callback.apply(self,args);},debounceTime);};};}]);uis.directive('uiSelectChoices',['uiSelectConfig','uisRepeatParser','uiSelectMinErr','$compile','$window',function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window){return{restrict:'EA',require:'^uiSelect',replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass('ui-select-choices');var theme=tElement.parent().attr('theme')||uiSelectConfig.theme;return theme+'/choices.tpl.html';},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr('repeat',"Expected 'repeat' expression.");var groupByExp=tAttrs.groupBy;var groupFilterExp=tAttrs.groupFilter;if(groupByExp){var groups=tElement.querySelectorAll('.ui-select-choices-group');if(groups.length!==1)throw uiSelectMinErr('rows',"Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr('ng-repeat',RepeatParser.getGroupNgRepeatExpression());}
var parserResult=RepeatParser.parse(tAttrs.repeat);var choices=tElement.querySelectorAll('.ui-select-choices-row');if(choices.length!==1){throw uiSelectMinErr('rows',"Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);}
choices.attr('ng-repeat',parserResult.repeatExpression(groupByExp)).attr('ng-if','$select.open');var rowsInner=tElement.querySelectorAll('.ui-select-choices-row-inner');if(rowsInner.length!==1){throw uiSelectMinErr('rows',"Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);}
rowsInner.attr('uis-transclude-append','');var clickTarget=$window.document.addEventListener?choices:rowsInner;clickTarget.attr('ng-click','$select.select('+parserResult.itemName+',$select.skipFocusser,$event)');return function link(scope,element,attrs,$select){$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp);$select.disableChoiceExpression=attrs.uiDisableChoice;$select.onHighlightCallback=attrs.onHighlight;$select.minimumInputLength=parseInt(attrs.minimumInputLength)||0;$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition;scope.$watch('$select.search',function(newValue){if(newValue&&!$select.open&&$select.multiple)$select.activate(false,true);$select.activeIndex=$select.tagging.isActivated?-1:0;if(!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength){$select.refresh(attrs.refresh);}else{$select.items=[];}});attrs.$observe('refreshDelay',function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=refreshDelay!==undefined?refreshDelay:uiSelectConfig.refreshDelay;});scope.$watch('$select.open',function(open){if(open){tElement.attr('role','listbox');$select.refresh(attrs.refresh);}else{element.removeAttr('role');}});};}};}]);uis.controller('uiSelectCtrl',['$scope','$element','$timeout','$filter','$$uisDebounce','uisRepeatParser','uiSelectMinErr','uiSelectConfig','$parse','$injector','$window',function($scope,$element,$timeout,$filter,$$uisDebounce,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){var ctrl=this;var EMPTY_SEARCH='';ctrl.placeholder=uiSelectConfig.placeholder;ctrl.searchEnabled=uiSelectConfig.searchEnabled;ctrl.sortable=uiSelectConfig.sortable;ctrl.refreshDelay=uiSelectConfig.refreshDelay;ctrl.paste=uiSelectConfig.paste;ctrl.resetSearchInput=uiSelectConfig.resetSearchInput;ctrl.refreshing=false;ctrl.spinnerEnabled=uiSelectConfig.spinnerEnabled;ctrl.spinnerClass=uiSelectConfig.spinnerClass;ctrl.removeSelected=uiSelectConfig.removeSelected;ctrl.closeOnSelect=true;ctrl.skipFocusser=false;ctrl.search=EMPTY_SEARCH;ctrl.activeIndex=0;ctrl.items=[];ctrl.open=false;ctrl.focus=false;ctrl.disabled=false;ctrl.selected=undefined;ctrl.dropdownPosition='auto';ctrl.focusser=undefined;ctrl.multiple=undefined;ctrl.disableChoiceExpression=undefined;ctrl.tagging={isActivated:false,fct:undefined};ctrl.taggingTokens={isActivated:false,tokens:undefined};ctrl.lockChoiceExpression=undefined;ctrl.clickTriggeredSelect=false;ctrl.$filter=$filter;ctrl.$element=$element;ctrl.$animate=(function(){try{return $injector.get('$animate');}catch(err){return null;}})();ctrl.searchInput=$element.querySelectorAll('input.ui-select-search');if(ctrl.searchInput.length!==1){throw uiSelectMinErr('searchInput',"Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);}
ctrl.isEmpty=function(){return isNil(ctrl.selected)||ctrl.selected===''||(ctrl.multiple&&ctrl.selected.length===0);};function _findIndex(collection,predicate,thisArg){if(collection.findIndex){return collection.findIndex(predicate,thisArg);}else{var list=Object(collection);var length=list.length>>>0;var value;for(var i=0;i<length;i++){value=list[i];if(predicate.call(thisArg,value,i,list)){return i;}}
return-1;}}
function _resetSearchInput(){if(ctrl.resetSearchInput){ctrl.search=EMPTY_SEARCH;if(ctrl.selected&&ctrl.items.length&&!ctrl.multiple){ctrl.activeIndex=_findIndex(ctrl.items,function(item){return angular.equals(this,item);},ctrl.selected);}}}
function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++){for(j=0;j<groups.length;j++){if(groups[j].name==[groupNames[i]]){result.push(groups[j]);}}}
return result;}
ctrl.activate=function(initSearchValue,avoidReset){if(!ctrl.disabled&&!ctrl.open){if(!avoidReset)_resetSearchInput();$scope.$broadcast('uis:activate');ctrl.open=true;ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex;if(ctrl.activeIndex===-1&&ctrl.taggingLabel!==false){ctrl.activeIndex=0;}
var container=$element.querySelectorAll('.ui-select-choices-content');var searchInput=$element.querySelectorAll('.ui-select-search');if(ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])){var animateHandler=function(elem,phase){if(phase==='start'&&ctrl.items.length===0){ctrl.$animate.off('removeClass',searchInput[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue);});}else if(phase==='close'){ctrl.$animate.off('enter',container[0],animateHandler);$timeout(function(){ctrl.focusSearchInput(initSearchValue);});}};if(ctrl.items.length>0){ctrl.$animate.on('enter',container[0],animateHandler);}else{ctrl.$animate.on('removeClass',searchInput[0],animateHandler);}}else{$timeout(function(){ctrl.focusSearchInput(initSearchValue);if(!ctrl.tagging.isActivated&&ctrl.items.length>1){_ensureHighlightVisible();}});}}
else if(ctrl.open&&!ctrl.searchEnabled){ctrl.close();}};ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search;ctrl.searchInput[0].focus();};ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name;})[0];};ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);ctrl.groups=[];angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn];var group=ctrl.findGroupByName(groupName);if(group){group.items.push(item);}
else{ctrl.groups.push({name:groupName,items:[item]});}});if(groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);if(angular.isFunction(groupFilterFn)){ctrl.groups=groupFilterFn(ctrl.groups);}else if(angular.isArray(groupFilterFn)){ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn);}}
ctrl.items=[];ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items);});}
function setPlainItems(items){ctrl.items=items||[];}
ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems;ctrl.parserResult=RepeatParser.parse(repeatAttr);ctrl.isGrouped=!!groupByExp;ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source;var createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};result[ctrl.parserResult.keyName]=v;result.value=origSrc[v];return result;});};if(ctrl.parserResult.keyName){createArrayFromObject();ctrl.parserResult.source=$parse('$uisSource'+ctrl.parserResult.filters);$scope.$watch(originalSource,function(newVal,oldVal){if(newVal!==oldVal)createArrayFromObject();},true);}
ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||(angular.isArray(selectedItems)&&!selectedItems.length)||!ctrl.multiple||!ctrl.removeSelected){ctrl.setItemsFn(data);}else{if(data!==undefined&&data!==null){var filteredItems=data.filter(function(i){return angular.isArray(selectedItems)?selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem);}):!angular.equals(i,selectedItems);});ctrl.setItemsFn(filteredItems);}}
if(ctrl.dropdownPosition==='auto'||ctrl.dropdownPosition==='up'){$scope.calculateDropdownPos();}
$scope.$broadcast('uis:refresh');};$scope.$watchCollection(ctrl.parserResult.source,function(items){if(items===undefined||items===null){ctrl.items=[];}else{if(!angular.isArray(items)){throw uiSelectMinErr('items',"Expected an array but got '{0}'.",items);}else{ctrl.refreshItems(items);if(angular.isDefined(ctrl.ngModel.$modelValue)){ctrl.ngModel.$modelValue=null;}}}});};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){if(refreshAttr!==undefined){if(_refreshDelayPromise){$timeout.cancel(_refreshDelayPromise);}
_refreshDelayPromise=$timeout(function(){if($scope.$select.search.length>=$scope.$select.minimumInputLength){var refreshPromise=$scope.$eval(refreshAttr);if(refreshPromise&&angular.isFunction(refreshPromise.then)&&!ctrl.refreshing){ctrl.refreshing=true;refreshPromise.finally(function(){ctrl.refreshing=false;});}}},ctrl.refreshDelay);}};ctrl.isActive=function(itemScope){if(!ctrl.open){return false;}
var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isActive=itemIndex==ctrl.activeIndex;if(!isActive||itemIndex<0){return false;}
if(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)){itemScope.$eval(ctrl.onHighlightCallback);}
return isActive;};var _isItemSelected=function(item){return(ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item);}).length>0);};var disabledItems=[];function _updateItemDisabled(item,isDisabled){var disabledItemIndex=disabledItems.indexOf(item);if(isDisabled&&disabledItemIndex===-1){disabledItems.push(item);}
if(!isDisabled&&disabledItemIndex>-1){disabledItems.splice(disabledItemIndex,1);}}
function _isItemDisabled(item){return disabledItems.indexOf(item)>-1;}
ctrl.isDisabled=function(itemScope){if(!ctrl.open)return;var item=itemScope[ctrl.itemProperty];var itemIndex=ctrl.items.indexOf(item);var isDisabled=false;if(itemIndex>=0&&(angular.isDefined(ctrl.disableChoiceExpression)||ctrl.multiple)){if(item.isTag)return false;if(ctrl.multiple){isDisabled=_isItemSelected(item);}
if(!isDisabled&&angular.isDefined(ctrl.disableChoiceExpression)){isDisabled=!!(itemScope.$eval(ctrl.disableChoiceExpression));}
_updateItemDisabled(item,isDisabled);}
return isDisabled;};ctrl.select=function(item,skipFocusser,$event){if(isNil(item)||!_isItemDisabled(item)){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!_isItemDisabled(item)){ctrl.clickTriggeredSelect=false;if($event&&($event.type==='click'||$event.type==='touchend')&&item)
ctrl.clickTriggeredSelect=true;if(ctrl.tagging.isActivated&&ctrl.clickTriggeredSelect===false){if(ctrl.taggingLabel===false){if(ctrl.activeIndex<0){if(item===undefined){item=ctrl.tagging.fct!==undefined?ctrl.tagging.fct(ctrl.search):ctrl.search;}
if(!item||angular.equals(ctrl.items[0],item)){return;}}else{item=ctrl.items[ctrl.activeIndex];}}else{if(ctrl.activeIndex===0){if(item===undefined)return;if(ctrl.tagging.fct!==undefined&&typeof item==='string'){item=ctrl.tagging.fct(item);if(!item)return;}else if(typeof item==='string'){item=item.replace(ctrl.taggingLabel,'').trim();}}}
if(_isItemSelected(item)){ctrl.close(skipFocusser);return;}}
_resetSearchInput();$scope.$broadcast('uis:select',item);if(ctrl.closeOnSelect){ctrl.close(skipFocusser);}}}};ctrl.close=function(skipFocusser){if(!ctrl.open)return;if(ctrl.ngModel&&ctrl.ngModel.$setTouched)ctrl.ngModel.$setTouched();ctrl.open=false;_resetSearchInput();$scope.$broadcast('uis:close',skipFocusser);};ctrl.setFocus=function(){if(!ctrl.focus)ctrl.focusInput[0].focus();};ctrl.clear=function($event){ctrl.select(null);$event.stopPropagation();$timeout(function(){ctrl.focusser[0].focus();},0,false);};ctrl.toggle=function(e){if(ctrl.open){ctrl.close();e.preventDefault();e.stopPropagation();}else{ctrl.activate();}};ctrl.isLocked=function(){return false;};$scope.$watch(function(){return angular.isDefined(ctrl.lockChoiceExpression)&&ctrl.lockChoiceExpression!=="";},_initaliseLockedChoices);function _initaliseLockedChoices(doInitalise){if(!doInitalise)return;var lockedItems=[];function _updateItemLocked(item,isLocked){var lockedItemIndex=lockedItems.indexOf(item);if(isLocked&&lockedItemIndex===-1){lockedItems.push(item);}
if(!isLocked&&lockedItemIndex>-1){lockedItems.splice(lockedItemIndex,1);}}
function _isItemlocked(item){return lockedItems.indexOf(item)>-1;}
ctrl.isLocked=function(itemScope,itemIndex){var isLocked=false,item=ctrl.selected[itemIndex];if(item){if(itemScope){isLocked=!!(itemScope.$eval(ctrl.lockChoiceExpression));_updateItemLocked(item,isLocked);}else{isLocked=_isItemlocked(item);}}
return isLocked;};}
var sizeWatch=null;var updaterScheduled=false;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.$element[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent;},updateIfVisible=function(containerWidth){if(containerWidth===0){return false;}
var inputWidth=containerWidth-input.offsetLeft;if(inputWidth<50)inputWidth=containerWidth;ctrl.searchInput.css('width',inputWidth+'px');return true;};ctrl.searchInput.css('width','10px');$timeout(function(){if(sizeWatch===null&&!updateIfVisible(calculateContainerWidth())){sizeWatch=$scope.$watch(function(){if(!updaterScheduled){updaterScheduled=true;$scope.$$postDigest(function(){updaterScheduled=false;if(updateIfVisible(calculateContainerWidth())){sizeWatch();sizeWatch=null;}});}},angular.noop);}});};function _handleDropDownSelection(key){var processed=true;switch(key){case KEY.DOWN:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex<ctrl.items.length-1){var idx=++ctrl.activeIndex;while(_isItemDisabled(ctrl.items[idx])&&idx<ctrl.items.length){ctrl.activeIndex=++idx;}}
break;case KEY.UP:var minActiveIndex=(ctrl.search.length===0&&ctrl.tagging.isActivated)?-1:0;if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex>minActiveIndex){var idxmin=--ctrl.activeIndex;while(_isItemDisabled(ctrl.items[idxmin])&&idxmin>minActiveIndex){ctrl.activeIndex=--idxmin;}}
break;case KEY.TAB:if(!ctrl.multiple||ctrl.open)ctrl.select(ctrl.items[ctrl.activeIndex],true);break;case KEY.ENTER:if(ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)){ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser);}else{ctrl.activate(false,true);}
break;case KEY.ESC:ctrl.close();break;default:processed=false;}
return processed;}
ctrl.searchInput.on('keydown',function(e){var key=e.which;if(~[KEY.ENTER,KEY.ESC].indexOf(key)){e.preventDefault();e.stopPropagation();}
$scope.$apply(function(){var tagged=false;if(ctrl.items.length>0||ctrl.tagging.isActivated){if(!_handleDropDownSelection(key)&&!ctrl.searchEnabled){e.preventDefault();e.stopPropagation();}
if(ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){if(ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]){if(ctrl.search.length>0){tagged=true;}}}
if(tagged){$timeout(function(){ctrl.searchInput.triggerHandler('tagged');var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],'').trim();if(ctrl.tagging.fct){newItem=ctrl.tagging.fct(newItem);}
if(newItem)ctrl.select(newItem,true);});}}}});if(KEY.isVerticalMovement(key)&&ctrl.items.length>0){_ensureHighlightVisible();}
if(key===KEY.ENTER||key===KEY.ESC){e.preventDefault();e.stopPropagation();}});ctrl.searchInput.on('paste',function(e){var data;if(window.clipboardData&&window.clipboardData.getData){data=window.clipboardData.getData('Text');}else{data=(e.originalEvent||e).clipboardData.getData('text/plain');}
data=ctrl.search+data;if(data&&data.length>0){if(ctrl.taggingTokens.isActivated){var items=[];for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[i])||ctrl.taggingTokens.tokens[i];if(data.indexOf(separator)>-1){items=data.split(separator);break;}}
if(items.length===0){items=[data];}
var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;if(newItem){ctrl.select(newItem,true);}});ctrl.search=oldsearch||EMPTY_SEARCH;e.preventDefault();e.stopPropagation();}else if(ctrl.paste){ctrl.paste(data);ctrl.search=EMPTY_SEARCH;e.preventDefault();e.stopPropagation();}}});ctrl.searchInput.on('tagged',function(){$timeout(function(){_resetSearchInput();});});function _ensureHighlightVisible(){var container=$element.querySelectorAll('.ui-select-choices-content');var choices=container.querySelectorAll('.ui-select-choices-row');if(choices.length<1){throw uiSelectMinErr('choices',"Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);}
if(ctrl.activeIndex<0){return;}
var highlighted=choices[ctrl.activeIndex];var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop;var height=container[0].offsetHeight;if(posY>height){container[0].scrollTop+=posY-height;}else if(posY<highlighted.clientHeight){if(ctrl.isGrouped&&ctrl.activeIndex===0)
container[0].scrollTop=0;else
container[0].scrollTop-=highlighted.clientHeight-posY;}}
var onResize=$$uisDebounce(function(){ctrl.sizeSearchInput();},50);angular.element($window).bind('resize',onResize);$scope.$on('$destroy',function(){ctrl.searchInput.off('keyup keydown tagged blur paste');angular.element($window).off('resize',onResize);});$scope.$watch('$select.activeIndex',function(activeIndex){if(activeIndex)
$element.find('input').attr('aria-activedescendant','ui-select-choices-row-'+ctrl.generatedId+'-'+activeIndex);});$scope.$watch('$select.open',function(open){if(!open)
$element.find('input').removeAttr('aria-activedescendant');});}]);uis.directive('uiSelect',['$document','uiSelectConfig','uiSelectMinErr','uisOffset','$compile','$parse','$timeout',function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:'EA',templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?'/select-multiple.tpl.html':'/select.tpl.html');},replace:true,transclude:true,require:['uiSelect','^ngModel'],scope:true,controller:'uiSelectCtrl',controllerAs:'$select',compile:function(tElement,tAttrs){var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined='{'+match[1]+', '+match[2]+'}';tAttrs.ngClass=combined;tElement.attr('ng-class',combined);}
if(angular.isDefined(tAttrs.multiple))
tElement.append('<ui-select-multiple/>').removeAttr('multiple');else
tElement.append('<ui-select-single/>');if(tAttrs.inputId)
tElement.querySelectorAll('input.ui-select-search')[0].id=tAttrs.inputId;return function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0];var ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId();$select.baseTitle=attrs.title||'Select box';$select.focusserTitle=$select.baseTitle+' focus';$select.focusserId='focusser-'+$select.generatedId;$select.closeOnSelect=function(){if(angular.isDefined(attrs.closeOnSelect)){return $parse(attrs.closeOnSelect)();}else{return uiSelectConfig.closeOnSelect;}}();scope.$watch('skipFocusser',function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=skipFocusser!==undefined?skipFocusser:uiSelectConfig.skipFocusser;});$select.onSelectCallback=$parse(attrs.onSelect);$select.onRemoveCallback=$parse(attrs.onRemove);$select.ngModel=ngModel;$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name;};if(attrs.tabindex){attrs.$observe('tabindex',function(value){$select.focusInput.attr('tabindex',value);element.removeAttr('tabindex');});}
scope.$watch(function(){return scope.$eval(attrs.searchEnabled);},function(newVal){$select.searchEnabled=newVal!==undefined?newVal:uiSelectConfig.searchEnabled;});scope.$watch('sortable',function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=sortable!==undefined?sortable:uiSelectConfig.sortable;});attrs.$observe('backspaceReset',function(){var backspaceReset=scope.$eval(attrs.backspaceReset);$select.backspaceReset=backspaceReset!==undefined?backspaceReset:true;});attrs.$observe('limit',function(){$select.limit=(angular.isDefined(attrs.limit))?parseInt(attrs.limit,10):undefined;});scope.$watch('removeSelected',function(){var removeSelected=scope.$eval(attrs.removeSelected);$select.removeSelected=removeSelected!==undefined?removeSelected:uiSelectConfig.removeSelected;});attrs.$observe('disabled',function(){$select.disabled=attrs.disabled!==undefined?attrs.disabled:false;});attrs.$observe('resetSearchInput',function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=resetSearchInput!==undefined?resetSearchInput:true;});attrs.$observe('paste',function(){$select.paste=scope.$eval(attrs.paste);});attrs.$observe('tagging',function(){if(attrs.tagging!==undefined)
{var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:true,fct:taggingEval!==true?taggingEval:undefined};}
else
{$select.tagging={isActivated:false,fct:undefined};}});attrs.$observe('taggingLabel',function(){if(attrs.tagging!==undefined)
{if(attrs.taggingLabel==='false'){$select.taggingLabel=false;}
else
{$select.taggingLabel=attrs.taggingLabel!==undefined?attrs.taggingLabel:'(new)';}}});attrs.$observe('taggingTokens',function(){if(attrs.tagging!==undefined){var tokens=attrs.taggingTokens!==undefined?attrs.taggingTokens.split('|'):[',','ENTER'];$select.taggingTokens={isActivated:true,tokens:tokens};}});attrs.$observe('spinnerEnabled',function(){var spinnerEnabled=scope.$eval(attrs.spinnerEnabled);$select.spinnerEnabled=spinnerEnabled!==undefined?spinnerEnabled:uiSelectConfig.spinnerEnabled;});attrs.$observe('spinnerClass',function(){var spinnerClass=attrs.spinnerClass;$select.spinnerClass=spinnerClass!==undefined?attrs.spinnerClass:uiSelectConfig.spinnerClass;});if(angular.isDefined(attrs.autofocus)){$timeout(function(){$select.setFocus();});}
if(angular.isDefined(attrs.focusOn)){scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus();});});}
function onDocumentClick(e){if(!$select.open)return;var contains=false;if(window.jQuery){contains=window.jQuery.contains(element[0],e.target);}else{contains=element[0].contains(e.target);}
if(!contains&&!$select.clickTriggeredSelect){var skipFocusser;if(!$select.skipFocusser){var focusableControls=['input','button','textarea','select'];var targetController=angular.element(e.target).controller('uiSelect');skipFocusser=targetController&&targetController!==$select;if(!skipFocusser)skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase());}else{skipFocusser=true;}
$select.close(skipFocusser);scope.$digest();}
$select.clickTriggeredSelect=false;}
$document.on('click',onDocumentClick);scope.$on('$destroy',function(){$document.off('click',onDocumentClick);});transcludeFn(scope,function(clone){var transcluded=angular.element('<div>').append(clone);var transcludedMatch=transcluded.querySelectorAll('.ui-select-match');transcludedMatch.removeAttr('ui-select-match');transcludedMatch.removeAttr('data-ui-select-match');if(transcludedMatch.length!==1){throw uiSelectMinErr('transcluded',"Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);}
element.querySelectorAll('.ui-select-match').replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll('.ui-select-choices');transcludedChoices.removeAttr('ui-select-choices');transcludedChoices.removeAttr('data-ui-select-choices');if(transcludedChoices.length!==1){throw uiSelectMinErr('transcluded',"Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);}
element.querySelectorAll('.ui-select-choices').replaceWith(transcludedChoices);var transcludedNoChoice=transcluded.querySelectorAll('.ui-select-no-choice');transcludedNoChoice.removeAttr('ui-select-no-choice');transcludedNoChoice.removeAttr('data-ui-select-no-choice');if(transcludedNoChoice.length==1){element.querySelectorAll('.ui-select-no-choice').replaceWith(transcludedNoChoice);}});var appendToBody=scope.$eval(attrs.appendToBody);if(appendToBody!==undefined?appendToBody:uiSelectConfig.appendToBody){scope.$watch('$select.open',function(isOpen){if(isOpen){positionDropdown();}else{resetDropdown();}});scope.$on('$destroy',function(){resetDropdown();});}
var placeholder=null,originalWidth='';function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>');placeholder[0].style.width=offset.width+'px';placeholder[0].style.height=offset.height+'px';element.after(placeholder);originalWidth=element[0].style.width;$document.find('body').append(element);element[0].style.position='absolute';element[0].style.left=offset.left+'px';element[0].style.top=offset.top+'px';element[0].style.width=offset.width+'px';}
function resetDropdown(){if(placeholder===null){return;}
placeholder.replaceWith(element);placeholder=null;element[0].style.position='';element[0].style.left='';element[0].style.top='';element[0].style.width=originalWidth;$select.setFocus();}
var dropdown=null,directionUpClassName='direction-up';scope.$watch('$select.open',function(){if($select.dropdownPosition==='auto'||$select.dropdownPosition==='up'){scope.calculateDropdownPos();}});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position='absolute';dropdown[0].style.top=(offsetDropdown.height*-1)+'px';element.addClass(directionUpClassName);};var setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName);offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position='';dropdown[0].style.top='';};var calculateDropdownPosAfterAnimation=function(){$timeout(function(){if($select.dropdownPosition==='up'){setDropdownPosUp();}else{element.removeClass(directionUpClassName);var offset=uisOffset(element);var offsetDropdown=uisOffset(dropdown);var scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;if(offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight){setDropdownPosUp(offset,offsetDropdown);}else{setDropdownPosDown(offset,offsetDropdown);}}
dropdown[0].style.opacity=1;});};var opened=false;scope.calculateDropdownPos=function(){if($select.open){dropdown=angular.element(element).querySelectorAll('.ui-select-dropdown');if(dropdown.length===0){return;}
if($select.search===''&&!opened){dropdown[0].style.opacity=0;opened=true;}
if(!uisOffset(dropdown).height&&$select.$animate&&$select.$animate.on&&$select.$animate.enabled(dropdown)){var needsCalculated=true;$select.$animate.on('enter',dropdown,function(elem,phase){if(phase==='close'&&needsCalculated){calculateDropdownPosAfterAnimation();needsCalculated=false;}});}else{calculateDropdownPosAfterAnimation();}}else{if(dropdown===null||dropdown.length===0){return;}
dropdown[0].style.opacity=0;dropdown[0].style.position='';dropdown[0].style.top='';element.removeClass(directionUpClassName);}};};}};}]);uis.directive('uiSelectMatch',['uiSelectConfig',function(uiSelectConfig){return{restrict:'EA',require:'^uiSelect',replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass('ui-select-match');var parent=tElement.parent();var theme=getAttribute(parent,'theme')||uiSelectConfig.theme;var multi=angular.isDefined(getAttribute(parent,'multiple'));return theme+(multi?'/match-multiple.tpl.html':'/match.tpl.html');},link:function(scope,element,attrs,$select){$select.lockChoiceExpression=attrs.uiLockChoice;attrs.$observe('placeholder',function(placeholder){$select.placeholder=placeholder!==undefined?placeholder:uiSelectConfig.placeholder;});function setAllowClear(allow){$select.allowClear=(angular.isDefined(allow))?(allow==='')?true:(allow.toLowerCase()==='true'):false;}
attrs.$observe('allowClear',setAllowClear);setAllowClear(attrs.allowClear);if($select.multiple){$select.sizeSearchInput();}}};function getAttribute(elem,attribute){if(elem[0].hasAttribute(attribute))
return elem.attr(attribute);if(elem[0].hasAttribute('data-'+attribute))
return elem.attr('data-'+attribute);if(elem[0].hasAttribute('x-'+attribute))
return elem.attr('x-'+attribute);}}]);uis.directive('uiSelectMultiple',['uiSelectMinErr','$timeout',function(uiSelectMinErr,$timeout){return{restrict:'EA',require:['^uiSelect','^ngModel'],controller:['$scope','$timeout',function($scope,$timeout){var ctrl=this,$select=$scope.$select,ngModel;if(angular.isUndefined($select.selected))
$select.selected=[];$scope.$evalAsync(function(){ngModel=$scope.ngModel;});ctrl.activeMatchIndex=-1;ctrl.updateModel=function(){ngModel.$setViewValue(Date.now());ctrl.refreshComponent();};ctrl.refreshComponent=function(){if($select.refreshItems){$select.refreshItems();}
if($select.sizeSearchInput){$select.sizeSearchInput();}};ctrl.removeChoice=function(index){if($select.isLocked(null,index))return false;var removedChoice=$select.selected[index];var locals={};locals[$select.parserResult.itemName]=removedChoice;$select.selected.splice(index,1);ctrl.activeMatchIndex=-1;$select.sizeSearchInput();$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)});});ctrl.updateModel();return true;};ctrl.getPlaceholder=function(){if($select.selected&&$select.selected.length)return;return $select.placeholder;};}],controllerAs:'$selectMultiple',link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=scope.ngModel=ctrls[1];var $selectMultiple=scope.$selectMultiple;$select.multiple=true;$select.focusInput=$select.searchInput;ngModel.$isEmpty=function(value){return!value||value.length===0;};ngModel.$parsers.unshift(function(){var locals={},result,resultMultiple=[];for(var j=$select.selected.length-1;j>=0;j--){locals={};locals[$select.parserResult.itemName]=$select.selected[j];result=$select.parserResult.modelMapper(scope,locals);resultMultiple.unshift(result);}
return resultMultiple;});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:''}}),locals={},result;if(!data)return inputValue;var resultMultiple=[];var checkFnMultiple=function(list,value){if(!list||!list.length)return;for(var p=list.length-1;p>=0;p--){locals[$select.parserResult.itemName]=list[p];result=$select.parserResult.modelMapper(scope,locals);if($select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp);var matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&propsItemNameMatches.length>0&&propsItemNameMatches[1]==$select.parserResult.itemName){if(matches&&matches.length>0&&result[matches[1]]==value[matches[1]]){resultMultiple.unshift(list[p]);return true;}}}
if(angular.equals(result,value)){resultMultiple.unshift(list[p]);return true;}}
return false;};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--){if(!checkFnMultiple($select.selected,inputValue[k])){if(!checkFnMultiple(data,inputValue[k])){resultMultiple.unshift(inputValue[k]);}}}
return resultMultiple;});scope.$watchCollection(function(){return ngModel.$modelValue;},function(newValue,oldValue){if(oldValue!=newValue){if(angular.isDefined(ngModel.$modelValue)){ngModel.$modelValue=null;}
$selectMultiple.refreshComponent();}});ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(isNil(ngModel.$viewValue)){ngModel.$viewValue=[];}else{throw uiSelectMinErr('multiarr',"Expected model value to be array but got '{0}'",ngModel.$viewValue);}}
$select.selected=ngModel.$viewValue;$selectMultiple.refreshComponent();scope.$evalAsync();};scope.$on('uis:select',function(event,item){if($select.selected.length>=$select.limit){return;}
$select.selected.push(item);var locals={};locals[$select.parserResult.itemName]=item;$timeout(function(){$select.onSelectCallback(scope,{$item:item,$model:$select.parserResult.modelMapper(scope,locals)});});$selectMultiple.updateModel();});scope.$on('uis:activate',function(){$selectMultiple.activeMatchIndex=-1;});scope.$watch('$select.disabled',function(newValue,oldValue){if(oldValue&&!newValue)$select.sizeSearchInput();});$select.searchInput.on('keydown',function(e){var key=e.which;scope.$apply(function(){var processed=false;if(KEY.isHorizontalMovement(key)){processed=_handleMatchSelection(key);}
if(processed&&key!=KEY.TAB){e.preventDefault();e.stopPropagation();}});});function _getCaretPosition(el){if(angular.isNumber(el.selectionStart))return el.selectionStart;else return el.value.length;}
function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;if(caretPosition>0||($select.search.length&&key==KEY.RIGHT))return false;$select.close();function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:if(~$selectMultiple.activeMatchIndex)return prev;else return last;break;case KEY.RIGHT:if(!~$selectMultiple.activeMatchIndex||curr===last){$select.activate();return false;}
else return next;break;case KEY.BACKSPACE:if(~$selectMultiple.activeMatchIndex){if($selectMultiple.removeChoice(curr)){return prev;}else{return curr;}}else{return last;}
break;case KEY.DELETE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice($selectMultiple.activeMatchIndex);return curr;}
else return false;}}
newIndex=getNewActiveMatchIndex();if(!$select.selected.length||newIndex===false)$selectMultiple.activeMatchIndex=-1;else $selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex));return true;}
$select.searchInput.on('keyup',function(e){if(!KEY.isVerticalMovement(e.which)){scope.$evalAsync(function(){$select.activeIndex=$select.taggingLabel===false?-1:0;});}
if($select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which)){return;}
$select.activeIndex=$select.taggingLabel===false?-1:0;if($select.taggingLabel===false)return;var items=angular.copy($select.items);var stashArr=angular.copy($select.items);var newItem;var item;var hasTag=false;var dupeIndex=-1;var tagItems;var tagItem;if($select.tagging.fct!==undefined){tagItems=$select.$filter('filter')(items,{'isTag':true});if(tagItems.length>0){tagItem=tagItems[0];}
if(items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length);}
newItem=$select.tagging.fct($select.search);if(stashArr.some(function(origItem){return angular.equals(origItem,newItem);})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem);})){scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;});return;}
if(newItem)newItem.isTag=true;}else{tagItems=$select.$filter('filter')(items,function(item){return item.match($select.taggingLabel);});if(tagItems.length>0){tagItem=tagItems[0];}
item=items[0];if(item!==undefined&&items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length);}
newItem=$select.search+' '+$select.taggingLabel;if(_findApproxDupe($select.selected,$select.search)>-1){return;}
if(_findCaseInsensitiveDupe(stashArr.concat($select.selected))){if(hasTag){items=stashArr;scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;});}
return;}
if(_findCaseInsensitiveDupe(stashArr)){if(hasTag){$select.items=stashArr.slice(1,stashArr.length);}
return;}}
if(hasTag)dupeIndex=_findApproxDupe($select.selected,newItem);if(dupeIndex>-1){items=items.slice(dupeIndex+1,items.length-1);}else{items=[];if(newItem)items.push(newItem);items=items.concat(stashArr);}
scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items;if($select.isGrouped){var itemsWithoutTag=newItem?items.slice(1):items;$select.setItemsFn(itemsWithoutTag);if(newItem){$select.items.unshift(newItem);$select.groups.unshift({name:'',items:[newItem],tagging:true});}}});}});function _findCaseInsensitiveDupe(arr){if(arr===undefined||$select.search===undefined){return false;}
var hasDupe=arr.filter(function(origItem){if($select.search.toUpperCase()===undefined||origItem===undefined){return false;}
return origItem.toUpperCase()===$select.search.toUpperCase();}).length>0;return hasDupe;}
function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack)){var tempArr=angular.copy(haystack);for(var i=0;i<tempArr.length;i++){if($select.tagging.fct===undefined){if(tempArr[i]+' '+$select.taggingLabel===needle){dupeIndex=i;}}else{var mockObj=tempArr[i];if(angular.isObject(mockObj)){mockObj.isTag=true;}
if(angular.equals(mockObj,needle)){dupeIndex=i;}}}}
return dupeIndex;}
$select.searchInput.on('blur',function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1;});});}};}]);uis.directive('uiSelectNoChoice',['uiSelectConfig',function(uiSelectConfig){return{restrict:'EA',require:'^uiSelect',replace:true,transclude:true,templateUrl:function(tElement){tElement.addClass('ui-select-no-choice');var theme=tElement.parent().attr('theme')||uiSelectConfig.theme;return theme+'/no-choice.tpl.html';}};}]);uis.directive('uiSelectSingle',['$timeout','$compile',function($timeout,$compile){return{restrict:'EA',require:['^uiSelect','^ngModel'],link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){if(isNil(inputValue)){return inputValue;}
var locals={},result;locals[$select.parserResult.itemName]=inputValue;result=$select.parserResult.modelMapper(scope,locals);return result;});ngModel.$formatters.unshift(function(inputValue){if(isNil(inputValue)){return inputValue;}
var data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:''}}),locals={},result;if(data){var checkFnSingle=function(d){locals[$select.parserResult.itemName]=d;result=$select.parserResult.modelMapper(scope,locals);return result===inputValue;};if($select.selected&&checkFnSingle($select.selected)){return $select.selected;}
for(var i=data.length-1;i>=0;i--){if(checkFnSingle(data[i]))return data[i];}}
return inputValue;});scope.$watch('$select.selected',function(newValue){if(ngModel.$viewValue!==newValue){ngModel.$setViewValue(newValue);}});ngModel.$render=function(){$select.selected=ngModel.$viewValue;};scope.$on('uis:select',function(event,item){$select.selected=item;var locals={};locals[$select.parserResult.itemName]=item;$timeout(function(){$select.onSelectCallback(scope,{$item:item,$model:isNil(item)?item:$select.parserResult.modelMapper(scope,locals)});});});scope.$on('uis:close',function(event,skipFocusser){$timeout(function(){$select.focusser.prop('disabled',false);if(!skipFocusser)$select.focusser[0].focus();},0,false);});scope.$on('uis:activate',function(){focusser.prop('disabled',true);});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope);$select.focusser=focusser;$select.focusInput=focusser;element.parent().append(focusser);focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=true;});});focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=false;});});focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE&&$select.backspaceReset!==false){e.preventDefault();e.stopPropagation();$select.select(undefined);scope.$apply();return;}
if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC){return;}
if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE){e.preventDefault();e.stopPropagation();$select.activate();}
scope.$digest();});focusser.bind("keyup input",function(e){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE){return;}
$select.activate(focusser.val());focusser.val('');scope.$digest();});}};}]);uis.directive('uiSelectSort',['$timeout','uiSelectConfig','uiSelectMinErr',function($timeout,uiSelectConfig,uiSelectMinErr){return{require:['^^uiSelect','^ngModel'],link:function(scope,element,attrs,ctrls){if(scope[attrs.uiSelectSort]===null){throw uiSelectMinErr('sort','Expected a list to sort');}
var $select=ctrls[0];var $ngModel=ctrls[1];var options=angular.extend({axis:'horizontal'},scope.$eval(attrs.uiSelectSortOptions));var axis=options.axis;var draggingClassName='dragging';var droppingClassName='dropping';var droppingBeforeClassName='dropping-before';var droppingAfterClassName='dropping-after';scope.$watch(function(){return $select.sortable;},function(newValue){if(newValue){element.attr('draggable',true);}else{element.removeAttr('draggable');}});element.on('dragstart',function(event){element.addClass(draggingClassName);(event.dataTransfer||event.originalEvent.dataTransfer).setData('text',scope.$index.toString());});element.on('dragend',function(){removeClass(draggingClassName);});var move=function(from,to){this.splice(to,0,this.splice(from,1)[0]);};var removeClass=function(className){angular.forEach($select.$element.querySelectorAll('.'+className),function(el){angular.element(el).removeClass(className);});};var dragOverHandler=function(event){event.preventDefault();var offset=axis==='vertical'?event.offsetY||event.layerY||(event.originalEvent?event.originalEvent.offsetY:0):event.offsetX||event.layerX||(event.originalEvent?event.originalEvent.offsetX:0);if(offset<(this[axis==='vertical'?'offsetHeight':'offsetWidth']/2)){removeClass(droppingAfterClassName);element.addClass(droppingBeforeClassName);}else{removeClass(droppingBeforeClassName);element.addClass(droppingAfterClassName);}};var dropTimeout;var dropHandler=function(event){event.preventDefault();var droppedItemIndex=parseInt((event.dataTransfer||event.originalEvent.dataTransfer).getData('text'),10);$timeout.cancel(dropTimeout);dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex);},20);};var _dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort);var itemToMove=theList[droppedItemIndex];var newIndex=null;if(element.hasClass(droppingBeforeClassName)){if(droppedItemIndex<scope.$index){newIndex=scope.$index-1;}else{newIndex=scope.$index;}}else{if(droppedItemIndex<scope.$index){newIndex=scope.$index;}else{newIndex=scope.$index+1;}}
move.apply(theList,[droppedItemIndex,newIndex]);$ngModel.$setViewValue(Date.now());scope.$apply(function(){scope.$emit('uiSelectSort:change',{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex});});removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off('drop',dropHandler);};element.on('dragenter',function(){if(element.hasClass(draggingClassName)){return;}
element.addClass(droppingClassName);element.on('dragover',dragOverHandler);element.on('drop',dropHandler);});element.on('dragleave',function(event){if(event.target!=element){return;}
removeClass(droppingClassName);removeClass(droppingBeforeClassName);removeClass(droppingAfterClassName);element.off('dragover',dragOverHandler);element.off('drop',dropHandler);});}};}]);uis.directive('uisOpenClose',['$parse','$timeout',function($parse,$timeout){return{restrict:'A',require:'uiSelect',link:function(scope,element,attrs,$select){$select.onOpenCloseCallback=$parse(attrs.uisOpenClose);scope.$watch('$select.open',function(isOpen,previousState){if(isOpen!==previousState){$timeout(function(){$select.onOpenCloseCallback(scope,{isOpen:isOpen});});}});}};}]);uis.service('uisRepeatParser',['uiSelectMinErr','$parse',function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw uiSelectMinErr('iexp',"Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);}
var source=match[5],filters='';if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,'');var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);if(filterMatch&&filterMatch[1].trim()){filters=filterMatch[1];source=source.replace(filters,'');}}
return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+' in '+(grouped?'$group.items':'$select.items');if(this.trackByExp){expression+=' track by '+this.trackByExp;}
return expression;}};};self.getGroupNgRepeatExpression=function(){return'$group in $select.groups track by $group.name';};}]);}());angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html","<ul class=\"ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu\" ng-show=\"$select.open && $select.items.length > 0\"><li class=\"ui-select-choices-group\" id=\"ui-select-choices-{{ $select.generatedId }}\"><div class=\"divider\" ng-show=\"$select.isGrouped && $index > 0\"></div><div ng-show=\"$select.isGrouped\" class=\"ui-select-choices-group-label dropdown-header\" ng-bind=\"$group.name\"></div><div ng-attr-id=\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\" class=\"ui-select-choices-row\" ng-class=\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\" role=\"option\"><span class=\"ui-select-choices-row-inner\"></span></div></li></ul>");$templateCache.put("bootstrap/match-multiple.tpl.html","<span class=\"ui-select-match\"><span ng-repeat=\"$item in $select.selected track by $index\"><span class=\"ui-select-match-item btn btn-default btn-xs\" tabindex=\"-1\" type=\"button\" ng-disabled=\"$select.disabled\" ng-click=\"$selectMultiple.activeMatchIndex = $index;\" ng-class=\"{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}\" ui-select-sort=\"$select.selected\"><span class=\"close ui-select-match-close\" ng-hide=\"$select.disabled\" ng-click=\"$selectMultiple.removeChoice($index)\">&nbsp;&times;</span> <span uis-transclude-append=\"\"></span></span></span></span>");$templateCache.put("bootstrap/match.tpl.html","<div class=\"ui-select-match\" ng-hide=\"$select.open && $select.searchEnabled\" ng-disabled=\"$select.disabled\" ng-class=\"{\'btn-default-focus\':$select.focus}\"><span tabindex=\"-1\" class=\"btn btn-default form-control ui-select-toggle\" aria-label=\"{{ $select.baseTitle }} activate\" ng-disabled=\"$select.disabled\" ng-click=\"$select.activate()\" style=\"outline: 0;\"><span ng-show=\"$select.isEmpty()\" class=\"ui-select-placeholder text-muted\">{{$select.placeholder}}</span> <span ng-hide=\"$select.isEmpty()\" class=\"ui-select-match-text pull-left\" ng-class=\"{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}\" ng-transclude=\"\"></span> <i class=\"caret pull-right\" ng-click=\"$select.toggle($event)\"></i> <a ng-show=\"$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)\" aria-label=\"{{ $select.baseTitle }} clear\" style=\"margin-right: 10px\" ng-click=\"$select.clear($event)\" class=\"btn btn-xs btn-link pull-right\"><i class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></i></a></span></div>");$templateCache.put("bootstrap/no-choice.tpl.html","<ul class=\"ui-select-no-choice dropdown-menu\" ng-show=\"$select.items.length == 0\"><li ng-transclude=\"\"></li></ul>");$templateCache.put("bootstrap/select-multiple.tpl.html","<div class=\"ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control\" ng-class=\"{open: $select.open}\"><div><div class=\"ui-select-match\"></div><input type=\"search\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" class=\"ui-select-search input-xs\" placeholder=\"{{$selectMultiple.getPlaceholder()}}\" ng-disabled=\"$select.disabled\" ng-click=\"$select.activate()\" ng-model=\"$select.search\" role=\"combobox\" aria-expanded=\"{{$select.open}}\" aria-label=\"{{$select.baseTitle}}\" ng-class=\"{\'spinner\': $select.refreshing}\" ondrop=\"return false;\"></div><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div>");$templateCache.put("bootstrap/select.tpl.html","<div class=\"ui-select-container ui-select-bootstrap dropdown\" ng-class=\"{open: $select.open}\"><div class=\"ui-select-match\"></div><span ng-show=\"$select.open && $select.refreshing && $select.spinnerEnabled\" class=\"ui-select-refreshing {{$select.spinnerClass}}\"></span> <input type=\"search\" autocomplete=\"off\" tabindex=\"-1\" aria-expanded=\"true\" aria-label=\"{{ $select.baseTitle }}\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" class=\"form-control ui-select-search\" ng-class=\"{ \'ui-select-search-hidden\' : !$select.searchEnabled }\" placeholder=\"{{$select.placeholder}}\" ng-model=\"$select.search\" ng-show=\"$select.open\"><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div>");$templateCache.put("select2/choices.tpl.html","<ul tabindex=\"-1\" class=\"ui-select-choices ui-select-choices-content select2-results\"><li class=\"ui-select-choices-group\" ng-class=\"{\'select2-result-with-children\': $select.choiceGrouped($group) }\"><div ng-show=\"$select.choiceGrouped($group)\" class=\"ui-select-choices-group-label select2-result-label\" ng-bind=\"$group.name\"></div><ul id=\"ui-select-choices-{{ $select.generatedId }}\" ng-class=\"{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }\"><li role=\"option\" ng-attr-id=\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\" class=\"ui-select-choices-row\" ng-class=\"{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}\"><div class=\"select2-result-label ui-select-choices-row-inner\"></div></li></ul></li></ul>");$templateCache.put("select2/match-multiple.tpl.html","<span class=\"ui-select-match\"><li class=\"ui-select-match-item select2-search-choice\" ng-repeat=\"$item in $select.selected track by $index\" ng-class=\"{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}\" ui-select-sort=\"$select.selected\"><span uis-transclude-append=\"\"></span> <a href=\"javascript:;\" class=\"ui-select-match-close select2-search-choice-close\" ng-click=\"$selectMultiple.removeChoice($index)\" tabindex=\"-1\"></a></li></span>");$templateCache.put("select2/match.tpl.html","<a class=\"select2-choice ui-select-match\" ng-class=\"{\'select2-default\': $select.isEmpty()}\" ng-click=\"$select.toggle($event)\" aria-label=\"{{ $select.baseTitle }} select\"><span ng-show=\"$select.isEmpty()\" class=\"select2-chosen\">{{$select.placeholder}}</span> <span ng-hide=\"$select.isEmpty()\" class=\"select2-chosen\" ng-transclude=\"\"></span> <abbr ng-if=\"$select.allowClear && !$select.isEmpty()\" class=\"select2-search-choice-close\" ng-click=\"$select.clear($event)\"></abbr> <span class=\"select2-arrow ui-select-toggle\"><b></b></span></a>");$templateCache.put("select2/no-choice.tpl.html","<div class=\"ui-select-no-choice dropdown\" ng-show=\"$select.items.length == 0\"><div class=\"dropdown-content\"><div data-selectable=\"\" ng-transclude=\"\"></div></div></div>");$templateCache.put("select2/select-multiple.tpl.html","<div class=\"ui-select-container ui-select-multiple select2 select2-container select2-container-multi\" ng-class=\"{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}\"><ul class=\"select2-choices\"><span class=\"ui-select-match\"></span><li class=\"select2-search-field\"><input type=\"search\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" role=\"combobox\" aria-expanded=\"true\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" aria-label=\"{{ $select.baseTitle }}\" aria-activedescendant=\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\" class=\"select2-input ui-select-search\" placeholder=\"{{$selectMultiple.getPlaceholder()}}\" ng-disabled=\"$select.disabled\" ng-hide=\"$select.disabled\" ng-model=\"$select.search\" ng-click=\"$select.activate()\" style=\"width: 34px;\" ondrop=\"return false;\"></li></ul><div class=\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\" ng-class=\"{\'select2-display-none\': !$select.open || $select.items.length === 0}\"><div class=\"ui-select-choices\"></div></div></div>");$templateCache.put("select2/select.tpl.html","<div class=\"ui-select-container select2 select2-container\" ng-class=\"{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}\"><div class=\"ui-select-match\"></div><div class=\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\" ng-class=\"{\'select2-display-none\': !$select.open}\"><div class=\"search-container\" ng-class=\"{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}\"><input type=\"search\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" ng-class=\"{\'select2-active\': $select.refreshing}\" role=\"combobox\" aria-expanded=\"true\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" aria-label=\"{{ $select.baseTitle }}\" class=\"ui-select-search select2-input\" ng-model=\"$select.search\"></div><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div></div>");$templateCache.put("selectize/choices.tpl.html","<div ng-show=\"$select.open\" class=\"ui-select-choices ui-select-dropdown selectize-dropdown\" ng-class=\"{\'single\': !$select.multiple, \'multi\': $select.multiple}\"><div class=\"ui-select-choices-content selectize-dropdown-content\"><div class=\"ui-select-choices-group optgroup\"><div ng-show=\"$select.isGrouped\" class=\"ui-select-choices-group-label optgroup-header\" ng-bind=\"$group.name\"></div><div role=\"option\" class=\"ui-select-choices-row\" ng-class=\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\"><div class=\"option ui-select-choices-row-inner\" data-selectable=\"\"></div></div></div></div></div>");$templateCache.put("selectize/match-multiple.tpl.html","<div class=\"ui-select-match\" data-value=\"\" ng-repeat=\"$item in $select.selected track by $index\" ng-click=\"$selectMultiple.activeMatchIndex = $index;\" ng-class=\"{\'active\':$selectMultiple.activeMatchIndex === $index}\" ui-select-sort=\"$select.selected\"><span class=\"ui-select-match-item\" ng-class=\"{\'select-locked\':$select.isLocked(this, $index)}\"><span uis-transclude-append=\"\"></span> <span class=\"remove ui-select-match-close\" ng-hide=\"$select.disabled\" ng-click=\"$selectMultiple.removeChoice($index)\">&times;</span></span></div>");$templateCache.put("selectize/match.tpl.html","<div ng-hide=\"$select.searchEnabled && ($select.open || $select.isEmpty())\" class=\"ui-select-match\"><span ng-show=\"!$select.searchEnabled && ($select.isEmpty() || $select.open)\" class=\"ui-select-placeholder text-muted\">{{$select.placeholder}}</span> <span ng-hide=\"$select.isEmpty() || $select.open\" ng-transclude=\"\"></span></div>");$templateCache.put("selectize/no-choice.tpl.html","<div class=\"ui-select-no-choice selectize-dropdown\" ng-show=\"$select.items.length == 0\"><div class=\"selectize-dropdown-content\"><div data-selectable=\"\" ng-transclude=\"\"></div></div></div>");$templateCache.put("selectize/select-multiple.tpl.html","<div class=\"ui-select-container selectize-control multi plugin-remove_button\" ng-class=\"{\'open\': $select.open}\"><div class=\"selectize-input\" ng-class=\"{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}\" ng-click=\"$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()\"><div class=\"ui-select-match\"></div><input type=\"search\" autocomplete=\"off\" tabindex=\"-1\" class=\"ui-select-search\" ng-class=\"{\'ui-select-search-hidden\':!$select.searchEnabled}\" placeholder=\"{{$selectMultiple.getPlaceholder()}}\" ng-model=\"$select.search\" ng-disabled=\"$select.disabled\" aria-expanded=\"{{$select.open}}\" aria-label=\"{{ $select.baseTitle }}\" ondrop=\"return false;\"></div><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div>");$templateCache.put("selectize/select.tpl.html","<div class=\"ui-select-container selectize-control single\" ng-class=\"{\'open\': $select.open}\"><div class=\"selectize-input\" ng-class=\"{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}\" ng-click=\"$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()\"><div class=\"ui-select-match\"></div><input type=\"search\" autocomplete=\"off\" tabindex=\"-1\" class=\"ui-select-search ui-select-toggle\" ng-class=\"{\'ui-select-search-hidden\':!$select.searchEnabled}\" ng-click=\"$select.toggle($event)\" placeholder=\"{{$select.placeholder}}\" ng-model=\"$select.search\" ng-hide=\"!$select.isEmpty() && !$select.open\" ng-disabled=\"$select.disabled\" aria-label=\"{{ $select.baseTitle }}\"></div><div class=\"ui-select-choices\"></div><div class=\"ui-select-no-choice\"></div></div>");}]);return angular.module('ui.select');});
/*! $58 angular-xeditable/angular-xeditable */
define('angular-xeditable/angular-xeditable',['angular-ui-bootstrap/angular-ui-bootstrap','angular-ui-select/ui-select'],function(AngularUIBootstrap,uiSelect){
/*!
angular-xeditable - 0.9.0
Edit-in-place for angular.js
Build date: 2018-07-20 
*/
angular.module('xeditable',[]).value('editableOptions',{theme:'default',icon_set:'default',buttons:'right',blurElem:'cancel',blurForm:'ignore',activate:'focus',isDisabled:false,activationEvent:'click',submitButtonTitle:'Submit',submitButtonAriaLabel:'Submit',cancelButtonTitle:'Cancel',cancelButtonAriaLabel:'Cancel',clearButtonTitle:'Clear',clearButtonAriaLabel:'Clear',displayClearButton:false});angular.module('xeditable').directive('editableBsdate',['editableDirectiveFactory','$injector','$parse',function(editableDirectiveFactory,$injector,$parse){var uibDatepickerConfig=$injector.get('uibDatepickerConfig');var uibDatepickerPopupConfig=$injector.get('uibDatepickerPopupConfig');var popupAttrNames=[['eIsOpen','is-open'],['eDateDisabled','date-disabled'],['eDatepickerPopup','uib-datepicker-popup'],['eShowButtonBar','show-button-bar'],['eCurrentText','current-text'],['eClearText','clear-text'],['eCloseText','close-text'],['eCloseOnDateSelection','close-on-date-selection'],['eDatepickerAppendToBody','datepicker-append-to-body'],['eOnOpenFocus','on-open-focus'],['eName','name'],['eDateDisabled','date-disabled'],['eAltInputFormats','alt-input-formats'],['eDatepickerTemplateUrl','datepicker-template-url']];var dateOptionsNames=[['eFormatDay','formatDay'],['eFormatMonth','formatMonth'],['eFormatYear','formatYear'],['eFormatDayHeader','formatDayHeader'],['eFormatDayTitle','formatDayTitle'],['eFormatMonthTitle','formatMonthTitle'],['eMaxMode','maxMode'],['eMinMode','minMode'],['eDatepickerMode','datepickerMode']];return editableDirectiveFactory({directiveName:'editableBsdate',inputTpl:'<div></div>',render:function(){this.parent.render.call(this);var attrs=this.attrs;var scope=this.scope;var inputDatePicker=angular.element('<input type="text" class="form-control" ng-model="$parent.$data"/>');inputDatePicker.attr('uib-datepicker-popup',attrs.eDatepickerPopupXEditable||uibDatepickerPopupConfig.datepickerPopup);inputDatePicker.attr('year-range',attrs.eYearRange||20);inputDatePicker.attr('ng-readonly',attrs.eReadonly||false);for(var i=popupAttrNames.length-1;i>=0;i--){var popupAttr=attrs[popupAttrNames[i][0]];if(typeof popupAttr!=='undefined'){inputDatePicker.attr(popupAttrNames[i][1],popupAttr);}}
if(attrs.eNgChange){inputDatePicker.attr('ng-change',attrs.eNgChange);this.inputEl.removeAttr('ng-change');}
if(attrs.eStyle){inputDatePicker.attr('style',attrs.eStyle);this.inputEl.removeAttr('style');}
var dateOptions={maxDate:scope.$eval(attrs.eMaxDate)||uibDatepickerConfig.maxDate,minDate:scope.$eval(attrs.eMinDate)||uibDatepickerConfig.minDate,showWeeks:attrs.eShowWeeks?attrs.eShowWeeks.toLowerCase()==='true':uibDatepickerConfig.showWeeks,startingDay:attrs.eStartingDay||0,initDate:scope.$eval(attrs.eInitDate)||new Date()};if(attrs.eDatepickerOptions){var eDatepickerOptions=$parse(attrs.eDatepickerOptions)(scope);angular.extend(dateOptions,eDatepickerOptions);}
for(var z=dateOptionsNames.length-1;z>=0;z--){var doAttr=attrs[dateOptionsNames[z][0]];if(typeof doAttr!=='undefined'){dateOptions[dateOptionsNames[z][1]]=doAttr;}}
scope.dateOptions=dateOptions;var showCalendarButton=angular.isDefined(attrs.eShowCalendarButton)?attrs.eShowCalendarButton:"true";if(showCalendarButton==="true"){var buttonDatePicker=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>');var buttonWrapper=angular.element('<span class="input-group-btn"></span>');buttonDatePicker.attr('ng-click',attrs.eNgClick);buttonWrapper.append(buttonDatePicker);this.inputEl.append(buttonWrapper);}else{inputDatePicker.attr('ng-click',attrs.eNgClick);}
inputDatePicker.attr('datepicker-options',"dateOptions");this.inputEl.prepend(inputDatePicker);this.inputEl.removeAttr('class');this.inputEl.removeAttr('ng-click');this.inputEl.removeAttr('is-open');this.inputEl.removeAttr('init-date');this.inputEl.removeAttr('datepicker-popup');this.inputEl.removeAttr('required');this.inputEl.removeAttr('ng-model');this.inputEl.removeAttr('date-picker-append-to-body');this.inputEl.removeAttr('name');this.inputEl.attr('class','input-group');},autosubmit:function(){var self=this;self.inputEl.bind('change',function(){setTimeout(function(){self.scope.$apply(function(){self.scope.$form.$submit();});},500);});self.inputEl.bind('keydown',function(e){if(e.keyCode===9&&self.editorEl.attr('blur')==='submit'){self.scope.$apply(function(){self.scope.$form.$submit();});}});}});}]);angular.module('xeditable').directive('editableBstime',['editableDirectiveFactory',function(editableDirectiveFactory){return editableDirectiveFactory({directiveName:'editableBstime',inputTpl:'<div uib-timepicker></div>',render:function(){this.parent.render.call(this);var div=angular.element('<div class="well well-small" style="display:inline-block;"></div>');div.attr('ng-model',this.inputEl.attr('ng-model'));this.inputEl.removeAttr('ng-model');if(this.attrs.eNgChange){div.attr('ng-change',this.inputEl.attr('ng-change'));this.inputEl.removeAttr('ng-change');}
this.inputEl.wrap(div);}});}]);angular.module('xeditable').directive('editableCheckbox',['editableDirectiveFactory',function(editableDirectiveFactory){return editableDirectiveFactory({directiveName:'editableCheckbox',inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this);this.inputEl.wrap('<label></label>');if(this.attrs.eTitle){this.inputEl.parent().append('<span>'+this.attrs.eTitle+'</span>');}},autosubmit:function(){var self=this;self.inputEl.bind('change',function(){setTimeout(function(){self.scope.$apply(function(){self.scope.$form.$submit();});},500);});}});}]);angular.module('xeditable').directive('editableChecklist',['editableDirectiveFactory','editableNgOptionsParser',function(editableDirectiveFactory,editableNgOptionsParser){return editableDirectiveFactory({directiveName:'editableChecklist',inputTpl:'<span></span>',useCopy:true,render:function(){this.parent.render.call(this);var parsed=editableNgOptionsParser(this.attrs.eNgOptions);var ngChangeHtml='';var ngChecklistComparatorHtml='';if(this.attrs.eNgChange){ngChangeHtml=' ng-change="'+this.attrs.eNgChange+'"';}
if(this.attrs.eChecklistComparator){ngChecklistComparatorHtml=' checklist-comparator="'+this.attrs.eChecklistComparator+'"';}
var html='<label ng-repeat="'+parsed.ngRepeat+'">'+'<input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+parsed.locals.valueFn+'"'+
ngChangeHtml+ngChecklistComparatorHtml+'>'+'<span ng-bind="'+parsed.locals.displayFn+'"></span></label>';this.inputEl.removeAttr('ng-model');this.inputEl.removeAttr('ng-options');this.inputEl.removeAttr('ng-change');this.inputEl.removeAttr('checklist-comparator');this.inputEl.html(html);}});}]);angular.module('xeditable').directive('editableCombodate',['editableDirectiveFactory','editableCombodate',function(editableDirectiveFactory,editableCombodate){return editableDirectiveFactory({directiveName:'editableCombodate',inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var options={value:new Date(this.scope.$data)};var self=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(name){var attrName="e"+name.charAt(0).toUpperCase()+name.slice(1);if(attrName in self.attrs){if(name=="minYear"||name=="maxYear"||name=="minuteStep"||name=="secondStep"){options[name]=parseInt(self.attrs[attrName],10);}else{options[name]=self.attrs[attrName];}}});var combodate=editableCombodate.getInstance(this.inputEl,options);combodate.$widget.find('select').bind('change',function(e){self.scope.$data=combodate.getValue()?moment(combodate.getValue(),combodate.options.format).toDate().toISOString():null;}).change();}});}]);(function(){var camelCase=function(dashDelimitedString){return dashDelimitedString.toLowerCase().replace(/-(.)/g,function(match,word){return word.toUpperCase();});};var types='text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file'.split('|');angular.forEach(types,function(type){var directiveName=camelCase('editable'+'-'+type);angular.module('xeditable').directive(directiveName,['editableDirectiveFactory',function(editableDirectiveFactory){return editableDirectiveFactory({directiveName:directiveName,inputTpl:'<input type="'+type+'">',render:function(){this.parent.render.call(this);var attrs=this.attrs;var scope=this.scope;if(attrs.eInputgroupleft||attrs.eInputgroupright){this.inputEl.wrap('<div class="input-group"></div>');if(attrs.eInputgroupleft){var inputGroupLeft=angular.element('<span class="input-group-addon" data-ng-bind="'+attrs.eInputgroupleft+'"></span>');this.inputEl.parent().prepend(inputGroupLeft);}
if(attrs.eInputgroupright){var inputGroupRight=angular.element('<span class="input-group-addon" data-ng-bind="'+attrs.eInputgroupright+'"></span>');this.inputEl.parent().append(inputGroupRight);}}
if(attrs.eLabel){var label=angular.element('<label>'+attrs.eLabel+'</label>');if(attrs.eInputgroupleft||attrs.eInputgroupright){this.inputEl.parent().parent().prepend(label);}else{this.inputEl.parent().prepend(label);}}
if(attrs.eFormclass){this.editorEl.addClass(attrs.eFormclass);this.inputEl.removeAttr('formclass');}},autosubmit:function(){var self=this;self.inputEl.bind('keydown',function(e){if(e.keyCode===9&&self.editorEl.attr('blur')==='submit'){self.scope.$apply(function(){self.scope.$form.$submit();});}});}});}]);});angular.module('xeditable').directive('editableRange',['editableDirectiveFactory','$interpolate',function(editableDirectiveFactory,$interpolate){return editableDirectiveFactory({directiveName:'editableRange',inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this);this.inputEl.after('<output>'+$interpolate.startSymbol()+'$data'+$interpolate.endSymbol()+'</output>');}});}]);}());angular.module('xeditable').directive('editableTagsInput',['editableDirectiveFactory','editableUtils',function(editableDirectiveFactory,editableUtils){var dir=editableDirectiveFactory({directiveName:'editableTagsInput',inputTpl:'<tags-input></tags-input>',useCopy:true,render:function(){this.parent.render.call(this);this.inputEl.append(editableUtils.rename('auto-complete',this.attrs.$autoCompleteElement));this.inputEl.removeAttr('ng-model');this.inputEl.attr('ng-model','$parent.$data');}});var linkOrg=dir.link;dir.link=function(scope,el,attrs,ctrl){var autoCompleteEl=el.find('editable-tags-input-auto-complete');attrs.$autoCompleteElement=autoCompleteEl.clone();autoCompleteEl.remove();return linkOrg(scope,el,attrs,ctrl);};return dir;}]);angular.module('xeditable').directive('editableRadiolist',['editableDirectiveFactory','editableNgOptionsParser','$interpolate',function(editableDirectiveFactory,editableNgOptionsParser,$interpolate){return editableDirectiveFactory({directiveName:'editableRadiolist',inputTpl:'<span></span>',render:function(){this.parent.render.call(this);var parsed=editableNgOptionsParser(this.attrs.eNgOptions),ngChangeHtml='',ngNameHtml='';if(this.attrs.eNgChange){ngChangeHtml=' ng-change="'+this.attrs.eNgChange+'"';}
if(this.attrs.eName){ngNameHtml=' name="'+this.attrs.eName+'"';}
var html='<label data-ng-repeat="'+parsed.ngRepeat+'">'+'<input type="radio" data-ng-disabled="::'+
this.attrs.eNgDisabled+'" data-ng-model="$parent.$parent.$data" data-ng-value="'+$interpolate.startSymbol()+'::'+parsed.locals.valueFn+$interpolate.endSymbol()+'"'+
ngChangeHtml+ngNameHtml+'>'+'<span data-ng-bind="::'+parsed.locals.displayFn+'"></span></label>';this.inputEl.removeAttr('ng-model');this.inputEl.removeAttr('ng-options');this.inputEl.removeAttr('ng-change');this.inputEl.html(html);},autosubmit:function(){var self=this;self.inputEl.bind('change',function(){setTimeout(function(){self.scope.$apply(function(){self.scope.$form.$submit();});},500);});}});}]);angular.module('xeditable').directive('editableSelect',['editableDirectiveFactory',function(editableDirectiveFactory){return editableDirectiveFactory({directiveName:'editableSelect',inputTpl:'<select></select>',render:function(){this.parent.render.call(this);if(this.attrs.ePlaceholder){var placeholder=angular.element('<option value="">'+this.attrs.ePlaceholder+'</option>');this.inputEl.append(placeholder);}},autosubmit:function(){var self=this;if(!self.attrs.hasOwnProperty("eMultiple")){self.inputEl.bind('change',function(){self.scope.$apply(function(){self.scope.$form.$submit();});});}}});}]);angular.module('xeditable').directive('editableTextarea',['editableDirectiveFactory',function(editableDirectiveFactory){return editableDirectiveFactory({directiveName:'editableTextarea',inputTpl:'<textarea></textarea>',render:function(){this.parent.render.call(this);if(this.attrs.eFormclass){this.editorEl.addClass(this.attrs.eFormclass);this.inputEl.removeAttr('formclass');}},addListeners:function(){var self=this;self.parent.addListeners.call(self);if(self.single&&self.buttons!=='no'){self.autosubmit();}},autosubmit:function(){var self=this;self.inputEl.bind('keydown',function(e){if(self.attrs.submitOnEnter){if(e.keyCode===13&&!e.shiftKey){self.scope.$apply(function(){self.scope.$form.$submit();});}}else if((e.ctrlKey||e.metaKey)&&(e.keyCode===13)||(e.keyCode===9&&self.editorEl.attr('blur')==='submit')){self.scope.$apply(function(){self.scope.$form.$submit();});}});}});}]);angular.module('xeditable').directive('editableUidate',['editableDirectiveFactory',function(editableDirectiveFactory){return editableDirectiveFactory({directiveName:'editableUidate',inputTpl:'<input class="form-control" />',render:function(){this.parent.render.call(this);this.inputEl.attr('ui-date',this.attrs.eUiDate);this.inputEl.attr('placeholder',this.attrs.ePlaceholder);}});}]);angular.module('xeditable').directive('editableUiSelect',['editableDirectiveFactory','editableUtils',function(editableDirectiveFactory,editableUtils){var dir=editableDirectiveFactory({directiveName:'editableUiSelect',inputTpl:'<ui-select></ui-select>',render:function(){this.parent.render.call(this);this.inputEl.append(editableUtils.rename('ui-select-match',this.attrs.$matchElement));this.inputEl.append(editableUtils.rename('ui-select-choices',this.attrs.$choicesElement));this.inputEl.removeAttr('ng-model');this.inputEl.attr('ng-model','$parent.$parent.$data');},autosubmit:function(){var self=this;self.inputEl.bind('change',function(){setTimeout(function(){self.scope.$apply(function(){self.scope.$form.$submit();});},500);});self.inputEl.bind('keydown',function(e){if(e.keyCode===9&&self.editorEl.attr('blur')==='submit'){self.scope.$apply(function(){self.scope.$form.$submit();});}});}});var linkOrg=dir.link;dir.link=function(scope,el,attrs,ctrl){var matchEl=el.find('editable-ui-select-match');var choicesEl=el.find('editable-ui-select-choices');attrs.$matchElement=matchEl.clone();attrs.$choicesElement=choicesEl.clone();matchEl.remove();choicesEl.remove();return linkOrg(scope,el,attrs,ctrl);};return dir;}]);angular.module('xeditable').factory('editableController',['$q','editableUtils',function($q,editableUtils){EditableController.$inject=['$scope','$attrs','$element','$parse','editableThemes','editableIcons','editableOptions','$rootScope','$compile','$q','$sce','$templateCache'];function EditableController($scope,$attrs,$element,$parse,editableThemes,editableIcons,editableOptions,$rootScope,$compile,$q,$sce,$templateCache){var valueGetter;var inWaiting;var self=this;self.scope=$scope;self.elem=$element;self.attrs=$attrs;self.inputEl=null;self.editorEl=null;self.single=true;self.error='';self.theme=editableThemes[$attrs.editableTheme]||editableThemes[editableOptions.theme]||editableThemes['default'];self.parent={};var theme_name=$attrs.editableTheme||editableOptions.theme||'default';var icon_set_option=$attrs.editableIconSet||editableOptions.icon_set;self.icon_set=icon_set_option==='default'?editableIcons.default[theme_name]:editableIcons.external[icon_set_option];self.inputTpl='';self.directiveName='';self.useCopy=false;self.single=null;self.buttons='right';self.popover=false;self.init=function(single){self.single=single;self.name=$attrs.eName||$attrs[self.directiveName];if($attrs[self.directiveName]){valueGetter=$parse($attrs[self.directiveName]);}else{throw'You should provide value for `'+self.directiveName+'` in editable element!';}
if(!self.single){self.buttons='no';}else{self.buttons=self.attrs.buttons||editableOptions.buttons;}
if($attrs.eName){self.scope.$watch('$data',function(newVal){self.scope.$form.$data[$attrs.eName]=newVal;});}
if($attrs.onshow){self.onshow=function(){return self.catchError($parse($attrs.onshow)($scope));};}
if($attrs.onhide){self.onhide=function(){return $parse($attrs.onhide)($scope);};}
if($attrs.oncancel){self.oncancel=function(){return $parse($attrs.oncancel)($scope);};}
if($attrs.onbeforesave){self.onbeforesave=function(){return self.catchError($parse($attrs.onbeforesave)($scope));};}
if($attrs.onaftersave){self.onaftersave=function(){return self.catchError($parse($attrs.onaftersave)($scope));};}
if($attrs.popover){self.popover=self.attrs.popover;}
$scope.$parent.$watch($attrs[self.directiveName],function(newVal,oldVal){self.setLocalValue();self.handleEmpty();});};self.render=function(){var theme=self.theme;self.inputEl=angular.element(self.inputTpl);self.controlsEl=angular.element(theme.controlsTpl);self.controlsEl.append(self.inputEl);if(self.buttons!=='no'){self.buttonsEl=angular.element(theme.buttonsTpl);self.submitEl=angular.element(theme.submitTpl);self.resetEl=angular.element(theme.resetTpl);self.cancelEl=angular.element(theme.cancelTpl);self.submitEl.attr('title',editableOptions.submitButtonTitle);self.submitEl.attr('aria-label',editableOptions.submitButtonAriaLabel);self.cancelEl.attr('title',editableOptions.cancelButtonTitle);self.cancelEl.attr('aria-label',editableOptions.cancelButtonAriaLabel);self.resetEl.attr('title',editableOptions.clearButtonTitle);self.resetEl.attr('aria-label',editableOptions.clearButtonAriaLabel);if(self.icon_set){self.submitEl.find('span').addClass(self.icon_set.ok);self.cancelEl.find('span').addClass(self.icon_set.cancel);self.resetEl.find('span').addClass(self.icon_set.clear);}
self.buttonsEl.append(self.submitEl).append(self.cancelEl);if(editableOptions.displayClearButton){self.buttonsEl.append(self.resetEl);}
self.controlsEl.append(self.buttonsEl);self.inputEl.addClass('editable-has-buttons');}
self.errorEl=angular.element(theme.errorTpl);self.controlsEl.append(self.errorEl);self.editorEl=angular.element(self.single?theme.formTpl:theme.noformTpl);self.editorEl.append(self.controlsEl);for(var k in $attrs.$attr){if(k.length<=1){continue;}
var transferAttr=false;var nextLetter=k.substring(1,2);if(k.substring(0,1)==='e'&&nextLetter===nextLetter.toUpperCase()){transferAttr=k.substring(1);}else{continue;}
if(transferAttr==='Form'||transferAttr==='NgSubmit'){continue;}
var firstLetter=transferAttr.substring(0,1);var secondLetter=transferAttr.substring(1,2);if(secondLetter===secondLetter.toUpperCase()&&firstLetter===firstLetter.toUpperCase()){transferAttr=firstLetter.toLowerCase()+'-'+editableUtils.camelToDash(transferAttr.substring(1));}else{transferAttr=firstLetter.toLowerCase()+editableUtils.camelToDash(transferAttr.substring(1));}
var attrValue=(transferAttr!=='value'&&$attrs[k]==='')?transferAttr:$attrs[k];self.inputEl.attr(transferAttr,attrValue);}
self.inputEl.addClass('editable-input');self.inputEl.attr('ng-model','$parent.$data');self.editorEl.addClass(editableUtils.camelToDash(self.directiveName));if(self.single){self.editorEl.attr('editable-form','$form');self.editorEl.attr('blur',self.attrs.blur||editableOptions.blurElem);}
if(self.popover){var wrapper=angular.element('<div></div>');wrapper.append(self.editorEl);self.editorEl=wrapper;$templateCache.put('popover.html',self.editorEl[0].outerHTML);}
if(angular.isFunction(theme.postrender)){theme.postrender.call(self);}};self.setLocalValue=function(){self.scope.$data=self.useCopy?angular.copy(valueGetter($scope.$parent)):valueGetter($scope.$parent);};var newScope=null;self.show=function(){self.setLocalValue();self.render();$element.after(self.editorEl);newScope=$scope.$new();$compile(self.editorEl)(newScope);self.addListeners();$element.addClass('editable-hide');return self.onshow();};self.hide=function(){newScope.$destroy();self.controlsEl.remove();self.editorEl.remove();$element.removeClass('editable-hide');if(self.popover){$templateCache.remove('popover.html');}
return self.onhide();};self.cancel=function(){self.oncancel();};self.addListeners=function(){self.inputEl.bind('keyup',function(e){if(!self.single){return;}
switch(e.keyCode){case 27:self.scope.$apply(function(){self.scope.$form.$cancel();});break;}});if(self.single&&self.buttons==='no'){self.autosubmit();}
self.editorEl.bind('click',function(e){if(e.which&&e.which!==1){return;}
if(self.scope.$form.$visible){self.scope.$form._clicked=true;}});};self.setWaiting=function(value){if(value){inWaiting=!self.inputEl.attr('disabled')&&!self.inputEl.attr('ng-disabled')&&!self.inputEl.attr('ng-enabled');if(inWaiting){self.inputEl.attr('disabled','disabled');if(self.buttonsEl){self.buttonsEl.find('button').attr('disabled','disabled');}}}else{if(inWaiting){self.inputEl.removeAttr('disabled');if(self.buttonsEl){self.buttonsEl.find('button').removeAttr('disabled');}}}};self.activate=function(start,end){setTimeout(function(){var el=self.inputEl[0];if(editableOptions.activate==='focus'&&el.focus){if(start!==undefined&&start!==""&&el.setSelectionRange){end=end||start;el.onfocus=function(){setTimeout(function(){try{this.setSelectionRange(start,end);}catch(e){}}.bind(this));};}
if(self.directiveName=='editableRadiolist'||self.directiveName=='editableChecklist'||self.directiveName=='editableBsdate'||self.directiveName=='editableTagsInput'){el.querySelector('.ng-pristine').focus();}else{el.focus();}}else if(editableOptions.activate==='select'){if(el.select){el.select();}else if(el.focus){el.focus();}}},0);};self.setError=function(msg){if(!angular.isObject(msg)){$scope.$error=$sce.trustAsHtml(msg);self.error=msg;}};self.catchError=function(result,noPromise){if(angular.isObject(result)&&noPromise!==true){$q.when(result).then(angular.bind(this,function(r){this.catchError(r,true);}),angular.bind(this,function(r){this.catchError(r,true);}));}else if(noPromise&&angular.isObject(result)&&result.status&&(result.status!==200)&&result.data&&angular.isString(result.data)){this.setError(result.data);result=result.data;}else if(angular.isString(result)){this.setError(result);}
return result;};self.save=function(){valueGetter.assign($scope.$parent,self.useCopy?angular.copy(self.scope.$data):self.scope.$data);};self.handleEmpty=function(){var val=valueGetter($scope.$parent);var isEmpty=val===null||val===undefined||val===""||(angular.isArray(val)&&val.length===0);$element.toggleClass('editable-empty',isEmpty);};self.autosubmit=angular.noop;self.onshow=angular.noop;self.onhide=angular.noop;self.oncancel=angular.noop;self.onbeforesave=angular.noop;self.onaftersave=angular.noop;}
return EditableController;}]);angular.module('xeditable').factory('editableDirectiveFactory',['$parse','$compile','editableThemes','$rootScope','$document','editableController','editableFormController','editableOptions',function($parse,$compile,editableThemes,$rootScope,$document,editableController,editableFormController,editableOptions){return function(overwrites){return{restrict:'A',scope:true,require:[overwrites.directiveName,'?^form'],controller:editableController,link:function(scope,elem,attrs,ctrl){var eCtrl=ctrl[0];var eFormCtrl;var hasForm=false;if(ctrl[1]){eFormCtrl=ctrl[1];hasForm=attrs.eSingle===undefined;}else if(attrs.eForm){var getter=$parse(attrs.eForm)(scope);if(getter){eFormCtrl=getter;hasForm=true;}else if(elem&&typeof elem.parents==="function"&&elem.parents().last().find('form[name="'+attrs.eForm+'"]').length){eFormCtrl=null;hasForm=true;}else{for(var i=0;i<$document[0].forms.length;i++){if($document[0].forms[i].name===attrs.eForm){eFormCtrl=null;hasForm=true;break;}}}}
angular.forEach(overwrites,function(v,k){if(eCtrl[k]!==undefined){eCtrl.parent[k]=eCtrl[k];}});angular.extend(eCtrl,overwrites);var is_disabled=function(){return angular.isDefined(attrs.editDisabled)?scope.$eval(attrs.editDisabled):editableOptions.isDisabled;};eCtrl.init(!hasForm);scope.$editable=eCtrl;elem.addClass('editable');if(hasForm){if(eFormCtrl){scope.$form=eFormCtrl;if(!scope.$form.$addEditable){throw'Form with editable elements should have `editable-form` attribute.';}
scope.$form.$addEditable(eCtrl);}else{$rootScope.$$editableBuffer=$rootScope.$$editableBuffer||{};$rootScope.$$editableBuffer[attrs.eForm]=$rootScope.$$editableBuffer[attrs.eForm]||[];$rootScope.$$editableBuffer[attrs.eForm].push(eCtrl);scope.$form=null;}}else{scope.$form=editableFormController();scope.$form.$addEditable(eCtrl);if(attrs.eForm){($parse(attrs.eForm).assign||angular.noop)(scope.$parent,scope.$form);}
if(!attrs.eForm||attrs.eClickable){elem.addClass('editable-click');elem.bind(editableOptions.activationEvent,function(e){e.preventDefault();e.editable=eCtrl;if(!is_disabled()){scope.$apply(function(){scope.$form.$show();});}});}}}};};}]);angular.module('xeditable').factory('editableFormController',['$parse','$document','$rootScope','editablePromiseCollection','editableUtils',function($parse,$document,$rootScope,editablePromiseCollection,editableUtils){var shown=[];var isSelfOrDescendant=function(parent,child){if(child==parent){return true;}
var node=child.parentNode;while(node!==null){if(node==parent){return true;}
node=node.parentNode;}
return false;};var isBlur=function(shown,event){var isBlur=true;var editables=shown.$editables;angular.forEach(editables,function(v){var element=v.editorEl[0];if(isSelfOrDescendant(element,event.target))
isBlur=false;});return isBlur;};$document.bind('click',function(e){if(e.which&&e.which!==1){return;}
var toCancel=[];var toSubmit=[];for(var i=0;i<shown.length;i++){if(shown[i]._clicked){shown[i]._clicked=false;continue;}
if(shown[i].$waiting){continue;}
if(shown[i]._blur==='cancel'&&isBlur(shown[i],e)){toCancel.push(shown[i]);}
if(shown[i]._blur==='submit'&&isBlur(shown[i],e)){toSubmit.push(shown[i]);}}
if(toCancel.length||toSubmit.length){$rootScope.$apply(function(){angular.forEach(toCancel,function(v){v.$cancel();});angular.forEach(toSubmit,function(v){v.$submit();});});}});$rootScope.$on('closeEdit',function(){for(var i=0;i<shown.length;i++){shown[i].$hide();}});var base={$addEditable:function(editable){this.$editables.push(editable);editable.elem.bind('$destroy',angular.bind(this,this.$removeEditable,editable));if(!editable.scope.$form){editable.scope.$form=this;}
if(this.$visible){editable.catchError(editable.show());}
editable.catchError(editable.setWaiting(this.$waiting));},$removeEditable:function(editable){for(var i=0;i<this.$editables.length;i++){if(this.$editables[i]===editable){this.$editables.splice(i,1);return;}}},$show:function(){if(this.$visible){return;}
this.$visible=true;var pc=editablePromiseCollection();pc.when(this.$onshow());this.$setError(null,'');angular.forEach(this.$editables,function(editable){pc.when(editable.show());});pc.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)});setTimeout(angular.bind(this,function(){this._clicked=false;if(editableUtils.indexOf(shown,this)===-1){shown.push(this);}}),0);},$activate:function(name){var i,selectionStart,selectionEnd;if(this.$editables.length){if(angular.isString(name)){for(i=0;i<this.$editables.length;i++){if(this.$editables[i].name===name){this.$editables[i].activate();return;}}}
for(i=0;i<this.$editables.length;i++){if(this.$editables[i].error){this.$editables[i].activate();return;}}
selectionStart=this.$editables[0].elem[0].selectionStart?this.$editables[0].elem[0].selectionStart:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0;selectionEnd=this.$editables[0].elem[0].selectionEnd?this.$editables[0].elem[0].selectionEnd:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0;this.$editables[0].activate(selectionStart,selectionEnd);}},$hide:function(){if(!this.$visible){return;}
this.$visible=false;this.$onhide();angular.forEach(this.$editables,function(editable){editable.hide();});editableUtils.arrayRemove(shown,this);},$cancel:function(){if(!this.$visible){return;}
this.$oncancel();angular.forEach(this.$editables,function(editable){editable.cancel();});this.$hide();},$setWaiting:function(value){this.$waiting=!!value;angular.forEach(this.$editables,function(editable){editable.setWaiting(!!value);});},$setError:function(name,msg){angular.forEach(this.$editables,function(editable){if(!name||editable.name===name){editable.setError(msg);}});},$submit:function(){if(this.$waiting){return;}
this.$setError(null,'');var pc=editablePromiseCollection();angular.forEach(this.$editables,function(editable){pc.when(editable.onbeforesave());});pc.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,checkSelf,true),onFalse:angular.bind(this,checkSelf,false),onString:angular.bind(this,this.$activate)});function checkSelf(childrenTrue){var pc=editablePromiseCollection();pc.when(this.$onbeforesave());pc.then({onWait:angular.bind(this,this.$setWaiting),onTrue:childrenTrue?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)});}},$save:function(){angular.forEach(this.$editables,function(editable){editable.save();});var pc=editablePromiseCollection();pc.when(this.$onaftersave());angular.forEach(this.$editables,function(editable){pc.when(editable.onaftersave());});pc.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)});},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:false,$waiting:false,$data:{},_clicked:false,_blur:null},base);};}]);angular.module('xeditable').directive('editableForm',['$rootScope','$parse','editableFormController','editableOptions',function($rootScope,$parse,editableFormController,editableOptions){return{restrict:'A',require:['form'],compile:function(){return{pre:function(scope,elem,attrs,ctrl){var form=ctrl[0];var eForm;if(attrs.editableForm){if(scope[attrs.editableForm]&&scope[attrs.editableForm].$show){eForm=scope[attrs.editableForm];angular.extend(form,eForm);}else{eForm=editableFormController();scope[attrs.editableForm]=eForm;angular.extend(eForm,form);}}else{eForm=editableFormController();angular.extend(form,eForm);}
var buf=$rootScope.$$editableBuffer;var name=form.$name;if(name&&buf&&buf[name]){angular.forEach(buf[name],function(editable){eForm.$addEditable(editable);});delete buf[name];}},post:function(scope,elem,attrs,ctrl){var eForm;if(attrs.editableForm&&scope[attrs.editableForm]&&scope[attrs.editableForm].$show){eForm=scope[attrs.editableForm];}else{eForm=ctrl[0];}
if(attrs.onshow){eForm.$onshow=angular.bind(eForm,$parse(attrs.onshow),scope);}
if(attrs.onhide){eForm.$onhide=angular.bind(eForm,$parse(attrs.onhide),scope);}
if(attrs.oncancel){eForm.$oncancel=angular.bind(eForm,$parse(attrs.oncancel),scope);}
if(attrs.shown&&$parse(attrs.shown)(scope)){eForm.$show();}
eForm._blur=attrs.blur||editableOptions.blurForm;if(!attrs.ngSubmit&&!attrs.submit){if(attrs.onbeforesave){eForm.$onbeforesave=function(){return $parse(attrs.onbeforesave)(scope,{$data:eForm.$data});};}
if(attrs.onaftersave){eForm.$onaftersave=function(){return $parse(attrs.onaftersave)(scope,{$data:eForm.$data});};}
elem.bind('submit',function(event){event.preventDefault();scope.$apply(function(){eForm.$submit();});});}
elem.bind('click',function(e){if(e.which&&e.which!==1){return;}
if(eForm.$visible){eForm._clicked=true;}});}};}};}]);angular.module('xeditable').factory('editablePromiseCollection',['$q',function($q){function promiseCollection(){return{promises:[],hasFalse:false,hasString:false,when:function(result,noPromise){if(result===false){this.hasFalse=true;}else if(!noPromise&&angular.isObject(result)){this.promises.push($q.when(result));}else if(angular.isString(result)){this.hasString=true;}else{return;}},then:function(callbacks){callbacks=callbacks||{};var onTrue=callbacks.onTrue||angular.noop;var onFalse=callbacks.onFalse||angular.noop;var onString=callbacks.onString||angular.noop;var onWait=callbacks.onWait||angular.noop;var self=this;if(this.promises.length){onWait(true);$q.all(this.promises).then(function(results){onWait(false);angular.forEach(results,function(result){self.when(result,true);});applyCallback();},function(error){onWait(false);onString();});}else{applyCallback();}
function applyCallback(){if(!self.hasString&&!self.hasFalse){onTrue();}else if(!self.hasString&&self.hasFalse){onFalse();}else{onString();}}}};}
return promiseCollection;}]);angular.module('xeditable').factory('editableUtils',[function(){return{indexOf:function(array,obj){if(array.indexOf)return array.indexOf(obj);for(var i=0;i<array.length;i++){if(obj===array[i])return i;}
return-1;},arrayRemove:function(array,value){var index=this.indexOf(array,value);if(index>=0){array.splice(index,1);}
return value;},camelToDash:function(str){var SNAKE_CASE_REGEXP=/[A-Z]/g;return str.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?'-':'')+letter.toLowerCase();});},dashToCamel:function(str){var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g;var MOZ_HACK_REGEXP=/^moz([A-Z])/;return str.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter;}).replace(MOZ_HACK_REGEXP,'Moz$1');},rename:function(tag,el){if(el[0]&&el[0].attributes){var newEl=angular.element('<'+tag+'/>');newEl.html(el.html());var attrs=el[0].attributes;for(var i=0;i<attrs.length;++i){newEl.attr(attrs.item(i).nodeName,attrs.item(i).value);}
return newEl;}}};}]);angular.module('xeditable').factory('editableNgOptionsParser',[function(){var NG_OPTIONS_REGEXP=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;function parser(optionsExp){var match;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP))){throw'ng-options parse error';}
var
displayFn=match[2]||match[1],valueName=match[4]||match[6],keyName=match[5],groupByFn=match[3]||'',valueFn=match[2]?match[1]:valueName,valuesFn=match[7],track=match[8],trackFn=track?match[8]:null;var ngRepeat;if(keyName===undefined){ngRepeat=valueName+' in '+valuesFn;if(track!==undefined){ngRepeat+=' track by '+trackFn;}}else{ngRepeat='('+keyName+', '+valueName+') in '+valuesFn;}
return{ngRepeat:ngRepeat,locals:{valueName:valueName,keyName:keyName,valueFn:valueFn,displayFn:displayFn}};}
return parser;}]);angular.module('xeditable').factory('editableCombodate',[function(){function Combodate(element,options){this.$element=angular.element(element);if(this.$element[0].nodeName!='INPUT'){throw'Combodate should be applied to INPUT element';}
var currentYear=new Date().getFullYear();this.defaults={format:'YYYY-MM-DD HH:mm',template:'D / MMM / YYYY   H : mm',value:null,minYear:1970,maxYear:currentYear,yearDescending:true,minuteStep:5,secondStep:1,firstItem:'empty',errorClass:null,customClass:'',roundTime:true,smartDays:true};this.options=angular.extend({},this.defaults,options);this.init();}
Combodate.prototype={constructor:Combodate,init:function(){this.map={day:['D','date'],month:['M','month'],year:['Y','year'],hour:['[Hh]','hours'],minute:['m','minutes'],second:['s','seconds'],ampm:['[Aa]','']};this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();if(this.options.smartDays){var combo=this;this.$widget.find('select').bind('change',function(e){if(angular.element(e.target).hasClass('month')||angular.element(e.target).hasClass('year')){combo.fillCombo('day');}});}
this.$widget.find('select').css('width','auto');this.$element.css('display','none').after(this.$widget);this.setValue(this.$element.val()||this.options.value);},getTemplate:function(){var tpl=this.options.template;var customClass=this.options.customClass;angular.forEach(this.map,function(v,k){v=v[0];var r=new RegExp(v+'+');var token=v.length>1?v.substring(1,2):v;tpl=tpl.replace(r,'{'+token+'}');});tpl=tpl.replace(/ /g,'&nbsp;');angular.forEach(this.map,function(v,k){v=v[0];var token=v.length>1?v.substring(1,2):v;tpl=tpl.replace('{'+token+'}','<select class="'+k+' '+customClass+'"></select>');});return tpl;},initCombos:function(){for(var k in this.map){var c=this.$widget[0].querySelectorAll('.'+k);this['$'+k]=c.length?angular.element(c):null;this.fillCombo(k);}},fillCombo:function(k){var $combo=this['$'+k];if(!$combo){return;}
var f='fill'+k.charAt(0).toUpperCase()+k.slice(1);var items=this[f]();var value=$combo.val();$combo.html('');for(var i=0;i<items.length;i++){$combo.append('<option value="'+items[i][0]+'">'+items[i][1]+'</option>');}
$combo.val(value);},fillCommon:function(key){var values=[],relTime;if(this.options.firstItem==='name'){relTime=moment.relativeTime||moment.langData()._relativeTime;var header=typeof relTime[key]==='function'?relTime[key](1,true,key,false):relTime[key];header=header.split(' ').reverse()[0];values.push(['',header]);}else if(this.options.firstItem==='empty'){values.push(['','']);}
return values;},fillDay:function(){var items=this.fillCommon('d'),name,i,twoDigit=this.options.template.indexOf('DD')!==-1,daysCount=31;if(this.options.smartDays&&this.$month&&this.$year){var month=parseInt(this.$month.val(),10);var year=parseInt(this.$year.val(),10);if(!isNaN(month)&&!isNaN(year)){daysCount=moment([year,month]).daysInMonth();}}
for(i=1;i<=daysCount;i++){name=twoDigit?this.leadZero(i):i;items.push([i,name]);}
return items;},fillMonth:function(){var items=this.fillCommon('M'),name,i,longNames=this.options.template.indexOf('MMMM')!==-1,shortNames=this.options.template.indexOf('MMM')!==-1,twoDigit=this.options.template.indexOf('MM')!==-1;for(i=0;i<=11;i++){if(longNames){name=moment().date(1).month(i).format('MMMM');}else if(shortNames){name=moment().date(1).month(i).format('MMM');}else if(twoDigit){name=this.leadZero(i+1);}else{name=i+1;}
items.push([i,name]);}
return items;},fillYear:function(){var items=[],name,i,longNames=this.options.template.indexOf('YYYY')!==-1;for(i=this.options.maxYear;i>=this.options.minYear;i--){name=longNames?i:(i+'').substring(2);items[this.options.yearDescending?'push':'unshift']([i,name]);}
items=this.fillCommon('y').concat(items);return items;},fillHour:function(){var items=this.fillCommon('h'),name,i,h12=this.options.template.indexOf('h')!==-1,h24=this.options.template.indexOf('H')!==-1,twoDigit=this.options.template.toLowerCase().indexOf('hh')!==-1,min=h12?1:0,max=h12?12:23;for(i=min;i<=max;i++){name=twoDigit?this.leadZero(i):i;items.push([i,name]);}
return items;},fillMinute:function(){var items=this.fillCommon('m'),name,i,twoDigit=this.options.template.indexOf('mm')!==-1;for(i=0;i<=59;i+=this.options.minuteStep){name=twoDigit?this.leadZero(i):i;items.push([i,name]);}
return items;},fillSecond:function(){var items=this.fillCommon('s'),name,i,twoDigit=this.options.template.indexOf('ss')!==-1;for(i=0;i<=59;i+=this.options.secondStep){name=twoDigit?this.leadZero(i):i;items.push([i,name]);}
return items;},fillAmpm:function(){var ampmL=this.options.template.indexOf('a')!==-1,ampmU=this.options.template.indexOf('A')!==-1,items=[['am',ampmL?'am':'AM'],['pm',ampmL?'pm':'PM']];return items;},getValue:function(format){var dt,values={},that=this,notSelected=false;angular.forEach(this.map,function(v,k){if(k==='ampm'){return;}
var def=k==='day'?1:0;values[k]=that['$'+k]?parseInt(that['$'+k].val(),10):def;if(isNaN(values[k])){notSelected=true;return false;}});if(notSelected){return'';}
if(this.$ampm){if(values.hour===12){values.hour=this.$ampm.val()==='am'?0:12;}else{values.hour=this.$ampm.val()==='am'?values.hour:values.hour+12;}}
dt=moment([values.year,values.month,values.day,values.hour,values.minute,values.second]);this.highlight(dt);format=format===undefined?this.options.format:format;if(format===null){return dt.isValid()?dt:null;}else{return dt.isValid()?dt.format(format):'';}},setValue:function(value){if(!value){return;}
var dt=typeof value==='string'?moment(value,this.options.format,true):moment(value),that=this,values={};function getNearest($select,value){var delta={};angular.forEach($select.children('option'),function(opt,i){var optValue=angular.element(opt).attr('value');if(optValue==='')return;var distance=Math.abs(optValue-value);if(typeof delta.distance==='undefined'||distance<delta.distance){delta={value:optValue,distance:distance};}});return delta.value;}
if(dt.isValid()){angular.forEach(this.map,function(v,k){if(k==='ampm'){return;}
values[k]=dt[v[1]]();});if(this.$ampm){if(values.hour>=12){values.ampm='pm';if(values.hour>12){values.hour-=12;}}else{values.ampm='am';if(values.hour===0){values.hour=12;}}}
angular.forEach(values,function(v,k){if(that['$'+k]){if(k==='minute'&&that.options.minuteStep>1&&that.options.roundTime){v=getNearest(that['$'+k],v);}
if(k==='second'&&that.options.secondStep>1&&that.options.roundTime){v=getNearest(that['$'+k],v);}
that['$'+k].val(v);}});if(this.options.smartDays){this.fillCombo('day');}
this.$element.val(dt.format(this.options.format)).triggerHandler('change');}},highlight:function(dt){if(!dt.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass);}else{if(!this.borderColor){this.borderColor=this.$widget.find('select').css('border-color');}
this.$widget.find('select').css('border-color','red');}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass);}else{this.$widget.find('select').css('border-color',this.borderColor);}}},leadZero:function(v){return v<=9?'0'+v:v;},destroy:function(){this.$widget.remove();this.$element.removeData('combodate').show();}};return{getInstance:function(element,options){return new Combodate(element,options);}};}]);angular.module('xeditable').factory('editableIcons',function(){var icons={default:{'bs2':{ok:'icon-ok icon-white',cancel:'icon-remove',clear:'icon-trash'},'bs3':{ok:'glyphicon glyphicon-ok',cancel:'glyphicon glyphicon-remove',clear:'glyphicon glyphicon-trash'}},external:{'font-awesome':{ok:'fa fa-check',cancel:'fa fa-times',clear:'fa fa-trash'}}};return icons;});angular.module('xeditable').factory('editableThemes',function(){var themes={'default':{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:'',errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},'bs2':{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:'',errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()">'+'<span></span>'+'</button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>'},'bs3':{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:'',errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()">'+'<span></span>'+'</button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:'',inputClass:'',postrender:function(){switch(this.directiveName){case'editableText':case'editableSelect':case'editableTextarea':case'editableEmail':case'editableTel':case'editableNumber':case'editableUrl':case'editableSearch':case'editableDate':case'editableDatetime':case'editableBsdate':case'editableTime':case'editableMonth':case'editableWeek':case'editablePassword':case'editableDatetimeLocal':this.inputEl.addClass('form-control');if(this.theme.inputClass){if(this.inputEl.attr('multiple')&&(this.theme.inputClass==='input-sm'||this.theme.inputClass==='input-lg')){break;}
this.inputEl.addClass(this.theme.inputClass);}
break;case'editableCheckbox':this.editorEl.addClass('checkbox');}
if(this.buttonsEl&&this.theme.buttonsClass){this.buttonsEl.find('button').addClass(this.theme.buttonsClass);}}},'semantic':{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:'',errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()">'+'<i class="ui cancel icon"></i>'+'</button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}};return themes;});return angular.module('xeditable');});
/*! $59 bootstack.ui */
define('bootstack.ui',['webfan/simple-batch'],function(batch){return function(process,callback){var next=process.nextTick;batch([function(resolve,reject){var loop=function(){next(function(){if('undefined'!==typeof global.frdl){resolve(['frdl',global.frdl]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if('undefined'!==typeof frdl.main&&'undefined'!==typeof frdl.main.dependency&&true===frdl.main.dependency.stateReady()){resolve(['frdl.main.dependency',frdl.main.dependency]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if('undefined'!==typeof frdl.inX){resolve(['frdl.inX',frdl.inX]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){var Alert=frdl.alert;var Hash=frdl.Hash;next(function(){if('undefined'!==typeof frdl.alert&&'undefined'!==typeof frdl.alert.error&&'undefined'!==typeof frdl.Hash){resolve(['frdl.alert && frdl.Hash',[frdl.alert,frdl.Hash]]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if('undefined'!==typeof frdl&&'undefined'!==typeof frdl.ready&&'undefined'!==typeof frdl.ready.uiReadyToLoadDependencies&&'undefined'!==typeof frdl.ready.uiReadyToLoadDependencies.stateReady&&'function'===typeof frdl.ready.uiReadyToLoadDependencies.stateReady&&true===frdl.ready.uiReadyToLoadDependencies.stateReady()){resolve(['uiReadyToLoadDependencies',frdl.ready.uiReadyToLoadDependencies]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if('undefined'!==typeof frdl.UI&&'undefined'!==typeof frdl.UI.Compile&&'function'===typeof frdl.UI.Compile&&'undefined'!==typeof frdl.UI.load&&'function'===typeof frdl.UI.load){resolve(['frdl.UI',frdl.UI]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if(frdl.angularBootstrapable(true,frdl.angularBootstrapable(true,!!(frdl.angularBootstrapable.ready+0)))){resolve(['frdl.angularBootstrapable(true, frdl.angularBootstrapable(true,!!(frdl.angularBootstrapable.ready + 0)))',frdl.angularBootstrapable(true,frdl.angularBootstrapable(true,!!(frdl.ready+0)))]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if(0+frdl.angularBootstrapable.ready+0){resolve(['0 + frdl.angularBootstrapable.ready + 0',0+frdl.angularBootstrapable.ready+0]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if('undefined'!==typeof frdl.UI&&'undefined'!==typeof frdl.UI.Compile&&'function'===typeof frdl.UI.Compile&&'undefined'!==typeof frdl.UI.load){resolve(['frdl.angularBootstrapLoad frdl.UI.load()',true]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if(('undefined'!==typeof frdl.translate||'undefined'!==typeof frdl.inX)&&(('undefined'!==typeof frdl.inX.translate&&'function'===typeof frdl.inX.translate)||'function'===typeof frdl.translate)){resolve(['frdl.translate',frdl.translate]);}else{loop();}});};loop();},function(resolve,reject){var loop=function(){process.nextTick(function(){if('undefined'!==typeof frdl.a&&'function'===typeof frdl.a.defined){resolve(['frdl.a.modules',frdl.a.modules]);}else{frdl.angularBootstrapDefer();loop();}});};loop();},function(resolve,reject){var loop=function(){next(function(){if('function'===typeof frdl.UI.load&&(isNaN(frdl.angularBootstrapLoad()+'')&&isNaN(frdl.UI.load()+''))){resolve(['frdl.angularBootstrapLoad frdl.UI.load()',true]);}else{loop();}});};loop();}],callback);};});
/*! $60 mobile-detect/mobile-detect */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! @ frdl.Frdlweb.js.Compiler.defaultPlugin : frdlcjs */
/*!mobile-detect v1.3.7 2017-09-06*/
/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
define('mobile-detect/mobile-detect',function(){'use strict';var impl={};impl.mobileDetectRules={"phones":{"iPhone":"\\biPhone\\b|\\biPod\\b","BlackBerry":"BlackBerry|\\bBB10\\b|rim[0-9]+","HTC":"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m","Nexus":"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6","Dell":"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b","Motorola":"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b","Samsung":"\\bSamsung\\b|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C","LG":"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)","Sony":"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533","Asus":"Asus.*Galaxy|PadFone.*Mobile","NokiaLumia":"Lumia [0-9]{3,4}","Micromax":"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b","Palm":"PalmSource|Palm","Vertu":"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature","Pantech":"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790","Fly":"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250","Wiko":"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM","iMobile":"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)","SimValley":"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b","Wolfgang":"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q","Alcatel":"Alcatel","Nintendo":"Nintendo 3DS","Amoi":"Amoi","INQ":"INQ","GenericPhone":"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},"tablets":{"iPad":"iPad|iPad.*Mobile","NexusTablet":"Android.*Nexus[\\s]+(7|9|10)","SamsungTablet":"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y","Kindle":"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk\/[0-9.]+ like Chrome\/[0-9.]+ (?!Mobile)","SurfaceTablet":"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)","HPTablet":"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10","AsusTablet":"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b","BlackBerryTablet":"PlayBook|RIM Tablet","HTCtablet":"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410","MotorolaTablet":"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617","NookTablet":"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2","AcerTablet":"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30","ToshibaTablet":"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO","LGTablet":"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b","FujitsuTablet":"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b","PrestigioTablet":"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002","LenovoTablet":"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)","DellTablet":"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7","YarvikTablet":"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b","MedionTablet":"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB","ArnovaTablet":"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2","IntensoTablet":"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004","IRUTablet":"M702pro","MegafonTablet":"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b","EbodaTablet":"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)","AllViewTablet":"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)","ArchosTablet":"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b","AinolTablet":"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark","NokiaLumiaTablet":"Lumia 2520","SonyTablet":"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31","PhilipsTablet":"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b","CubeTablet":"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT","CobyTablet":"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010","MIDTablet":"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10","MSITablet":"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b","SMiTTablet":"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)","RockChipTablet":"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A","FlyTablet":"IQ310|Fly Vision","bqTablet":"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris [E|M]10)|Maxwell.*Lite|Maxwell.*Plus","HuaweiTablet":"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim","NecTablet":"\\bN-06D|\\bN-08D","PantechTablet":"Pantech.*P4100","BronchoTablet":"Broncho.*(N701|N708|N802|a710)","VersusTablet":"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b","ZyncTablet":"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900","PositivoTablet":"TB07STA|TB10STA|TB07FTA|TB10FTA","NabiTablet":"Android.*\\bNabi","KoboTablet":"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build","DanewTablet":"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b","TexetTablet":"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE","PlaystationTablet":"Playstation.*(Portable|Vita)","TrekstorTablet":"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab","PyleAudioTablet":"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b","AdvanTablet":"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ","DanyTechTablet":"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1","GalapadTablet":"Android.*\\bG1\\b","MicromaxTablet":"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b","KarbonnTablet":"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b","AllFineTablet":"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide","PROSCANTablet":"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b","YONESTablet":"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026","ChangJiaTablet":"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503","GUTablet":"TX-A1301|TX-M9002|Q702|kf026","PointOfViewTablet":"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10","OvermaxTablet":"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)","HCLTablet":"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync","DPSTablet":"DPS Dream 9|DPS Dual 7","VistureTablet":"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10","CrestaTablet":"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989","MediatekTablet":"\\bMT8125|MT8389|MT8135|MT8377\\b","ConcordeTablet":"Concorde([ ]+)?Tab|ConCorde ReadMan","GoCleverTablet":"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042","ModecomTablet":"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003","VoninoTablet":"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b","ECSTablet":"V07OT2|TM105A|S10OT1|TR10CS1","StorexTablet":"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab","VodafoneTablet":"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497","EssentielBTablet":"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2","RossMoorTablet":"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711","iMobileTablet":"i-mobile i-note","TolinoTablet":"tolino tab [0-9.]+|tolino shine","AudioSonicTablet":"\\bC-22Q|T7-QC|T-17B|T-17P\\b","AMPETablet":"Android.* A78 ","SkkTablet":"Android.* (SKYPAD|PHOENIX|CYCLOPS)","TecnoTablet":"TECNO P9","JXDTablet":"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b","iJoyTablet":"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)","FX2Tablet":"FX2 PAD7|FX2 PAD10","XoroTablet":"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151","ViewsonicTablet":"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a","OdysTablet":"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10","CaptivaTablet":"CAPTIVA PAD","IconbitTablet":"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S","TeclastTablet":"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi","OndaTablet":"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+","JaytechTablet":"TPC-PA762","BlaupunktTablet":"Endeavour 800NG|Endeavour 1010","DigmaTablet":"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b","EvolioTablet":"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b","LavaTablet":"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b","AocTablet":"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712","MpmanTablet":"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010","CelkonTablet":"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b","WolderTablet":"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b","MiTablet":"\\bMI PAD\\b|\\bHM NOTE 1W\\b","NibiruTablet":"Nibiru M1|Nibiru Jupiter One","NexoTablet":"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI","LeaderTablet":"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100","UbislateTablet":"UbiSlate[\\s]?7C","PocketBookTablet":"Pocketbook","KocasoTablet":"\\b(TB-1207)\\b","HisenseTablet":"\\b(F5281|E2371)\\b","Hudl":"Hudl HT7S3|Hudl 2","TelstraTablet":"T-Hub2","GenericTablet":"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b"},"oss":{"AndroidOS":"Android","BlackBerryOS":"blackberry|\\bBB10\\b|rim tablet os","PalmOS":"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino","SymbianOS":"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b","WindowsMobileOS":"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;","WindowsPhoneOS":"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;","iOS":"\\biPhone.*Mobile|\\biPod|\\biPad","MeeGoOS":"MeeGo","MaemoOS":"Maemo","JavaOS":"J2ME\/|\\bMIDP\\b|\\bCLDC\\b","webOS":"webOS|hpwOS","badaOS":"\\bBada\\b","BREWOS":"BREW"},"uas":{"Chrome":"\\bCrMo\\b|CriOS|Android.*Chrome\/[.0-9]* (Mobile)?","Dolfin":"\\bDolfin\\b","Opera":"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR\/[0-9.]+|Coast\/[0-9.]+","Skyfire":"Skyfire","Edge":"Mobile Safari\/[.0-9]* Edge","IE":"IEMobile|MSIEMobile","Firefox":"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS","Bolt":"bolt","TeaShark":"teashark","Blazer":"Blazer","Safari":"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari","UCBrowser":"UC.*Browser|UCWEB","baiduboxapp":"baiduboxapp","baidubrowser":"baidubrowser","DiigoBrowser":"DiigoBrowser","Puffin":"Puffin","Mercury":"\\bMercury\\b","ObigoBrowser":"Obigo","NetFront":"NF-Browser","GenericBrowser":"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger","PaleMoon":"Android.*PaleMoon|Mobile.*PaleMoon"},"props":{"Mobile":"Mobile\/[VER]","Build":"Build\/[VER]","Version":"Version\/[VER]","VendorID":"VendorID\/[VER]","iPad":"iPad.*CPU[a-z ]+[VER]","iPhone":"iPhone.*CPU[a-z ]+[VER]","iPod":"iPod.*CPU[a-z ]+[VER]","Kindle":"Kindle\/[VER]","Chrome":["Chrome\/[VER]","CriOS\/[VER]","CrMo\/[VER]"],"Coast":["Coast\/[VER]"],"Dolfin":"Dolfin\/[VER]","Firefox":["Firefox\/[VER]","FxiOS\/[VER]"],"Fennec":"Fennec\/[VER]","Edge":"Edge\/[VER]","IE":["IEMobile\/[VER];","IEMobile [VER]","MSIE [VER];","Trident\/[0-9.]+;.*rv:[VER]"],"NetFront":"NetFront\/[VER]","NokiaBrowser":"NokiaBrowser\/[VER]","Opera":[" OPR\/[VER]","Opera Mini\/[VER]","Version\/[VER]"],"Opera Mini":"Opera Mini\/[VER]","Opera Mobi":"Version\/[VER]","UC Browser":"UC Browser[VER]","MQQBrowser":"MQQBrowser\/[VER]","MicroMessenger":"MicroMessenger\/[VER]","baiduboxapp":"baiduboxapp\/[VER]","baidubrowser":"baidubrowser\/[VER]","SamsungBrowser":"SamsungBrowser\/[VER]","Iron":"Iron\/[VER]","Safari":["Version\/[VER]","Safari\/[VER]"],"Skyfire":"Skyfire\/[VER]","Tizen":"Tizen\/[VER]","Webkit":"webkit[ \/][VER]","PaleMoon":"PaleMoon\/[VER]","Gecko":"Gecko\/[VER]","Trident":"Trident\/[VER]","Presto":"Presto\/[VER]","Goanna":"Goanna\/[VER]","iOS":" \\bi?OS\\b [VER][ ;]{1}","Android":"Android [VER]","BlackBerry":["BlackBerry[\\w]+\/[VER]","BlackBerry.*Version\/[VER]","Version\/[VER]"],"BREW":"BREW [VER]","Java":"Java\/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE\/[VER]","Windows NT":"Windows NT [VER]","Symbian":["SymbianOS\/[VER]","Symbian\/[VER]"],"webOS":["webOS\/[VER]","hpwOS\/[VER];"]},"utils":{"Bot":"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom","MobileBot":"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker\/M1A1-R2D2","DesktopMode":"WPDesktop","TV":"SonyDTV|HbbTV","WebKit":"(webkit)[ \/]([\\w.]+)","Console":"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b","Watch":"SM-V700"}};impl.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var hasOwnProp=Object.prototype.hasOwnProperty,isArray;impl.FALLBACK_PHONE='UnknownPhone';impl.FALLBACK_TABLET='UnknownTablet';impl.FALLBACK_MOBILE='UnknownMobile';isArray=('isArray'in Array)?Array.isArray:function(value){return Object.prototype.toString.call(value)==='[object Array]';};function equalIC(a,b){return a!=null&&b!=null&&a.toLowerCase()===b.toLowerCase();}
function containsIC(array,value){var valueLC,i,len=array.length;if(!len||!value){return false;}
valueLC=value.toLowerCase();for(i=0;i<len;++i){if(valueLC===array[i].toLowerCase()){return true;}}
return false;}
function convertPropsToRegExp(object){for(var key in object){if(hasOwnProp.call(object,key)){object[key]=new RegExp(object[key],'i');}}}
(function init(){var key,values,value,i,len,verPos,mobileDetectRules=impl.mobileDetectRules;for(key in mobileDetectRules.props){if(hasOwnProp.call(mobileDetectRules.props,key)){values=mobileDetectRules.props[key];if(!isArray(values)){values=[values];}
len=values.length;for(i=0;i<len;++i){value=values[i];verPos=value.indexOf('[VER]');if(verPos>=0){value=value.substring(0,verPos)+'([\\w._\\+]+)'+value.substring(verPos+5);}
values[i]=new RegExp(value,'i');}
mobileDetectRules.props[key]=values;}}
convertPropsToRegExp(mobileDetectRules.oss);convertPropsToRegExp(mobileDetectRules.phones);convertPropsToRegExp(mobileDetectRules.tablets);convertPropsToRegExp(mobileDetectRules.uas);convertPropsToRegExp(mobileDetectRules.utils);mobileDetectRules.oss0={WindowsPhoneOS:mobileDetectRules.oss.WindowsPhoneOS,WindowsMobileOS:mobileDetectRules.oss.WindowsMobileOS};}());impl.findMatch=function(rules,userAgent){for(var key in rules){if(hasOwnProp.call(rules,key)){if(rules[key].test(userAgent)){return key;}}}
return null;};impl.findMatches=function(rules,userAgent){var result=[];for(var key in rules){if(hasOwnProp.call(rules,key)){if(rules[key].test(userAgent)){result.push(key);}}}
return result;};impl.getVersionStr=function(propertyName,userAgent){var props=impl.mobileDetectRules.props,patterns,i,len,match;if(hasOwnProp.call(props,propertyName)){patterns=props[propertyName];len=patterns.length;for(i=0;i<len;++i){match=patterns[i].exec(userAgent);if(match!==null){return match[1];}}}
return null;};impl.getVersion=function(propertyName,userAgent){var version=impl.getVersionStr(propertyName,userAgent);return version?impl.prepareVersionNo(version):NaN;};impl.prepareVersionNo=function(version){var numbers;numbers=version.split(/[a-z._ \/\-]/i);if(numbers.length===1){version=numbers[0];}
if(numbers.length>1){version=numbers[0]+'.';numbers.shift();version+=numbers.join('');}
return Number(version);};impl.isMobileFallback=function(userAgent){return impl.detectMobileBrowsers.fullPattern.test(userAgent)||impl.detectMobileBrowsers.shortPattern.test(userAgent.substr(0,4));};impl.isTabletFallback=function(userAgent){return impl.detectMobileBrowsers.tabletPattern.test(userAgent);};impl.prepareDetectionCache=function(cache,userAgent,maxPhoneWidth){if(cache.mobile!==undefined){return;}
var phone,tablet,phoneSized;tablet=impl.findMatch(impl.mobileDetectRules.tablets,userAgent);if(tablet){cache.mobile=cache.tablet=tablet;cache.phone=null;return;}
phone=impl.findMatch(impl.mobileDetectRules.phones,userAgent);if(phone){cache.mobile=cache.phone=phone;cache.tablet=null;return;}
if(impl.isMobileFallback(userAgent)){phoneSized=(maxPhoneWidth<0?undefined:impl.getDeviceSmallerSide()<=maxPhoneWidth);if(phoneSized===undefined){cache.mobile=impl.FALLBACK_MOBILE;cache.tablet=cache.phone=null;}else if(phoneSized){cache.mobile=cache.phone=impl.FALLBACK_PHONE;cache.tablet=null;}else{cache.mobile=cache.tablet=impl.FALLBACK_TABLET;cache.phone=null;}}else if(impl.isTabletFallback(userAgent)){cache.mobile=cache.tablet=impl.FALLBACK_TABLET;cache.phone=null;}else{cache.mobile=cache.tablet=cache.phone=null;}};impl.mobileGrade=function(t){var $isMobile=t.mobile()!==null;if(t.os('iOS')&&t.version('iPad')>=4.3||t.os('iOS')&&t.version('iPhone')>=3.1||t.os('iOS')&&t.version('iPod')>=3.1||(t.version('Android')>2.1&&t.is('Webkit'))||t.version('Windows Phone OS')>=7.0||t.is('BlackBerry')&&t.version('BlackBerry')>=6.0||t.match('Playbook.*Tablet')||(t.version('webOS')>=1.4&&t.match('Palm|Pre|Pixi'))||t.match('hp.*TouchPad')||(t.is('Firefox')&&t.version('Firefox')>=12)||(t.is('Chrome')&&t.is('AndroidOS')&&t.version('Android')>=4.0)||(t.is('Skyfire')&&t.version('Skyfire')>=4.1&&t.is('AndroidOS')&&t.version('Android')>=2.3)||(t.is('Opera')&&t.version('Opera Mobi')>11&&t.is('AndroidOS'))||t.is('MeeGoOS')||t.is('Tizen')||t.is('Dolfin')&&t.version('Bada')>=2.0||((t.is('UC Browser')||t.is('Dolfin'))&&t.version('Android')>=2.3)||(t.match('Kindle Fire')||t.is('Kindle')&&t.version('Kindle')>=3.0)||t.is('AndroidOS')&&t.is('NookTablet')||t.version('Chrome')>=11&&!$isMobile||t.version('Safari')>=5.0&&!$isMobile||t.version('Firefox')>=4.0&&!$isMobile||t.version('MSIE')>=7.0&&!$isMobile||t.version('Opera')>=10&&!$isMobile){return'A';}
if(t.os('iOS')&&t.version('iPad')<4.3||t.os('iOS')&&t.version('iPhone')<3.1||t.os('iOS')&&t.version('iPod')<3.1||t.is('Blackberry')&&t.version('BlackBerry')>=5&&t.version('BlackBerry')<6||(t.version('Opera Mini')>=5.0&&t.version('Opera Mini')<=6.5&&(t.version('Android')>=2.3||t.is('iOS')))||t.match('NokiaN8|NokiaC7|N97.*Series60|Symbian/3')||t.version('Opera Mobi')>=11&&t.is('SymbianOS')){return'B';}
if(t.version('BlackBerry')<5.0||t.match('MSIEMobile|Windows CE.*Mobile')||t.version('Windows Mobile')<=5.2){return'C';}
return'C';};impl.detectOS=function(ua){return impl.findMatch(impl.mobileDetectRules.oss0,ua)||impl.findMatch(impl.mobileDetectRules.oss,ua);};impl.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height;};function MobileDetect(userAgent,maxPhoneWidth){this.ua=userAgent||'';this._cache={};this.maxPhoneWidth=maxPhoneWidth||600;}
MobileDetect.prototype={constructor:MobileDetect,mobile:function(){impl.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.mobile;},phone:function(){impl.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.phone;},tablet:function(){impl.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.tablet;},userAgent:function(){if(this._cache.userAgent===undefined){this._cache.userAgent=impl.findMatch(impl.mobileDetectRules.uas,this.ua);}
return this._cache.userAgent;},userAgents:function(){if(this._cache.userAgents===undefined){this._cache.userAgents=impl.findMatches(impl.mobileDetectRules.uas,this.ua);}
return this._cache.userAgents;},os:function(){if(this._cache.os===undefined){this._cache.os=impl.detectOS(this.ua);}
return this._cache.os;},version:function(key){return impl.getVersion(key,this.ua);},versionStr:function(key){return impl.getVersionStr(key,this.ua);},is:function(key){return containsIC(this.userAgents(),key)||equalIC(key,this.os())||equalIC(key,this.phone())||equalIC(key,this.tablet())||containsIC(impl.findMatches(impl.mobileDetectRules.utils,this.ua),key);},match:function(pattern){if(!(pattern instanceof RegExp)){pattern=new RegExp(pattern,'i');}
return pattern.test(this.ua);},isPhoneSized:function(maxPhoneWidth){return maxPhoneWidth<0?undefined:impl.getDeviceSmallerSide()<=maxPhoneWidth;},mobileGrade:function(){if(this._cache.grade===undefined){this._cache.grade=impl.mobileGrade(this);}
return this._cache.grade;}};if(typeof window!=='undefined'&&window.screen){MobileDetect.prototype.isPhoneSized=function(maxPhoneWidth){return maxPhoneWidth<0?undefined:impl.getDeviceSmallerSide()<=maxPhoneWidth;};}else{MobileDetect.prototype.isPhoneSized=function(){};}
Object.defineProperty(MobileDetect.prototype,'_impl',{get:function(){return impl;}});MobileDetect.prototype.version='1.3.7 2017-09-06';return new MobileDetect(navigator.userAgent,640);});
/*! $61 modernizr */
/*!
 * modernizr v3.5.0
 * Copyright (c)
 *  Faruk Ates
 *  Paul Irish
 *  Alex Sexton
 *  Ryan Seddon
 *  Patrick Kettner
 *  Stu Cox
 *  Richard Herrera

 * MIT License
 */
define('modernizr',function(require,exports,module){var Modernizr=(function(window,document,undefined){var classes=[];var tests=[];var ModernizrProto={_version:'3.5.0',_config:{'classPrefix':'','enableClasses':true,'enableJSClass':true,'usePrefixes':true},_q:[],on:function(test,cb){var self=this;setTimeout(function(){cb(self[test]);},0);},addTest:function(name,fn,options){tests.push({name:name,fn:fn,options:options});},addAsyncTest:function(fn){tests.push({name:null,fn:fn});}};var Modernizr=function(){};Modernizr.prototype=ModernizrProto;Modernizr=new Modernizr();
/*!
{
  "name": "Application Cache",
  "property": "applicationcache",
  "caniuse": "offline-apps",
  "tags": ["storage", "offline"],
  "notes": [{
    "name": "MDN documentation",
    "href": "https://developer.mozilla.org/en/docs/HTML/Using_the_application_cache"
  }],
  "polyfills": ["html5gears"]
}
!*/
Modernizr.addTest('applicationcache','applicationCache'in window);
/*!
{
  "name": "ES5 Array",
  "property": "es5array",
  "notes": [{
    "name": "ECMAScript 5.1 Language Specification",
    "href": "http://www.ecma-international.org/ecma-262/5.1/"
  }],
  "polyfills": ["es5shim"],
  "authors": ["Ron Waldon (@jokeyrhyme)"],
  "tags": ["es5"]
}
!*/
Modernizr.addTest('es5array',function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray);});
/*!
{
  "name": "ES6 Generators",
  "property": "generators",
  "authors": ["Michael Kachanovskyi"],
  "tags": ["es6"]
}
!*/
Modernizr.addTest('generators',function(){try{new Function('function* test() {}')();}catch(e){return false;}
return true;});
/*!
{
  "name": "ES6 Number",
  "property": "es6number",
  "notes": [{
    "name": "unofficial ECMAScript 6 draft specification",
    "href": "https://people.mozilla.org/~jorendorff/es6-draft.html"
  }],
  "polyfills": ["es6shim"],
  "authors": ["Ron Waldon (@jokeyrhyme)"],
  "warnings": ["ECMAScript 6 is still a only a draft, so this detect may not match the final specification or implementations."],
  "tags": ["es6"]
}
!*/
Modernizr.addTest('es6number',!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON)));
/*!
{
  "name": "ES6 Promises",
  "property": "promises",
  "caniuse": "promises",
  "polyfills": ["es6promises"],
  "authors": ["Krister Kari", "Jake Archibald"],
  "tags": ["es6"],
  "notes": [{
    "name": "The ES6 promises spec",
    "href": "https://github.com/domenic/promises-unwrapping"
  },{
    "name": "Chromium dashboard - ES6 Promises",
    "href": "https://www.chromestatus.com/features/5681726336532480"
  },{
    "name": "JavaScript Promises: There and back again - HTML5 Rocks",
    "href": "http://www.html5rocks.com/en/tutorials/es6/promises/"
  }]
}
!*/
Modernizr.addTest('promises',function(){return'Promise'in window&&'resolve'in window.Promise&&'reject'in window.Promise&&'all'in window.Promise&&'race'in window.Promise&&(function(){var resolve;new window.Promise(function(r){resolve=r;});return typeof resolve==='function';}());});
/*!
{
  "name": "File API",
  "property": "filereader",
  "caniuse": "fileapi",
  "notes": [{
    "name": "W3C Working Draft",
    "href": "https://www.w3.org/TR/FileAPI/"
  }],
  "tags": ["file"],
  "builderAliases": ["file_api"],
  "knownBugs": ["Will fail in Safari 5 due to its lack of support for the standards defined FileReader object"]
}
!*/
Modernizr.addTest('filereader',!!(window.File&&window.FileList&&window.FileReader));
/*!
{
  "name": "XML HTTP Request Level 2 XHR2",
  "property": "xhr2",
  "tags": ["network"],
  "builderAliases": ["network_xhr2"],
  "notes": [{
    "name": "W3 Spec",
    "href": "https://www.w3.org/TR/XMLHttpRequest2/"
  },{
    "name": "Details on Related Github Issue",
    "href": "https://github.com/Modernizr/Modernizr/issues/385"
  }]
}
!*/
Modernizr.addTest('xhr2','XMLHttpRequest'in window&&'withCredentials'in new XMLHttpRequest());
/*!
{
  "name": "Local Storage",
  "property": "localstorage",
  "caniuse": "namevalue-storage",
  "tags": ["storage"],
  "knownBugs": [],
  "notes": [],
  "warnings": [],
  "polyfills": [
    "joshuabell-polyfill",
    "cupcake",
    "storagepolyfill",
    "amplifyjs",
    "yui-cacheoffline"
  ]
}
!*/
Modernizr.addTest('localstorage',function(){var mod='modernizr';try{localStorage.setItem(mod,mod);localStorage.removeItem(mod);return true;}catch(e){return false;}});
/*!
{
  "name": "Session Storage",
  "property": "sessionstorage",
  "tags": ["storage"],
  "polyfills": ["joshuabell-polyfill", "cupcake", "sessionstorage"]
}
!*/
Modernizr.addTest('sessionstorage',function(){var mod='modernizr';try{sessionStorage.setItem(mod,mod);sessionStorage.removeItem(mod);return true;}catch(e){return false;}});
/*!
{
  "name": "Framed window",
  "property": "framed",
  "tags": ["window"],
  "builderAliases": ["window_framed"]
}
!*/
Modernizr.addTest('framed',window.location!=top.location);
/*!
{
  "name": "Shared Workers",
  "property": "sharedworkers",
  "caniuse" : "sharedworkers",
  "tags": ["performance", "workers"],
  "builderAliases": ["workers_sharedworkers"],
  "notes": [{
    "name": "W3C Reference",
    "href": "https://www.w3.org/TR/workers/"
  }]
}
!*/
Modernizr.addTest('sharedworkers','SharedWorker'in window);
/*!
{
  "name": "Web Workers",
  "property": "webworkers",
  "caniuse" : "webworkers",
  "tags": ["performance", "workers"],
  "notes": [{
    "name": "W3C Reference",
    "href": "https://www.w3.org/TR/workers/"
  }, {
    "name": "HTML5 Rocks article",
    "href": "http://www.html5rocks.com/en/tutorials/workers/basics/"
  }, {
    "name": "MDN documentation",
    "href": "https://developer.mozilla.org/en-US/docs/Web/Guide/Performance/Using_web_workers"
  }],
  "polyfills": ["fakeworker", "html5shims"]
}
!*/
Modernizr.addTest('webworkers','Worker'in window);function is(obj,type){return typeof obj===type;};function testRunner(){var featureNames;var feature;var aliasIdx;var result;var nameIdx;var featureName;var featureNameSplit;for(var featureIdx in tests){if(tests.hasOwnProperty(featureIdx)){featureNames=[];feature=tests[featureIdx];if(feature.name){featureNames.push(feature.name.toLowerCase());if(feature.options&&feature.options.aliases&&feature.options.aliases.length){for(aliasIdx=0;aliasIdx<feature.options.aliases.length;aliasIdx++){featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());}}}
result=is(feature.fn,'function')?feature.fn():feature.fn;for(nameIdx=0;nameIdx<featureNames.length;nameIdx++){featureName=featureNames[nameIdx];featureNameSplit=featureName.split('.');if(featureNameSplit.length===1){Modernizr[featureNameSplit[0]]=result;}else{if(Modernizr[featureNameSplit[0]]&&!(Modernizr[featureNameSplit[0]]instanceof Boolean)){Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]]);}
Modernizr[featureNameSplit[0]][featureNameSplit[1]]=result;}
classes.push((result?'':'no-')+featureNameSplit.join('-'));}}}};var docElement=document.documentElement;var isSVG=docElement.nodeName.toLowerCase()==='svg';function setClasses(classes){var className=docElement.className;var classPrefix=Modernizr._config.classPrefix||'';if(isSVG){className=className.baseVal;}
if(Modernizr._config.enableJSClass){var reJS=new RegExp('(^|\\s)'+classPrefix+'no-js(\\s|$)');className=className.replace(reJS,'$1'+classPrefix+'js$2');}
if(Modernizr._config.enableClasses){className+=' '+classPrefix+classes.join(' '+classPrefix);if(isSVG){docElement.className.baseVal=className;}else{docElement.className=className;}}};var prefixes=(ModernizrProto._config.usePrefixes?' -webkit- -moz- -o- -ms- '.split(' '):['','']);ModernizrProto._prefixes=prefixes;function createElement(){if(typeof document.createElement!=='function'){return document.createElement(arguments[0]);}else if(isSVG){return document.createElementNS.call(document,'http://www.w3.org/2000/svg',arguments[0]);}else{return document.createElement.apply(document,arguments);}};
/*!
{
  "name": "a[download] Attribute",
  "property": "adownload",
  "caniuse" : "download",
  "tags": ["media", "attribute"],
  "builderAliases": ["a_download"],
  "notes": [{
    "name": "WhatWG Reference",
    "href": "https://developers.whatwg.org/links.html#downloading-resources"
  }]
}
!*/
Modernizr.addTest('adownload',!window.externalHost&&'download'in createElement('a'));
/*!
{
  "name": "Unknown Elements",
  "property": "unknownelements",
  "tags": ["elem"],
  "notes": [{
    "name": "The Story of the HTML5 Shiv",
    "href": "https://www.paulirish.com/2011/the-history-of-the-html5-shiv/"
  }, {
    "name": "original implementation of detect code",
    "href": "https://github.com/aFarkas/html5shiv/blob/bf4fcc4/src/html5shiv.js#L36"
  }],
  "polyfills": ["html5shiv"],
  "authors": ["Ron Waldon (@jokeyrhyme)"]
}
!*/
Modernizr.addTest('unknownelements',function(){var a=createElement('a');a.innerHTML='<xyz></xyz>';return a.childNodes.length===1;});var hasEvent=(function(){var needsFallback=!('onblur'in document.documentElement);function inner(eventName,element){var isSupported;if(!eventName){return false;}
if(!element||typeof element==='string'){element=createElement(element||'div');}
eventName='on'+eventName;isSupported=eventName in element;if(!isSupported&&needsFallback){if(!element.setAttribute){element=createElement('div');}
element.setAttribute(eventName,'');isSupported=typeof element[eventName]==='function';if(element[eventName]!==undefined){element[eventName]=undefined;}
element.removeAttribute(eventName);}
return isSupported;}
return inner;})();ModernizrProto.hasEvent=hasEvent;function getBody(){var body=document.body;if(!body){body=createElement(isSVG?'svg':'body');body.fake=true;}
return body;};function injectElementWithStyles(rule,callback,nodes,testnames){var mod='modernizr';var style;var ret;var node;var docOverflow;var div=createElement('div');var body=getBody();if(parseInt(nodes,10)){while(nodes--){node=createElement('div');node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node);}}
style=createElement('style');style.type='text/css';style.id='s'+mod;(!body.fake?div:body).appendChild(style);body.appendChild(div);if(style.styleSheet){style.styleSheet.cssText=rule;}else{style.appendChild(document.createTextNode(rule));}
div.id=mod;if(body.fake){body.style.background='';body.style.overflow='hidden';docOverflow=docElement.style.overflow;docElement.style.overflow='hidden';docElement.appendChild(body);}
ret=callback(div,rule);if(body.fake){body.parentNode.removeChild(body);docElement.style.overflow=docOverflow;docElement.offsetHeight;}else{div.parentNode.removeChild(div);}
return!!ret;};var mq=(function(){var matchMedia=window.matchMedia||window.msMatchMedia;if(matchMedia){return function(mq){var mql=matchMedia(mq);return mql&&mql.matches||false;};}
return function(mq){var bool=false;injectElementWithStyles('@media '+mq+' { #modernizr { position: absolute; } }',function(node){bool=(window.getComputedStyle?window.getComputedStyle(node,null):node.currentStyle).position=='absolute';});return bool;};})();ModernizrProto.mq=mq;var testStyles=ModernizrProto.testStyles=injectElementWithStyles;
/*!
{
  "name": "Touch Events",
  "property": "touchevents",
  "caniuse" : "touch",
  "tags": ["media", "attribute"],
  "notes": [{
    "name": "Touch Events spec",
    "href": "https://www.w3.org/TR/2013/WD-touch-events-20130124/"
  }],
  "warnings": [
    "Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device"
  ],
  "knownBugs": [
    "False-positive on some configurations of Nokia N900",
    "False-positive on some BlackBerry 6.0 builds – https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695"
  ]
}
!*/
Modernizr.addTest('touchevents',function(){var bool;if(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch){bool=true;}else{var query=['@media (',prefixes.join('touch-enabled),('),'heartz',')','{#modernizr{top:9px;position:absolute}}'].join('');testStyles(query,function(node){bool=node.offsetTop===9;});}
return bool;});var omPrefixes='Moz O ms Webkit';var domPrefixes=(ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(' '):[]);ModernizrProto._domPrefixes=domPrefixes;
/*!
{
  "name": "DOM Pointer Events API",
  "property": "pointerevents",
  "tags": ["input"],
  "authors": ["Stu Cox"],
  "notes": [
    {
      "name": "W3C spec",
      "href": "https://www.w3.org/TR/pointerevents/"
    }
  ],
  "warnings": ["This property name now refers to W3C DOM PointerEvents: https://github.com/Modernizr/Modernizr/issues/548#issuecomment-12812099"],
  "polyfills": ["handjs","pep"]
}
!*/
Modernizr.addTest('pointerevents',function(){var bool=false,i=domPrefixes.length;bool=Modernizr.hasEvent('pointerdown');while(i--&&!bool){if(hasEvent(domPrefixes[i]+'pointerdown')){bool=true;}}
return bool;});function cssToDOM(name){return name.replace(/([a-z])-([a-z])/g,function(str,m1,m2){return m1+m2.toUpperCase();}).replace(/^-/,'');};var hasOwnProp;(function(){var _hasOwnProperty=({}).hasOwnProperty;if(!is(_hasOwnProperty,'undefined')&&!is(_hasOwnProperty.call,'undefined')){hasOwnProp=function(object,property){return _hasOwnProperty.call(object,property);};}
else{hasOwnProp=function(object,property){return((property in object)&&is(object.constructor.prototype[property],'undefined'));};}})();ModernizrProto._l={};ModernizrProto.on=function(feature,cb){if(!this._l[feature]){this._l[feature]=[];}
this._l[feature].push(cb);if(Modernizr.hasOwnProperty(feature)){setTimeout(function(){Modernizr._trigger(feature,Modernizr[feature]);},0);}};ModernizrProto._trigger=function(feature,res){if(!this._l[feature]){return;}
var cbs=this._l[feature];setTimeout(function(){var i,cb;for(i=0;i<cbs.length;i++){cb=cbs[i];cb(res);}},0);delete this._l[feature];};function addTest(feature,test){if(typeof feature=='object'){for(var key in feature){if(hasOwnProp(feature,key)){addTest(key,feature[key]);}}}else{feature=feature.toLowerCase();var featureNameSplit=feature.split('.');var last=Modernizr[featureNameSplit[0]];if(featureNameSplit.length==2){last=last[featureNameSplit[1]];}
if(typeof last!='undefined'){return Modernizr;}
test=typeof test=='function'?test():test;if(featureNameSplit.length==1){Modernizr[featureNameSplit[0]]=test;}else{if(Modernizr[featureNameSplit[0]]&&!(Modernizr[featureNameSplit[0]]instanceof Boolean)){Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]]);}
Modernizr[featureNameSplit[0]][featureNameSplit[1]]=test;}
setClasses([(!!test&&test!=false?'':'no-')+featureNameSplit.join('-')]);Modernizr._trigger(feature,test);}
return Modernizr;}
Modernizr._q.push(function(){ModernizrProto.addTest=addTest;});
/*!
{
  "name": "Workers from Blob URIs",
  "property": "blobworkers",
  "tags": ["performance", "workers"],
  "builderAliases": ["workers_blobworkers"],
  "notes": [{
    "name": "W3C Reference",
    "href": "https://www.w3.org/TR/workers/"
  }],
  "knownBugs": ["This test may output garbage to console."],
  "authors": ["Jussi Kalliokoski"],
  "async": true
}
!*/
Modernizr.addAsyncTest(function(){try{var BlobBuilder=window.BlobBuilder;var URL=window.URL;if(Modernizr._config.usePrefix){BlobBuilder=BlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.OBlobBuilder;URL=URL||window.MozURL||window.webkitURL||window.MSURL||window.OURL;}
var data='Modernizr',blob,bb,worker,url,timeout,scriptText='this.onmessage=function(e){postMessage(e.data)}';try{blob=new Blob([scriptText],{type:'text/javascript'});}catch(e){}
if(!blob){bb=new BlobBuilder();bb.append(scriptText);blob=bb.getBlob();}
url=URL.createObjectURL(blob);worker=new Worker(url);worker.onmessage=function(e){addTest('blobworkers',data===e.data);cleanup();};worker.onerror=fail;timeout=setTimeout(fail,200);worker.postMessage(data);}catch(e){fail();}
function fail(){addTest('blobworkers',false);cleanup();}
function cleanup(){if(url){URL.revokeObjectURL(url);}
if(worker){worker.terminate();}
if(timeout){clearTimeout(timeout);}}});var cssomPrefixes=(ModernizrProto._config.usePrefixes?omPrefixes.split(' '):[]);ModernizrProto._cssomPrefixes=cssomPrefixes;var atRule=function(prop){var length=prefixes.length;var cssrule=window.CSSRule;var rule;if(typeof cssrule==='undefined'){return undefined;}
if(!prop){return false;}
prop=prop.replace(/^@/,'');rule=prop.replace(/-/g,'_').toUpperCase()+'_RULE';if(rule in cssrule){return'@'+prop;}
for(var i=0;i<length;i++){var prefix=prefixes[i];var thisRule=prefix.toUpperCase()+'_'+rule;if(thisRule in cssrule){return'@-'+prefix.toLowerCase()+'-'+prop;}}
return false;};ModernizrProto.atRule=atRule;function contains(str,substr){return!!~(''+str).indexOf(substr);};function fnBind(fn,that){return function(){return fn.apply(that,arguments);};};function testDOMProps(props,obj,elem){var item;for(var i in props){if(props[i]in obj){if(elem===false){return props[i];}
item=obj[props[i]];if(is(item,'function')){return fnBind(item,elem||obj);}
return item;}}
return false;};var modElem={elem:createElement('modernizr')};Modernizr._q.push(function(){delete modElem.elem;});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style;});function domToCSS(name){return name.replace(/([A-Z])/g,function(str,m1){return'-'+m1.toLowerCase();}).replace(/^ms-/,'-ms-');};function computedStyle(elem,pseudo,prop){var result;if('getComputedStyle'in window){result=getComputedStyle.call(window,elem,pseudo);var console=window.console;if(result!==null){if(prop){result=result.getPropertyValue(prop);}}else{if(console){var method=console.error?'error':'log';console[method].call(console,'getComputedStyle returning null, its possible modernizr test results are inaccurate');}}}else{result=!pseudo&&elem.currentStyle&&elem.currentStyle[prop];}
return result;};function nativeTestProps(props,value){var i=props.length;if('CSS'in window&&'supports'in window.CSS){while(i--){if(window.CSS.supports(domToCSS(props[i]),value)){return true;}}
return false;}
else if('CSSSupportsRule'in window){var conditionText=[];while(i--){conditionText.push('('+domToCSS(props[i])+':'+value+')');}
conditionText=conditionText.join(' or ');return injectElementWithStyles('@supports ('+conditionText+') { #modernizr { position: absolute; } }',function(node){return computedStyle(node,null,'position')=='absolute';});}
return undefined;};function testProps(props,prefixed,value,skipValueTest){skipValueTest=is(skipValueTest,'undefined')?false:skipValueTest;if(!is(value,'undefined')){var result=nativeTestProps(props,value);if(!is(result,'undefined')){return result;}}
var afterInit,i,propsLength,prop,before;var elems=['modernizr','tspan','samp'];while(!mStyle.style&&elems.length){afterInit=true;mStyle.modElem=createElement(elems.shift());mStyle.style=mStyle.modElem.style;}
function cleanElems(){if(afterInit){delete mStyle.style;delete mStyle.modElem;}}
propsLength=props.length;for(i=0;i<propsLength;i++){prop=props[i];before=mStyle.style[prop];if(contains(prop,'-')){prop=cssToDOM(prop);}
if(mStyle.style[prop]!==undefined){if(!skipValueTest&&!is(value,'undefined')){try{mStyle.style[prop]=value;}catch(e){}
if(mStyle.style[prop]!=before){cleanElems();return prefixed=='pfx'?prop:true;}}
else{cleanElems();return prefixed=='pfx'?prop:true;}}}
cleanElems();return false;};function testPropsAll(prop,prefixed,elem,value,skipValueTest){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+' '+cssomPrefixes.join(ucProp+' ')+ucProp).split(' ');if(is(prefixed,'string')||is(prefixed,'undefined')){return testProps(props,prefixed,value,skipValueTest);}else{props=(prop+' '+(domPrefixes).join(ucProp+' ')+ucProp).split(' ');return testDOMProps(props,prefixed,elem);}}
ModernizrProto.testAllProps=testPropsAll;var prefixed=ModernizrProto.prefixed=function(prop,obj,elem){if(prop.indexOf('@')===0){return atRule(prop);}
if(prop.indexOf('-')!=-1){prop=cssToDOM(prop);}
if(!obj){return testPropsAll(prop,'pfx');}else{return testPropsAll(prop,obj,elem);}};
/*!
{
  "name": "Web Intents",
  "property": "webintents",
  "authors": ["Eric Bidelman"],
  "notes": [{
    "name": "Web Intents project site",
    "href": "http://webintents.org/"
  }],
  "polyfills": ["webintents"],
  "builderAliases": ["web_intents"]
}
!*/
Modernizr.addTest('webintents',!!prefixed('startActivity',navigator));
/*!
{
  "name": "Filesystem API",
  "property": "filesystem",
  "caniuse": "filesystem",
  "notes": [{
    "name": "W3 Draft",
    "href": "http://dev.w3.org/2009/dap/file-system/file-dir-sys.html"
  }],
  "authors": ["Eric Bidelman (@ebidel)"],
  "tags": ["file"],
  "builderAliases": ["file_filesystem"],
  "knownBugs": ["The API will be present in Chrome incognito, but will throw an exception. See crbug.com/93417"]
}
!*/
Modernizr.addTest('filesystem',!!prefixed('requestFileSystem',window));testRunner();setClasses(classes);delete ModernizrProto.addTest;delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++){Modernizr._q[i]();}
window.Modernizr=Modernizr;return Modernizr;})(global,document);exports.Modernizr=Modernizr;return Modernizr;});
/*! $62 frdl */
/*! webfan (C) Till Wehowski, Webfan.de - All rights reserved. */
/*! @ frdl.Frdlweb.js.Compiler.es6 : no */
/*! @ frdl.Frdlweb.js.Compiler.defaultPlugin : frdlcjs */
define('frdl',['process','feature!es6Symbol','feature!Proxy','webfan/overload','EventEmitter','fs','feature!browser','feature!worker','webfan/ready-check','feature!uiDependencies','feature!uiReadyToLoadDependencies','webfan/frdl-jQuery','idle','extend','clone','base64_encode','base64_decode','base64_detect','str_replace','webfan/navigator/dom-observer-new','explode'],function(process,es6Symbol,ProxyPolyfillDummy,overload,EventEmitter,fs,browser,worker,makeReadyCheck,uiDependencies,uiReadyToLoadDependencies,jQuery,jQueryIdle,extend,clone,base64_encode,base64_decode,base64_detect,str_replace,watchFor,explode){try{frdl=clone(overload).defaultProxy;}catch(e){var frdl=clone(overload).defaultProxy;}
Object.defineProperty(global,'frdl',{get:function(){return frdl;}});(function(){var k;for(k in global.require.s.contexts._){(function(ky){var k2=ky;Object.defineProperty(frdl,k2,{get:function(){return global.require.s.contexts._[k2];}});}(k));}}());if('undefined'===typeof browser)browser=false;if('undefined'===typeof worker)worker=false;frdl.browser=browser;frdl.worker=worker;frdl.debug={mode:function(m){if('undefined'!==typeof m){process.env.DEBUG=m;}
return process.env.DEBUG;}};frdl.EventEmitter=EventEmitter;frdl.MagicHelper={};frdl.MagicHelper.emitter=new frdl.EventEmitter;Object.defineProperty(frdl,'state',{get:function(){return require.state;}});Object.defineProperty(frdl,'fs',{get:function(){return fs;}});Object.defineProperty(frdl,'fs5',{get:function(){return fs;}});frdl.fs.polyfill.check(true);Object.defineProperty(frdl,'ready',{get:function(){return process.ready;}});Object.defineProperty(frdl,'addReadyCheck',{get:function(){return process.addReadyCheck;}});Object.defineProperty(frdl,'process',{get:function(){return process;}});frdl.addReadyCheck(function(){return'undefined'!==typeof angular&&'undefined'!==typeof frdl.a&&frdl.a===angular&&'undefined'!==typeof frdl.a.defined&&'function'===typeof frdl.a.defined&&'undefined'!==typeof frdl.alert&&'undefined'!==typeof frdl.alert.error&&'function'===typeof frdl.alert.error&&'undefined'!==typeof frdl.watchFor&&'function'===typeof frdl.watchFor&&frdl.a.defined('webfan.gui');});frdl.addReadyCheck(function(){return'undefined'!==typeof frdl.ready.uiReadyToLoadDependencies&&frdl.ready.uiReadyToLoadDependencies.stateReady();});(function(){var uiDependenciesLoaded=false,UI=false,Alert=false,Hash=false,inX=false;frdl.ready.dependencies=require.state.required(uiDependencies,function(rD){uiDependenciesLoaded=true;inX=frdl.inX;Hash=frdl.Hash;Alert=frdl.alert;UI=frdl.UI;frdl.angularBootstrapLoad();},frdl.ready);frdl.ready.uiReadyToLoadDependencies=require.state.required(uiReadyToLoadDependencies,function(rD){inX=frdl.inX;Hash=frdl.Hash;Alert=frdl.alert;UI=frdl.UI;},frdl.ready);}());var mapLoader=function(){requirejs.config({map:{'webfan/bootcache':{'*':'frdlcjs'}}});};(function(d){frdl.ready(function(){function f(js){var s=d.createElement('script');s.innerHTML=js;s.type='text/javascript';d.head.append(s);}
frdl.watchFor('script[type*="typescript"]').every(function(el){console.log(el);if(el.src){require(['plain!'+el.src,'webfan/bootcache!webfan/ts-compile'],function(ts,compile){compile(ts,f);});}
if(''!==el.innerHTML){require(['webfan/bootcache!webfan/ts-compile'],function(compile){compile(el.innerHTML,f);});}});});}(document));var loadTinymce=function(){require(['loadPlain!tinymce/tinymce.js'],function(tinymceJS){var script=document.createElement('script');script.innerHTML=tinymceJS.content;document.querySelector('head').append(script);});};require(['webfan/bootcache!webfan/lang-legacy'],function(langLegacy){var k;for(k in langLegacy){(function(ky){var k2=ky;Object.defineProperty(frdl,k2,{get:function(){return langLegacy[k2];}});}(k));}
if(!!frdl.browser){langLegacy.startLangLegacy();}});var success=true,__loaded=true,to=false;var loadFileSystemShims=function(){console.log('loadFileSystemShims is deprecated!');};var URL=global.URL||global.webkitURL;var requestFileSystem=global.requestFileSystem||global.webkitRequestFileSystem;var resolveLocalFileSystemURL=global.resolveLocalFileSystemURL||global.webkitResolveLocalFileSystemURL;navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage;navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage;var BlobBuilder=global.BlobBuilder||global.MozBlobBuilder||global.WebKitBlobBuilder;frdl.clone=clone;frdl.extend=extend;frdl.str_replace=str_replace;frdl.html_entity_decode=html_entity_decode;frdl.get_html_translation_table=get_html_translation_table;frdl.htmlentities=htmlentities;frdl.mt_rand=mt_rand;frdl.base64_encode=base64_encode;frdl.base64_decode=base64_decode;frdl.base64_detect=base64_detect;frdl.urlencode=urlencode;frdl.urldecode=urldecode;frdl.explode=explode;frdl.strip_tags=strip_tags;frdl.strpos=strpos;frdl.dashToCamel=dashToCamel;frdl.camelToDash=camelToDash;frdl.hexdec=hexdec;frdl.dechex=dechex;frdl.stripslashes=stripslashes;frdl.watchFor=watchFor;frdl.WebfanCreateCookie=WebfanCreateCookie;frdl.WebfanCreateCookieSeconds=WebfanCreateCookieSeconds;frdl.WebfanReadCookie=WebfanReadCookie;frdl.WebfanEraseCookie=WebfanEraseCookie;frdl.formatBytes=function(bytes,decimals){if(bytes==0)return'0 Byte';var k=1024;var dm=decimals+1||3;var sizes=['Bytes','KB','MB','GB','TB','PB','EB','ZB','YB'];var i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+' '+sizes[i];};frdl.overload=function(o,fn){var no=require('webfan/bootcache!webfan/overload').make(o);if('function'===typeof fn){fn=[fn,fn];}
if('undefined'!==typeof fn&&'undefined'!==typeof fn[0]){no.__call=fn[0];}
if('undefined'!==typeof fn&&'undefined'!==typeof fn[1]){no.__get=fn[1];}};function getFrame(){return requestAnimationFrame||window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return setTimeout(callback,0);};};function cancelFrame(){var f=cancelAnimationFrame||window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout;return function(frame){try{return f(frame);}catch(e){if(!!console)console.log(e);}};};frdl.browser.getFrame=getFrame;frdl.browser.cancelFrame=cancelFrame;if(false!==frdl.browser&&'undefined'===typeof global.tinymce){if('undefined'===typeof global.tinymce&&null===document.querySelector('script[src*="tinymce"]')){}}
frdl.isTraversable=function(thing){return(('object'===typeof thing||'array'===typeof thing)&&null!==thing)?true:false;};frdl.array_unique=function(array){return("undefined"===typeof jQuery)?array.filter(function(el,i,array){return i===arr.indexOf(el);}):$.grep(array,function(el,i){return i===$.inArray(el,array);});};frdl.filterArray=function(arr,filter){var o=[];for(var index=0;index<arr.length;index++){if(filter(arr[index],index)===true){o.push(arr[index]);}}
return o;};frdl.shuffleArray=function(a){var j,x,i;for(i=a.length;i;i--){j=Math.floor(Math.random()*i);x=a[i-1];a[i-1]=a[j];a[j]=x;}};frdl.filterObject=function(arr,filter){var o={};for(var k in arr){if(filter(arr[k],k)===true){o[k]=arr[k];}}
return o;};frdl.filter=function(arr,filter,recursive){if(true===recursive&&true===frdl.isTraversable(arr)){arr=frdl.each(arr,function(i,v){arr[i]=frdl.filter(v,filter,recursive);});return arr;}
if('array'===typeof arr){return frdl.filterArray(arr,filter);}else if('object'===typeof arr){return frdl.filterObject(arr,filter);}else{return(true===filter(arr))?arr:undefined;}};frdl.each=function(object,callback,args){var name,i=0,length=('undefined'!==typeof object&&'undefined'!==typeof object.length)?object.length:undefined,traversable=false;if(true!==frdl.isTraversable(object)){traversable=false;}else{traversable=true;}
if(args){if(false===traversable){callback.apply(object,args);return object;}
if(length===undefined){for(name in object)
if(callback.apply(object[name],args)===false)
break;}else
for(;i<length;)
if(callback.apply(object[i++],args)===false)
break;}else{if(false===traversable){callback.call(object,0,object);return object;}
if(length===undefined){for(name in object)
if(callback.call(object[name],name,object[name])===false)
break;}else
var value;for(value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}
return object;};frdl.angularBootstrapable=function(a,old){if('undefined'===typeof a){var a=require.state.$booting||!!(process.ready+0)||('undefined'!==typeof frdl.ready&&'undefined'!==typeof frdl.ready.uiReadyToLoadDependencies&&frdl.ready.uiReadyToLoadDependencies.stateReady())||!!(frdl.ready+0);}
if('undefined'===typeof old){var old=(!!a&&require.state.$booting)||(!!a&&'undefined'!==typeof frdl.ready&&'undefined'!==typeof frdl.ready.uiReadyToLoadDependencies&&frdl.ready.uiReadyToLoadDependencies.stateReady())||(!!a&&!!(frdl.angularBootstrapable.ready+0));}
return true===(document.readyState==='complete')&&((null!==frdl.$q('body',false)&&'object'===typeof frdl.$q('body',false)&&null!==frdl.$q('html',false)&&'object'===typeof frdl.$q('html',false)&&'undefined'!==typeof frdl.a&&'undefined'!==typeof frdl.a.defined&&'undefined'!==typeof frdl.UI&&'undefined'!==typeof frdl.UI.o&&'undefined'!==typeof frdl.alert&&'undefined'!==typeof frdl.alert.error&&'function'===typeof frdl.alert.error&&'undefined'!==typeof frdl.watchFor&&'function'===typeof frdl.watchFor)&&(('undefined'!==typeof require.state.$booting&&true===require.state.$booting&&'undefined'!==typeof require.state.$watching&&true===!require.state.$watching)||('undefined'!==typeof frdl.Bootstrap.switchOn&&true===frdl.Bootstrap.switchOn(true,true))));};makeReadyCheck(frdl.angularBootstrapable,"ready",'addReadyCheck',true);(function(){'use strict';var __TOK_DEFER__='NG_DEFER_BOOTSTRAP!';var is_on=false;var $booting=function $booting(){is_on=(window.name!==frdl.str_replace(__TOK_DEFER__,'',window.name))?false:true;return is_on;};var $watching=function $watching(){return!(process.ready+0)||!(frdl.ready+0)||!require.state.$booting;};frdl.Bootstrap={switchOn:function(a,old){if(a!==is_on){this.since=frdl.time();if(!!this.timerName)clearTimeout(this.timerName);this.timerName=setTimeout(this.check,4);}
if(true===a){is_on=true;}else if(false===a){is_on=false;}
if(true===old){if(true===a){window.name=frdl.str_replace(__TOK_DEFER__,'',window.name);this.since=frdl.time();}else if(false===a){window.name=__TOK_DEFER__+frdl.str_replace(__TOK_DEFER__,'',window.name);}
return $booting();}
return $booting();},since:frdl.time(),timeout:15000,check:function(){if(true===is_on){if(!!this.timerName)clearTimeout(this.timerName);}else{if(frdl.time()-this.since>=this.timeout){if(0<frdl.debug.mode()){console.log('Forcing angularBootstrapable(true) due to timeout while sleeping.'+"\n"+'Please refactor the use of UI.Compile()');}
this.switchOn(true);}}},timerName:null};Object.defineProperty(require.state,'$booting',{get:function(){return $booting();}});Object.defineProperty(require.state,'$defered',{get:function(){return!$booting();}});Object.defineProperty(require.state,'$watching',{get:function(){return $watching();}});frdl.angularBootstrapDefer=function(){frdl.Bootstrap.switchOn(false,true);};frdl.angularBootstrapLoad=function(){frdl.Bootstrap.switchOn(true,true);};jQuery.fn.getAngularApp=function(el,isolateFrdlTag){var at='ng-flows',n;if(el&&'boolean'!==typeof el){n=el;}else{n=this;}
if('boolean'!==typeof isolateFrdlTag&&'boolean'===typeof el){var isolateFrdlTag=el;}
if(true===isolateFrdlTag&&'undefined'!==typeof n.tagName&&'FRDL'===n.tagName){var _flows=jQuery(n).getAngularApp(false);try{var _has=n.getAttribute(at);}catch(e){var _has=false;}
if('string'!==typeof _has||''===_has){}}
try{var flows=n.getAttribute(at);}catch(e){var flows=false;}
if('string'===typeof flows&&''!==flows){return{element:n,flows:flows};}
if('undefined'!==typeof n.tagName&&('HTML'===n.tagName||'BODY'===n.tagName||'HEAD'===n.tagName)){return{element:n,flows:false};}
if('undefined'!==typeof n.parentNode){return jQuery(n.parentNode).getAngularApp(n.parentNode,false);}
return{element:n,flows:false};};}());(function(){'use strict';const CONST=Symbol('Symbol.frdl.CONST');class Node{constructor(p,path){this[CONST]=Symbol(p);this.valueOf=function valueOf(){return this[CONST];};this.toString=function(){return this[Symbol.toStringTag]('string');};}
get(){return this.valueOf();}
global(){return Symbol.for(this.uri);}
[Symbol.toPrimitive](hint){if(hint=='number'){return this.id;}
if(hint=='string'){return this.toString();}
return this.valueOf();}
[Symbol.toStringTag](hint){return'Symbol('+this.keyPath+' '+this.id+')';}}
let FRDL_CONSTANTS=new Node('Symbol.frdl');FRDL_CONSTANTS.CONST=CONST;let _idc=-1;Object.defineProperty(Symbol,'frdl',{'get':function(){return FRDL_CONSTANTS;},'set':function(val){if('string'!==typeof val){var s=false;try{val=JSON.stringify(val);s=true;}catch(err){s=false;}
if(false===s){try{val=val.toString();s=true;}catch(err){s=false;}}
if(false===s){val='##@@##'+typeof val+(('undefined'!==typeof val.length)?val.length:'NaT')+'##@@##';}}
var kp=explode('.',val);var parent=FRDL_CONSTANTS,current=FRDL_CONSTANTS;var path='Symbol.frdl';var Uri='';frdl.each(kp,function(pos,KEY){path+='.'+KEY;Uri+='/'+KEY;let p=path;let _uri=Uri;let __id=++_idc;if(!parent.hasOwnProperty(KEY)){var node=new Node(p,_uri);Object.defineProperty(node,'id',{'get':function(){return __id;}});Object.defineProperty(node,'uri',{'get':function(){return _uri;}});Object.defineProperty(node,'keyPath',{'get':function(){return p;}});Object.defineProperty(parent,KEY,{'get':function(){return node;},'set':function(n){var k;for(k in n){parent[KEY][k]=n[k];}},enumerable:true,writeable:true,configurable:true});current=parent[KEY]=node;}else{current=parent[KEY];}
parent=current;});}});}());Symbol.frdl='main.dependency.ready';Symbol.frdl='LOAD.fs.polyfill';Symbol.frdl='xhrWorker';Symbol.frdl='CONSTANTS';Symbol.frdl='Angular';Symbol.frdl='Plugin';Symbol.frdl='Widget';Symbol.frdl='WebApp';Symbol.frdl='Component';Symbol.frdl='Frdlweb';Symbol.frdl='Frdlweb.EMITTERS';Symbol.frdl='Frdlweb.FSM';Symbol.frdl='Frdlweb.ESR';Symbol.frdl='Node.NAME';Symbol.frdl='Node.$$$parent';Symbol.frdl='Node.PARENT';Symbol.frdl='fn.exec';Symbol.frdl='fn.__call';Symbol.frdl='customElement.class';Symbol.frdl='customElement.tag';Symbol.frdl='customElement.importUrl';(function(){'use strict';const CONSTANTS=Symbol.frdl.CONSTANTS.valueOf();const EMITTERS=Symbol.frdl.Frdlweb.EMITTERS.valueOf();const FSM=Symbol.frdl.Frdlweb.FSM.valueOf();const ESR=Symbol.frdl.Frdlweb.ESR.valueOf();function FrdlwebPrototype(){}
FrdlwebPrototype.prototype.VERSION='0.0.1';var Frdlweb=new FrdlwebPrototype;Frdlweb[CONSTANTS]=new Map();Frdlweb[FSM]=new WeakMap();Frdlweb[EMITTERS]=new Map();Frdlweb[ESR]=new Map();const privates=new WeakMap();privates.set(frdl.MagicHelper,Frdlweb);frdl.MagicHelper.emitter.on('get Slim',function(evData){evData.result=new Promise(function(resolve,reject){require(['webfan/bootcache!Slim'],function(Slim){resolve(Slim);});}).then(function(r){evData.result=r;return r;});});Frdlweb[EMITTERS].set(require,frdl.state);Frdlweb[EMITTERS].set(frdl,frdl.state);Frdlweb[EMITTERS].set(frdl.MagicHelper,frdl.MagicHelper.emitter);frdl.CONST=function(n,v,local){if('undefined'!==typeof v&&'undefined'===typeof local){local=true;}
if('undefined'===typeof v){if('undefined'!==typeof Frdlweb[CONSTANTS].get(n)){return clone(Frdlweb[CONSTANTS].get(n));}
var p=explode('.',n),symFound=false,cur=Symbol.frdl;if('Symbol'===p[0])p.shift();if('frdl'===p[0])p.shift();frdl.each(p,function(i,KEY){if('undefined'!==typeof cur[KEY]){symFound=cur[KEY];}else{symFound=false;return false;}
cur=cur[KEY];});if(false!==symFound){return symFound.valueOf();}
throw n+' is undefined in frdl.CONST';}
if(Frdlweb[CONSTANTS].has(n)){throw n+' is already defined in frdl.CONST';}
if('string'===typeof n&&false!==strpos(n,'.')){try{Symbol.frdl=n;n='Symbol.frdl.'+n;var symb=eval(n);n=('Symbol'===typeof symb.valueOf())?symb.valueOf():str_replace('.','_',arguments[0]);}catch(err){throw arguments[0]+' could not be resolved in frdl.CONST';}}
const VALUE=v;Frdlweb[CONSTANTS].set(n,VALUE);if(!local){global[n]=VALUE;}
return clone(Frdlweb[CONSTANTS].get(n));};frdl.CONST.defined=function(n){return(true!==Frdlweb[CONSTANTS].has(n))?false:true;};Frdlweb[ESR].set(frdl.ready,frdl.ready.dependencies);Frdlweb[ESR].set(frdl.ready,frdl.ready.dependencies);frdl.MagicHelper.addMethodCallback=function(obj,originalMethodName,$returns,callBackMethod,context){var fnOriginal=obj[originalMethodName],outcome;context=context||obj;if(!!$returns){obj[originalMethodName]=function(){var outcome=fnOriginal.apply(this,arguments);outcome=extend(outcome,callBackMethod.apply(this,arguments)||{});return outcome;};}else{obj[originalMethodName]=function(){var outcome=fnOriginal.apply(this,arguments);callBackMethod.apply(this,arguments);return outcome;};}};frdl.CONST('__MAGIC_METHODS__',{'i':0,'__call':function(n,a){frdl.CONST('__MAGIC_METHODS__').i=++(frdl.CONST('__MAGIC_METHODS__').i);var R={name:n,args:a,result:undefined,c:0};var gen=function*(r,emitter){if(0===r.c){emitter.emit(r.name,r);}
if(0===r.c){if('undefined'===typeof r.result){emitter.emit('*',r);}}
if(r.result instanceof Promise){if(r.result instanceof Promise){r.result=r.result.then(function(res){r.result=res.result;return res;});}}
r.c++;yield r;};var result=gen(R,frdl.MagicHelper.emitter).next().value;if(result.result){result=result.result;}
if(result instanceof Promise){result=result.then(function(res){result=res.result;return res;});}
if(result.result){result=result.result;}
return result;},'__get':function(name){frdl.CONST('__MAGIC_METHODS__').i=++(frdl.CONST('__MAGIC_METHODS__').i);var r={name:name,result:undefined};frdl.MagicHelper.emitter.emit('get '+name,r);if('undefined'===typeof r.result||'function'===typeof r.result){frdl.MagicHelper.emitter.emit('get *',r);}
return r.result;},'__invoke':function(name){throw'Not implemented __invoke';}},true);require(['JsonRpcClient'],function(JsonRpcClient){frdl.rpc=new JsonRpcClient((((Webfan.defined('Webfan.hps.scriptengine.server.ssl')&&1==Webfan.hps.scriptengine.server.ssl)?'https:':location.protocol)
+'//'
+((Webfan.defined('Webfan.hps.scriptengine.server.host'))?Webfan.hps.scriptengine.server.host:location.host)
+((!Webfan.defined('Webfan.hps.rpc.server.url'))?'/software-center/modules-api/rpc/0.0.1/':Webfan.hps.rpc.server.url)),frdl.WebfanReadCookie('json_rpc_user_name'),false,frdl.WebfanReadCookie('json_rpc_user_dh1'),'POST',(Webfan.defined('Webfan.hps.scriptengine.server.ssl')&&1==Webfan.hps.scriptengine.server.ssl)?'https:':location.protocol);});frdl.MagicHelper.emitter.on('test',function(evData){console.log('onTest',arguments);evData.result='Testresult from frdl.test('+JSON.stringify(evData.args)+')';});frdl.MagicHelper.emitter.on('time',function(evData){evData.result=(new Date()).getTime();})
frdl.MagicHelper.emitter.on('plug',function(evData){evData.result=frdl.ns.plugin.apply(frdl.ns,evData.args);})
frdl.MagicHelper.emitter.on('get *',function(evData){if('undefined'!==typeof frdl.ns[evData.name]){evData.result=frdl.ns[evData.name];}});frdl.MagicHelper.emitter.on('get Test',function(evData){console.log('Test',arguments);evData.result='TESTPROPERTY';});frdl.MagicHelper.emitter.on('get guid',function(evData){var t=explode('.',frdl.microtime().toString());var id=frdl.dechex(parseInt(t[0]))
+'-'
+frdl.dechex(parseInt(t[1]))
+'-'
+frdl.dechex(frdl.mt_rand())
+'-'
+frdl.CONST('__MAGIC_METHODS__').i.toString();evData.result=frdl.str_replace('.','-',id);});frdl.MagicHelper.emitter.on('transpile',function(evData){evData.result=new Promise(function(resolve,reject){require(['webfan/bootcache!webfan/compile'],function(compile){resolve(compile(evData.args[0],evData.args[1]));});}).then(function(r){evData.result=r;return r;});});(function(){frdl.MagicHelper.emitter.on('get alert',function(evData){var p=new Promise(function(resolve,reject){require(['webfan/bootcache!webfan/navigator/simpledialog-9x'],function(Alert){resolve(Alert);});});p.then(function(Alert){evData.result=Alert;return Alert;});if(require.defined('webfan/navigator/simpledialog-9x')){evData.result=require('webfan/navigator/simpledialog-9x');}else if(evData.result instanceof Promise&&frdl.getPromiseState(evData.result).isResolved()){evData.result=frdl.getPromiseState(evData.result).value;}else{}
return evData.result;});frdl.MagicHelper.emitter.on('get Hash',function(evData){var p=new Promise(function(resolve,reject){require(['webfan/bootcache!webfan/navigator/anchor-routing-9x'],function(Hash){resolve(Hash);});});p.then(function(Hash){evData.result=Hash;return Hash;});if(require.defined('webfan/navigator/anchor-routing-9x')){evData.result=require('webfan/navigator/anchor-routing-9x');}else if(evData.result instanceof Promise&&frdl.getPromiseState(evData.result).isResolved()){evData.result=frdl.getPromiseState(evData.result).value;}else{}
return evData.result;});frdl.MagicHelper.emitter.on('get inX',function(evData){var p=new Promise(function(resolve,reject){require(['webfan/bootcache!components/locale/jsin/jsin-9x'],function(Translator){resolve(Translator);});});p.then(function(Translator){evData.result=Translator;return Translator;});if(require.defined('components/locale/jsin/jsin-9x')){evData.result=require('components/locale/jsin/jsin-9x');}else if(evData.result instanceof Promise&&frdl.getPromiseState(evData.result).isResolved()){evData.result=frdl.getPromiseState(evData.result).value;}else{}
global.__=evData.result.__;return evData.result;});}());(function(){'use strict';String.prototype.eval=function(modis){if(!modis){return eval(this.toString());}else if('transpile'===modis){return frdl.transpile(this.toString(),true);}else if('object'===typeof modis){return frdl.transpile(this.toString(),modis);}};frdl.MagicHelper.emitter.on('compile',function(evData){evData.result=new Promise(function(resolve,reject){var dumy=String('1+1');dumy.eval();(function t(){try{if(require.defined('webfan/compile')&&true===(3===eval(frdl.compile(' 1 + 2')))){resolve(evData.args[0]);}else{setTimeout(t,16);}}catch(e){reject(e);}}());}).then(function(js){evData.result=String(js);return evData.result;});});}());}());(function(obj,method){require(['util'],function(util){Symbol.frdl='MONKEY.Patch.Promise.State';function getPromiseState(aPromise){var promiseState=function*promiseState(p){const t={};var P="unknown";P=Promise.race([p,t]).then(v=>(v===t)?"pending":"fulfilled",()=>"rejected");yield P.then(function(s){P[Symbol.frdl.MONKEY.Patch.Promise.State.valueOf()]=s;return P;});yield P;};var Gen=promiseState(aPromise);var s=Gen.next();s=Gen.next();return s.value;}
var fn=function(myPromise){var test=getPromiseState(myPromise);var stat=test;return stat;};var fn2=function(myPromise){myPromise.isPending=function(){return true===this instanceof Promise&&util.inspect(this).indexOf("<pending>")>-1;};myPromise.isRejected=function(){return util.inspect(this).indexOf("<rejected>")>-1;};myPromise.isResolved=function(){return false===this instanceof Promise||util.inspect(this).indexOf("<resolved>")>-1;};myPromise.value=function(){if(false===this instanceof Promise||util.inspect(this).indexOf("<resolved>")>-1){this.valueOf();}else{return new Error('<pending>');}};return myPromise;};obj[method]=function(myPromise){var myPromiseStat=fn2(myPromise);return myPromiseStat;};});}(frdl,'getPromiseState'));(function(){var tick=4;frdl.MagicHelper.emitter.on('when',function(evData){console.trace();var e='frdl.when is not maintained atm. You should not use it in this version!';console.log(e);console.warn(e);if(1===evData.args.length&&!isNaN(evData.args[0])){tick=evData.args[0];return;}
var condition_or_function=evData.args[0];var onError=(evData.args.length>=3&&'undefined'!==typeof evData.args[2]&&'function'===typeof evData.args[2])?evData.args[2]:function(r){frdl.alert.error(r);};var onSuccess=(evData.args.length>1&&'undefined'!==typeof evData.args[1]&&'function'===typeof evData.args[1])?evData.args[1]:function(r){frdl.alert.success(r);};var args=(evData.args.length>=4&&'undefined'!==typeof evData.args[3]&&evData.args[3]instanceof Array)?evData.args[3]:[];var to=(evData.args.length>=5&&'undefined'!==typeof evData.args[4]&&!isNaN(evData.args[4]))?evData.args[4]:-1;if(to>0){var Timeout=setTimeout(function(){var test=frdl.getPromiseState(evData.result);if(true===test.isPending()||true===test.isRejected()){reject('Timeout frdl.when');}else if(true===test.isResolved()){}},to);}else{var Timeout=false;}
evData.result=new Promise(function(resolve,reject){var t=function(){if(('function'===typeof condition_or_function&&true===condition_or_function(args))||('function'!==typeof condition_or_function&&true===(condition_or_function))){if(!!Timeout)clearTimeout(Timeout);resolve(args);}else{setTimeout(t,tick);}};t();});evData.result.catch(function(e){onError(e);});evData.result.then(function(res){onSuccess(res);});});}());(function(){var _task=false;frdl.MagicHelper.emitter.on('task',function(evData){function DoIt(){evData.result=_task.apply(frdl.plug('de.webfan.frdl.cdn.cdn.frdl.flow.components.webfan.queue'),evData.args);}
if('undefined'===typeof _task||false===_task){require(['webfan/bootcache!webfan/tasks-2','frdlcjs!webfan/TaskClass'],function(TaskQueue,SerialTask){var _TaskQueueGroups={};var _frdlTasks=Object.create({serial:SerialTask.SerialTask});Object.defineProperty(_frdlTasks,'tasks',{get:function(){return _TaskQueueGroups;},set:function(val){throw'write to frdl.task().tasks from public scope';},configurable:false});var __isOnPruning=false;var pruneTasks=function(){__isOnPruning=true;process.nextTick(function(){setTimeout(function(){__isOnPruning=false;process.nextTick(function(){frdl.each(_TaskQueueGroups,function(groupName,queue){process.nextTick(function(){if(!!_TaskQueueGroups[groupName]&&0===queue.count()){process.nextTick(function(){if(!!_TaskQueueGroups[groupName]&&0===_TaskQueueGroups[groupName].count()){_TaskQueueGroups[groupName].clearAll();_TaskQueueGroups[groupName]=undefined;}});}});});});},5000);});};_task=function(){if(false===!!__isOnPruning){(('undefined'!==typeof webfan&&'function'===typeof webfan.$Async)?webfan.$Async:setTimeout)(pruneTasks,4000);}
var args=Array.prototype.slice.call(arguments);var QueueGroup=(0<args.length)?args.shift():false;var method=(0<args.length)?args.shift():false;if(false===!!QueueGroup){return _frdlTasks;}
if('undefined'===typeof _TaskQueueGroups[QueueGroup]){_TaskQueueGroups[QueueGroup]=new TaskQueue(QueueGroup);}
if(false===!!method){return _TaskQueueGroups[QueueGroup];}
return _TaskQueueGroups[QueueGroup][method].apply(_TaskQueueGroups[QueueGroup],args);};DoIt();});}
else{DoIt();}});process.nextTick(function(){frdl.task();});}());frdl.microtime=function(){return(new Date()/1000);};frdl.$q=function(q,all,context){if('undefined'===typeof context)
var context=document;var m=((false===all)?'querySelector':'querySelectorAll');return context[m](q);};frdl.cbs={};var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;var ARGUMENT_NAMES=/(?:^|,)\s*([^\s,=]+)/g;var getFunctionParameters=frdl.getFunctionParameters=function(func,wrapStart,wrapEnd){if('function'===typeof func){func=func.toString();}
if(typeof func!='string'){return undefined;}
var fnStr=func.replace(STRIP_COMMENTS,'');var argsList=fnStr.slice(fnStr.indexOf('(')+1,fnStr.indexOf(')'));var result=argsList.match(ARGUMENT_NAMES);if(result===null){return[];}else{var stripped=[];for(var i=0;i<result.length;i++){stripped.push((('string'===typeof wrapStart)?wrapStart:'')+result[i].replace(/[\s,]/g,'')+(('string'===typeof wrapEnd)?wrapEnd:''));}
return stripped;}};frdl.Reflector={};frdl.Reflector.getFunctionParameters=getFunctionParameters;frdl.Reflector.getFunctionName=function getFunctionName(fn,inspectBody){if('function'===typeof fn){fn=fn.toString();}
if(typeof fn!=='string'){return undefined;}
if(true!==!!inspectBody){fn=frdl.str_replace(frdl.Reflector.getFunctionBody(fn),'\n',fn);}
var result=fn.match(/function\s*(\S+)\s*\(|\(\)\=\>\s*(\S+)\s*\(/);if(!result){return'';}
return result[1];};frdl.Reflector.getFunctionBody=function getFunctionBody(fn){function removeCommentsFromSource(str){return str.replace(/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm,'$1');}
if('function'===typeof fn){fn=fn.toString();}
if(typeof fn!='string'){return undefined;}
var s=removeCommentsFromSource(fn);return s.substring(s.indexOf('{')+1,s.lastIndexOf('}'));};frdl.createJavascriptObjectURL=createJavascriptObjectURL;frdl.createHTMLObjectURL=createHTMLObjectURL;frdl.createCSSObjectURL=createCSSObjectURL;frdl.createImageObjectURL=createImageObjectURL;frdl.linkBLOB=__createObjectURL;frdl.cssImportString=function(css){frdl.getCSS(frdl.createCSSObjectURL(css));return css;};frdl.urlRewriteCss=function(c,base,___URL){if('undefined'===typeof ___URL){var ___URL=require('url');}
var urlMatchingRegex=/[:,\s]\s*url\s*\(\s*(?:'(\S*?)'|"(\S*?)"?|((?:\\\s|\\\)|\\\"|\\\'|\S)*?))\s*\)/gi;c=c.replace(urlMatchingRegex,function(fullMatch,url){var n=frdl.str_replace('"',"'",fullMatch);return n;});c=c.replace(urlMatchingRegex,function(fullMatch,url){var __U=___URL;if('undefined'===typeof url){var _u=frdl.explode('(',fullMatch,2)[1];var url=_u.substr(0,_u.length-1);}
if('data:'===url.substr(0,'data:'.length)){return fullMatch;}
try{var nu=__U.parse(base).resolve(url);}catch(err){var nu=(base)+url;if(1<frdl.debug.mode())
console.warn(err);}
var ext=__U.parse(nu).pathname.split(/\./).pop();if('woff'===ext||'woff2'===ext){return'';}
var nt=frdl.str_replace(url,nu,fullMatch);return nt;});return c;};frdl.cssImportLink=function(url){return new Promise(function(resolve,reject){require(['webfan/bootcache!url','loadPlain!'+url],function(URL,css){resolve(frdl.cssImportString(frdl.urlRewriteCss(css.content,require.toUrl(URL.resolve(url,'./')),URL)));});});};frdl.getCSS=function(src,p,once){if(false===frdl.browser)throw'Cannot frdl.getCSS() in NO_BROWSER context!';frdl.ready(function(){if('undefined'===typeof once||true===once||true===p){if(null!==frdl.$q('link[href="'+frdl.str_replace('/','\/',src)+'"]',false)){return;}}
if('undefined'===typeof p||null===p||true===p)
var p=frdl.$q('head',false);var style=document.createElement('link');style.setAttribute('type','text/css');style.setAttribute('rel','stylesheet');style.setAttribute('href',src);p.append(style)});return frdl;};(function(){var lastTime=0;var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!window.requestAnimationFrame;++x){window.requestAnimationFrame=window[vendors[x]+'RequestAnimationFrame'];window.cancelAnimationFrame=window[vendors[x]+'CancelAnimationFrame']||window[vendors[x]+'CancelRequestAnimationFrame'];}
if(!window.requestAnimationFrame)
window.requestAnimationFrame=function(callback,element){var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=window.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);lastTime=currTime+timeToCall;return id;};if(!window.cancelAnimationFrame)
window.cancelAnimationFrame=function(id){clearTimeout(id);};var requestAnimationFrame=window.requestAnimationFrame;var cancelAnimationFrame=window.cancelAnimationFrame;frdl.requestAnimationFrame=function(callback){return requestAnimationFrame.call(window,callback);};frdl.cancelAnimationFrame=function(id){return cancelAnimationFrame.call(window,id);};}());frdl.getScript=function(url,callBack,doNotRemove,prepend,args){var scripts=frdl.$q('script');if('undefined'===typeof doNotRemove||true===doNotRemove){for(var i=0;i<scripts.length;i++){if(url===scripts[i].getAttribute('src')){if(typeof callBack==="function"&&scripts[i].readyState==="complete"){callBack.apply(this,args);return"undefined";}}}}
var head=frdl.$q("head",false);var script=document.createElement("script");script.setAttribute('src',url);script.setAttribute('async','true');var done=false,persistent=('undefined'===typeof doNotRemove||true===doNotRemove)?true:false;script.setAttribute('type','text/javascript');script.onload=function(){done=true;if(true!==persistent){script.onload=script.onreadystatechange=null;head.removeChild(script);}
if(typeof callBack==="function"){callBack.apply(this,args);}};if(true===prepend){head.insertBefore(script,head.firstChild);}else{head.appendChild(script);}
return"undefined";};require(['webfan/bootcache!mobile-detect/mobile-detect','feature!Modernizr'],function(mobileDetect,moderniZr){frdl.Modernizr=moderniZr;frdl.Device=function(){var MobileDetect=mobileDetect;var Modernizr=moderniZr;var md=MobileDetect;var Device={Modernizr:Modernizr,mq:frdl.Modernizr.mq,MobileDetect:md,isMobile:!!md.is('mobile'),isTablet:!!md.is('tablet'),isPhone:!!md.is('phone'),isDesktop:!md.is('mobile')&&!md.is('tablet')&&!md.is('phone'),os:navigator.platform,OS:navigator.platform};return Device;};});require(['webfan/bootcache!webfan/webfanURLParser'],function(webfanURLParser){frdl.Url=webfanURLParser;});frdl.MagicHelper.emitter.on('get ns',function(evData){if(process.env.DEBUG)console.warn('frdl.ns may be deprecated soon');evData.result=new Promise(function(resolve,reject){require(['webfan/bootcache!webfan/NamespacePlugin'],function(NamespacePlugin){resolve(NamespacePlugin);});}).then(function(NamespacePlugin){evData.result=NamespacePlugin;return evData.result;});});(function(){String.prototype.ucfirst=function(){return ucfirst(this.toString());};var DomObject=function(selector){return this.init(selector);};DomObject.prototype={element:null,init:function(selector){var $=('undefined'!==typeof jQuery)?jQuery:document.querySelector;this.element=('string'===typeof selector)?$(selector):selector;return this;},attrAdd:function(k,v,delimiter,el){var del=delimiter;var El=(delimiter&&!el)?((null!==delimiter)?$(delimiter):this.element):(el)?$(el):this.element;if('string'!==typeof del)
del=' ';if('object'!==typeof El||null===El)
El=this.element;var a=$(El).attr(k);$(El).attr(k,(('string'===typeof a&&''!==a)?a+del:'')+v);return this;},attrHas:function(attr,value,el){if('undefined'===typeof el)
var el=this.element;if(!el.hasAttribute(attr))
return false;var a=el.getAttribute(attr).split(/\s+|,/);return(-1===a.indexOf(value))?false:true;},after:function(newNode,prevNode){if('undefined'===typeof prevNode)
prevNode=this.element||this;prevNode.parentNode.insertBefore(newNode,prevNode.nextSibling);},getTagNames:function(tag,scope){if(null===scope||'object'!==typeof scope)
scope=document;return scope.getElementsByTagName(tag);},getNames:function(name){return document.getElementsByName(name);},getFormData:function(form){if(typeof FormData!=="object")
return this.getFormDataFallback(form);var f=new FormData(form);return f;},getFormDataFallback:function(form){var formElements=this.g(form).elements;var postData={};for(var i=0;i<formElements.length;i++){postData[formElements[i].name]=formElements[i].value;}
return postData;},get:function(el){if('object'===typeof el){return el;}else if('object'===typeof document.getElementById(el)){return document.getElementById(el);}else if('string'===typeof el){return document.querySelector(el);}else{return el;}},g:function(el){return frdl.Dom.get(el);},getByClass:function(className,parent){parent||(parent=document);var descendants=parent.getElementsByTagName('*'),i=-1,e,result=[];while(e==descendants[++i]){((' '+(e['class']||e.className)+' ').indexOf(' '+className+' ')>-1)&&result.push(e);}
return result;},getStyle:function(CLASSname,raw){if("undefined"===typeof raw)
var raw=true;var styleSheets=document.styleSheets,cl=[];var styleSheetsLength=styleSheets.length;for(var i=0;i<styleSheetsLength;i++){if(styleSheets[i].rules){var classes=styleSheets[i].rules;}else{try{if(!styleSheets[i].cssRules){continue;}}catch(e){if(e.name==="SecurityError"){console.log("SecurityError. Cant read: "+styleSheets[i].href);continue;}}
var classes=styleSheets[i].cssRules;}
if('undefined'===typeof CLASSname||null===CLASSname){cl.push(classes);continue;}
for(var x=0;x<classes.length;x++){if(classes[x].selectorText===CLASSname){var ret=(classes[x].cssText)?classes[x].cssText:classes[x].style.cssText;if(ret.indexOf(classes[x].selectorText)===-1&&false===raw){ret=classes[x].selectorText+"{"+ret+"}";}
return ret;}}}
if('undefined'===typeof CLASSname||null===CLASSname){return cl;}},isVisible:function(sel){var el=('object'===typeof this.g(sel))?this.g(sel):sel;if(el!==null&&typeof el!=='undefined'&&$(el).css('visibility')!=='hidden'&&$(el).css('display')!=='none'){return true;}else{return false;}},isFramed:function(){try{return frdl.Device().Modernizr.framed;}catch(err){try{return window.self!==window.top;}catch(e){return true;}}},addText:function(txt,dest){var t=document.createTextNode(txt);dest=('object'===typeof dest)?dest:frdl.Dom.g(dest);dest.appendChild(t);},add:function(el,dest,prepend){el=('object'===typeof el&&null!==el)?el:frdl.Dom.g(el);dest=('object'===typeof dest&&null!==dest)?dest:frdl.Dom.g(dest);if('undefined'!==typeof dest&&null!==dest){if('undefined'!==typeof prepend&&true===prepend){dest.insertBefore(el,dest.firstChild);}else if('function'===typeof dest.appendChild){dest.appendChild(el);}else{$(dest).append(el);}}else{console.warn('ERR:');console.dir(arguments);console.dir(dest);}},remove:function(el){el=frdl.Dom.g(el);if(null===el)
return;el.parentNode.removeChild(el);},create:function(tag){return document.createElement(tag);},createFragment:function(){return document.createDocumentFragment();},copy:function(element,cloneChildsBool){if(cloneChildsBool!=true&&cloneChildsBool!=false){cloneChildsBool=true;}
return element.cloneNode(cloneChildsBool);},insertAtCursor:function(myField,myValue,mod,afterValue){var field=frdl.Dom.g(myField);if(typeof mod==="undefined")
mod="deleteSelected";if(document.selection){field.focus();sel=document.selection.createRange();sel.text=myValue;}else if(field.selectionStart||field.selectionStart=='0'){var startPos=field.selectionStart;var endPos=field.selectionEnd;if(mod==="deleteSelected"){field.value=field.value.substring(0,startPos)+myValue+field.value.substring(endPos,field.value.length);}else if(mod==="render"){field.value=field.value.substring(0,startPos)+myValue+field.value.substring(startPos,endPos)+afterValue+field.value.substring(endPos,field.value.length);}else if(mod==="insert"){field.value=field.value.substring(0,startPos)+myValue+field.value.substring(startPos,endPos)+field.value.substring(endPos,field.value.length);}else{field.value=field.value.substring(0,startPos)+myValue+field.value.substring(endPos,field.value.length);}}else{field.value+=myValue;}},createCSSClass:function(selector,style){if(!document.styleSheets){return;}
if(document.getElementsByTagName("head").length===0){return;}
var styleSheet,i;var mediaType;if(document.styleSheets.length>0){for(i=0;i<document.styleSheets.length;i++){if("undefined"===typeof document.styleSheets[i]||document.styleSheets[i].disabled){continue;}
var media=document.styleSheets[i].media;mediaType=typeof media;if(mediaType==="string"){if(media===""||(media.indexOf("screen")!==-1)){styleSheet=document.styleSheets[i];}}else if(mediaType==="object"){if(media.mediaText===""||(media.mediaText.indexOf("screen")!==-1)){styleSheet=document.styleSheets[i];}}
if(typeof styleSheet!=="undefined"){break;}}}
if(typeof styleSheet==="undefined"){var styleSheetElement=document.createElement("style");styleSheetElement.type="text/css";document.getElementsByTagName("head")[0].appendChild(styleSheetElement);for(i=0;i<document.styleSheets.length;i++){if("undefined"===typeof document.styleSheets[i]||document.styleSheets[i].disabled){continue;}
styleSheet=document.styleSheets[i];}
var media=styleSheet.media;mediaType=typeof media;}
if(mediaType==="string"){for(i=0;i<styleSheet.rules.length;i++){if(styleSheet.rules[i].selectorText.toLowerCase()===selector.toLowerCase()){styleSheet.rules[i].style.cssText=style;return;}}
styleSheet.addRule(selector,style);}else if(mediaType==="object"){try{for(i=0;i<styleSheet.cssRules.length;i++){if(styleSheet.cssRules[i].selectorText.toLowerCase()===selector.toLowerCase()){styleSheet.cssRules[i].style.cssText=style;return;}}}catch(e){return;}
styleSheet.insertRule(selector+"{"+style+"}",0);}},addStylesheetRules:function(rules,merge){var styleEl=document.createElement('style'),styleSheet;document.head.appendChild(styleEl);styleSheet=styleEl.sheet;for(var i=0,rl=rules.length;i<rl;i++){var j=1,rule=rules[i],selector=rules[i][0],propStr='',k;if(Object.prototype.toString.call(rule[1][0])==='[object Array]'){rule=rule[1];j=0;}
for(var pl=rule.length;j<pl;j++){var prop=rule[j];propStr+=prop[0]+':'+prop[1]+(prop[2]?' !important':'')+';\n';$(selector).css(prop[0],prop[1]+(prop[2]?' !important':''));}
styleSheet.insertRule(selector+'{'+propStr+'}',styleSheet.cssRules.length);}},draggable:function(id,id2,save,load){try{var wDrag=new DragObject(this.g(id),this.g(id2));wDrag.ondrop=function(){if(save===true)
wDrag.saveToStore();return true;};if(load===true)
wDrag.loadFromStore();}catch(err){console.log(err);return;}},config:{regex:{jsonParse:/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|("[\w\-^\/]\/[\w\-^\/]")|("[A-Za-z\-.0-9\/^"<>=]+[^"<>=]")|("1.3.6.1.4.1[0-9\.^\/A-Za-z<>=]{0,}")|("[\w\.\-]+@[\w\.\-]+\.[\w\.\-]+")/g,url:/("([A-Za-z]+)(:\/\/)([0-9.\-A-Za-z]+)?([0-9\-A-Za-z]+)([.]{1})([A-Za-z]+)(\/)?([^\\"]+)?")/g},renderJSON:{defaultRules:function(_){var kFound=false,THIS=_,regex_package={name:'Package',regex:/((")?[\w\-^\/]+\/[\w\-^\/]+(")?)/,type:'string',style:function(match){var html='',m=match;m=str_replace('"','',m);m=str_replace(':','',m);var p;if((p=explode('/',m)).length===2){html='<a style="text-decoration:underline;color:blue;cursor:pointer;" title="Package: '+htmlentities(p[0]+'/'+p[1])+'" onclick="$(frdl.wd()).package(\'c\', \''+p[0]+'\', \''+p[1]+'\');">'+p[0]+'/'+p[1]+'</a>';}else{html=m;}
return html;}},regex_any={name:'any',regex:/("[A-Za-z\-.0-9^"<>=]+[^"<>=]")/g,type:'any non html',style:function(match){var m=str_replace(':','',str_replace('"','',match.trim()));var p,html;if((p=explode('/',m)).length===2){var title=_T.pTitle(p[0],p[1]);html='<a style="text-decoration:underline;color:blue;cursor:pointer;" title="Package: '+htmlentities(title)+'" onclick="$(frdl.wd()).package(\'c\', \''+p[0]+'\', \''+p[1]+'\');">'+title+'</a>';}else{html=match;}
return html;}};return{def:function(match){return match;},defKey:function(match){if('string'!==typeof match){try{var match=match.toString();}catch(e){var match='';}}
return'<span class="webfan-red" style="font-size:1.1em;">'+str_replace('"','',match.substr(-1*match.length-2)).ucfirst()+'</span>';},types:[{name:'True',regex:/true/,type:'boolean',style:'color:lightgreen;'},{name:'False',regex:/false/,type:'boolean',style:'color:lightred;'},{name:'Null',regex:/null/,type:'nil',style:'color:magenta;'},{name:'Number',regex:/-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/,type:'number',style:'color:darkorange;'},{name:'Unicode',regex:/"(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?/,type:'string',style:'color:green;'},{name:'OID',regex:/1.3.6.1.4.1[0-9\.^\/A-Za-z<>=]{0,}/,type:'string',style:function(match){var OID=str_replace('"','',match);return'<a href="http://look-up.webfan.de/'+OID+'">'+OID+'</a>';}},{name:'Email',regex:/[\w\.\-]+@[\w\.\-]+\.[\w\.\-]+/,type:'string',style:function(match){var mail=str_replace('"','',match);return'<a href="mailto:'+mail+'">'+mail+'</a>';}},regex_package],keys:[{name:'NumKey',regex:/((")?[0-9]{1,}(")?)/,type:'key',style:function(match){if(true===kFound)
return str_replace('"','',match);kFound=true;return''}}],any:regex_any,punctuation:{name:'Punctuation',regex:/(([\s])?([\.\[\{]{1})[^"])|([\]]{1}[^"])|([\}]{1}[^"]|[^"][\}]{1})|([\,]{1}[^"]|[^"][\,]{1}|[\,]{1}[\r\n]|[^"][\,]{1}[^"]|"[\,]{1}"|[\,]{1}[\[\{]|[\]\}][\,]{1}|[\r\n][\]]{1})/g,type:'punctuation',style:function(match){var comma='</li><li>',m=str_replace('"','',match.trim());var result=null;if(','===m)
result=comma;if('['===m)
result='<ol style="list-style:list;"><li>';if(']'===m)
result='</li></ol>';if('{'===m)
result='<ul style="list-style:list;"><li>';if('}'===m)
result='</li></ul>';if('],'===m)
result='</li></ol>'+comma;if('string'===typeof result)
return result;return match;}},spaces:{name:'Spaces',regex:/([\r\n]{2,})/g,type:'lnbr',style:function(match){return"\r\n";}},url:{name:'Url',regex:Dom.config.regex.url,type:'string',style:function(match){var om=match,u;om=str_replace('"','',om);var url=(u=new frdl.Url(om)).urlMakeNew(),maxLength=16,maxSub=6;if(''===u.getHost()&&''===u.getPath())
return match;var linktext=u.getHost()+((''!==u.getPath())?('/'+u.getPath()):'');linktext=(linktext.length>maxLength)?(linktext.substr(0,maxLength)+'...'+linktext.substr((maxSub*-1))):linktext;return'<a href="'+url+'">'+linktext+'</a>';}}};}}},renderJSON:function(json,rr,code,pre,REGEX){if(typeof json!=='string'){json=JSON.stringify(json,undefined,'\t');}
var rules=this.config.renderJSON.defaultRules();if('undefined'!==typeof jQuery){rules=Object.create(rules,('object'===typeof rr)?rr:{});}else{for(var k in rr){rules[k]=rr[k];}}
var str=json.replace((('undefined'!==typeof REGEX&&null!==REGEX)?REGEX:Dom.config.regex.jsonParse),function(match){var i=0,p;if(rules.punctuation.regex.test(match)){if('string'===typeof rules.punctuation.style){return'<span style="'+rules.punctuation.style+'">'+match+'</span>';}else if('function'===typeof rules.punctuation.style){return rules.punctuation.style(match);}else{return match;}}
if(/^"/.test(match)){if(/:$/.test(match)){for(i=0;i<rules.keys.length;i++){p=rules.keys[i];if(p.regex.test(match)){if('string'===typeof p.style){return'<span style="'+p.style+'">'+match+'</span>';}else if('function'===typeof p.style){return p.style(match);}else{return match;}}}
return('function'===typeof rules.defKey)?rules.defKey(match):'<span style="'+rules.defKey+'">'+match+'</span>';}else{return match;}}else{for(i=0;i<rules.types.length;i++){p=rules.types[i];if(p.regex.test(match)){if('string'===typeof p.style){return'<span style="'+p.style+'">'+match+'</span>';}else if('function'===typeof p.style){return p.style(match);}else{return match;}}}}});str=str.replace(rules.punctuation.regex,function(match){if('function'===typeof rules.punctuation.style){return rules.punctuation.style(match);}else if('string'===typeof rules.punctuation.style){return'<span style="'+rules.punctuation.style+'">'+match+'</span>';}else{return match;}});str=str.replace(rules.url.regex,function(match){if('function'===typeof rules.url.style){return rules.url.style(match);}else if('string'===typeof rules.url.style){return'<span style="'+rules.url.style+'">'+match+'</span>';}else{return match;}});str=str.replace(rules.any.regex,function(match){if('function'===typeof rules.any.style){return rules.any.style(match);}else if('string'===typeof rules.any.style){return'<span style="'+rules.any.style+'">'+match+'</span>';}else{return match;}});str=str.replace(rules.spaces.regex,function(match){if('function'===typeof rules.spaces.style){return rules.spaces.style(match);}else if('string'===typeof rules.spaces.style){return'<span style="'+rules.spaces.style+'">'+match+'</span>';}else{return match;}});if(true===pre)
str='<pre>'+str+'</pre>';if(true===code)
str='<code>'+str+'</code>';return str;},bringToFront:function(selector,dSiblings){if('undefined'===typeof selector)
var selector=this.element;var zmax=1,d=Dom.getTagNames('*'),i=0,m=1,_Siblings=(true===dSiblings)?true:false;for(i=0;i<d.length;i++){var e=d[i];var cur=parseInt(e.style.zIndex);if(isNaN(cur))
continue;if(cur>2&&cur>=zmax-1)
cur--;zmax=cur>zmax?cur:zmax;e.style.zIndex=cur;}
try{if('string'===typeof selector&&('#'===selector.substr(0,1)||'.'===selector.substr(0,1))){}else if('string'===typeof selector.selector){selector=selector.selector;}else if('string'===typeof selector){selector='#'+selector;}
$(selector).css('zIndex',++zmax);if(true===_Siblings)
$(selector).siblings().css('zIndex',++zmax);}catch(err){console.warn(err+' : '+JSON.stringify(selector));}}};let Dom=frdl.Dom=new DomObject(window.document||global);frdl.$j=function(selector){return new DomObject(selector);};}());var HOST_API='api.webfan.de';var HOST_CDN_PUBLIC_FRDL=Webfan.hps.scriptengine.server.host;var _h=HOST_CDN_PUBLIC_FRDL.split(/./);_h=_h.reverse();if('webfan'===_h[1]){var h=location.host.split(/:/);HOST_CDN_PUBLIC_FRDL=h[0];}else{HOST_CDN_PUBLIC_FRDL=Webfan.hps.scriptengine.server.host;}
var urlAliasMap={HOST_CDN_PUBLIC_FRDL:HOST_CDN_PUBLIC_FRDL,HOST_API:HOST_API,CLI_CONFIG:function(){return location.protocol+'//'+frdl.route('HOST_CDN_PUBLIC_FRDL')+'/cdn/frdl/flow/components/webfan/cli/clisetup/clisetup';},DEMO_API_CLIENT_URL:false,DEMO_API_CLIENT_URL_ALT:false,API_URL:location.protocol+'//'+'interface.'+HOST_API+'/v1/public/frdl/bounce/cli.jsonp',API_ENDPOINT:location.protocol+'//'+'interface.'+HOST_API+'/v1/public/','FRDL.URL.SERACHENGINE.PLUGIN':location.protocol+'//'+'suche.webfan.de/searchplugin.xml','FRDL.URL.MANIFEST.WEBAPP.WEBFAN.MY':location.protocol+'//'+'webfan.de/manifest.webapp','jQueryMobile.autoInitializePage':false,'jQueryMobile.ajaxEnabled':false,'jQueryMobile.linkBindingEnabled':false,'jQueryMobile.hashListeningEnabled':false,'jQueryMobile.pushStateEnabled':false};frdl.route=function(alias,params,path,options){return('function'===typeof urlAliasMap[alias])?urlAliasMap[alias](alias,params,path,options):urlAliasMap[alias];};frdl.Route=function(r,v){var args=Array.prototype.slice.call(arguments);if(0===args.length)return urlAliasMap;if('undefined'===typeof v&&'object'===typeof r){frdl.each(r,function(i,R){urlAliasMap[i]=R;});}else if('undefined'===typeof urlAliasMap[r]&&('function'===typeof v||'string'===typeof v)){urlAliasMap[r]=v;}else if('undefined'!==typeof urlAliasMap[r]&&(null===v||typeof v===typeof urlAliasMap[r])){urlAliasMap[r]=v;}else if('undefined'===typeof v&&'undefined'===typeof r){return urlAliasMap;}else if('string'===typeof v&&'string'===typeof r){urlAliasMap[r]=v;}else if('function'===typeof urlAliasMap[r]&&('undefined'!==v&&'function'!==typeof v)){return urlAliasMap[r].apply(args.shift(),args);}else{frdl.Throw('framework','Invalid arguments: frdl.Route('+JSON.stringify(r)+', '+JSON.stringify(v)+');');}
return urlAliasMap[r];};(function(){frdl.templater=Webfan.helper.templater;frdl.templateFormat=function(template,varsObject){return frdl.ns.plugin('org.startpad.string.format')(template,varsObject,false);};}());require(['feature!vm'],function(vm){
/*! https://github.com/mohayonao/inline-worker/blob/master/index.js */
'use strict';function WORKER_ENABLED(){return!!(global===global.window&&global.URL&&global.Blob&&global.Worker);}
function InlineWorker(func,self,varsObject){var _this=this;var functionBody=func.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1];self=self||global;var tplVars=varsObject||global;functionBody=frdl.templater(functionBody,tplVars);if(WORKER_ENABLED()){return new global.Worker(global.URL.createObjectURL(new global.Blob([functionBody],{type:"text/javascript"})));}
throw new Error('Worker ist not enabled!');function postMessage(data){process.nextTick(function(){_this.onmessage(JSON.stringify({data:data}));});}
this.self=self;this.self.postMessage=postMessage;process.nextTick(function(){func.bind(self,self);});}
InlineWorker.prototype.postMessage=function postMessage(data){var _this=this;process.nextTick(function(){_this.self.onmessage(JSON.stringify({data:data}));});};frdl.InlineWorker=InlineWorker;});mapLoader();if(!frdl.worker){require(['webfan/bootcache!Sha1','angularjs','feature!vm'],function(Sha1,angular,vm){frdl.Sha1=Sha1;Object.defineProperty(frdl,'a',{get:function(){return angular;}});process.emit('before.angularBootstrap',frdl.a.modules);require(['webfan/bootcache!ng-sanitize'],function(messagesLoaded){});require(['webfan/bootcache!angular-messages/angular-messages'],function(messagesLoaded){});require(['angular-xeditable/angular-xeditable'],function(messagesLoaded){});require(['webfan/frdl-main-x8','url','buffer','webfan/bootcache!webfan/webfanURLParser'],function(mainModule,url,buffer,webfanURLParser){frdl.Url=webfanURLParser;global.buffer=buffer;frdl.url=url;frdl.addReadyCheck(function(){return('undefined'!==typeof frdl.main&&'undefined'!==typeof frdl.main.ready&&'function'===typeof frdl.main.ready&&true===frdl.main.ready())?true:false;});frdl.main=new mainModule(frdl,frdl.webfan);});});}
function WebfanCreateCookie(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}
else var expires="";var u=new frdl.Url('');var url=u.getLocation();var host=u.getHost();var h=host.split(".");document.cookie=name+"="+value+expires+";domain=."+h[h.length-2]+"."+h[h.length-1]+";path=/";document.cookie=name+"="+value+expires+";domain=.webfan.de;path=/";}
function WebfanCreateCookieSeconds(name,value,s){if(s){var date=new Date();date.setTime(date.getTime()+(s*1000));var expires="; expires="+date.toGMTString();}else var expires="";var u=new frdl.Url('');var url=u.getLocation();var host=u.getHost();var h=host.split(".");document.cookie=name+"="+value+expires+";domain=."+h[h.length-2]+"."+h[h.length-1]+";path=/";}
function WebfanReadCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;}
function WebfanEraseCookie(name){WebfanCreateCookie(name,"",-1);}
/*! frdl.ns.SFRDL (Frdl Standard Library) */
/*! http://locutus.io/php */
function html_entity_decode(string,quote_style){var hash_map={},symbol='',tmp_str='',entity='',tmp_str=string.toString();if(false===(hash_map=get_html_translation_table('HTML_ENTITIES',quote_style))){return false;}
delete(hash_map['&']);hash_map['&']='&amp;';for(symbol in hash_map){entity=hash_map[symbol];tmp_str=tmp_str.split(entity).join(symbol);}
tmp_str=tmp_str.split('&#039;').join("'");return tmp_str;}
function get_html_translation_table(table,quote_style){var entities={},hash_map={},decimal;var constMappingTable={},constMappingQuoteStyle={};var useTable={},useQuoteStyle={};constMappingTable[0]='HTML_SPECIALCHARS';constMappingTable[1]='HTML_ENTITIES';constMappingQuoteStyle[0]='ENT_NOQUOTES';constMappingQuoteStyle[2]='ENT_COMPAT';constMappingQuoteStyle[3]='ENT_QUOTES';useTable=!isNaN(table)?constMappingTable[table]:table?table.toUpperCase():'HTML_SPECIALCHARS';useQuoteStyle=!isNaN(quote_style)?constMappingQuoteStyle[quote_style]:quote_style?quote_style.toUpperCase():'ENT_COMPAT';if(useTable!=='HTML_SPECIALCHARS'&&useTable!=='HTML_ENTITIES'){return false;}
entities['38']='&amp;';if(useTable==='HTML_ENTITIES'){entities['160']='&nbsp;';entities['161']='&iexcl;';entities['162']='&cent;';entities['163']='&pound;';entities['164']='&curren;';entities['165']='&yen;';entities['166']='&brvbar;';entities['167']='&sect;';entities['168']='&uml;';entities['169']='&copy;';entities['170']='&ordf;';entities['171']='&laquo;';entities['172']='&not;';entities['173']='&shy;';entities['174']='&reg;';entities['175']='&macr;';entities['176']='&deg;';entities['177']='&plusmn;';entities['178']='&sup2;';entities['179']='&sup3;';entities['180']='&acute;';entities['181']='&micro;';entities['182']='&para;';entities['183']='&middot;';entities['184']='&cedil;';entities['185']='&sup1;';entities['186']='&ordm;';entities['187']='&raquo;';entities['188']='&frac14;';entities['189']='&frac12;';entities['190']='&frac34;';entities['191']='&iquest;';entities['192']='&Agrave;';entities['193']='&Aacute;';entities['194']='&Acirc;';entities['195']='&Atilde;';entities['196']='&Auml;';entities['197']='&Aring;';entities['198']='&AElig;';entities['199']='&Ccedil;';entities['200']='&Egrave;';entities['201']='&Eacute;';entities['202']='&Ecirc;';entities['203']='&Euml;';entities['204']='&Igrave;';entities['205']='&Iacute;';entities['206']='&Icirc;';entities['207']='&Iuml;';entities['208']='&ETH;';entities['209']='&Ntilde;';entities['210']='&Ograve;';entities['211']='&Oacute;';entities['212']='&Ocirc;';entities['213']='&Otilde;';entities['214']='&Ouml;';entities['215']='&times;';entities['216']='&Oslash;';entities['217']='&Ugrave;';entities['218']='&Uacute;';entities['219']='&Ucirc;';entities['220']='&Uuml;';entities['221']='&Yacute;';entities['222']='&THORN;';entities['223']='&szlig;';entities['224']='&agrave;';entities['225']='&aacute;';entities['226']='&acirc;';entities['227']='&atilde;';entities['228']='&auml;';entities['229']='&aring;';entities['230']='&aelig;';entities['231']='&ccedil;';entities['232']='&egrave;';entities['233']='&eacute;';entities['234']='&ecirc;';entities['235']='&euml;';entities['236']='&igrave;';entities['237']='&iacute;';entities['238']='&icirc;';entities['239']='&iuml;';entities['240']='&eth;';entities['241']='&ntilde;';entities['242']='&ograve;';entities['243']='&oacute;';entities['244']='&ocirc;';entities['245']='&otilde;';entities['246']='&ouml;';entities['247']='&divide;';entities['248']='&oslash;';entities['249']='&ugrave;';entities['250']='&uacute;';entities['251']='&ucirc;';entities['252']='&uuml;';entities['253']='&yacute;';entities['254']='&thorn;';entities['255']='&yuml;';}
if(useQuoteStyle!=='ENT_NOQUOTES'){entities['34']='&quot;';}
if(useQuoteStyle==='ENT_QUOTES'){entities['39']='&#39;';}
entities['60']='&lt;';entities['62']='&gt;';for(decimal in entities){if(entities.hasOwnProperty(decimal)){hash_map[String.fromCharCode(decimal)]=entities[decimal];}}
return hash_map;}
function htmlentities(string,quote_style,charset,double_encode){var hash_map=get_html_translation_table('HTML_ENTITIES',quote_style),symbol='';string=string==null?'':string+'';if(!hash_map){return false;}
if(quote_style&&quote_style==='ENT_QUOTES'){hash_map["'"]='&#039;';}
if(!!double_encode||double_encode==null){for(symbol in hash_map){if(hash_map.hasOwnProperty(symbol)){string=string.split(symbol).join(hash_map[symbol]);}}}else{string=string.replace(/([\s\S]*?)(&(?:#\d+|#x[\da-f]+|[a-zA-Z][\da-z]*);|$)/g,function(ignore,text,entity){for(symbol in hash_map){if(hash_map.hasOwnProperty(symbol)){text=text.split(symbol).join(hash_map[symbol]);}}
return text+entity;});}
return string;}
function mt_rand(min,max){var argc=arguments.length;if(argc===0){min=0;max=2147483647;}else if(argc===1){min=0;max=min;}else if(min<max){min=parseInt(min);max=parseInt(max);}else{min=0;max=2147483647;}
return Math.floor(Math.random()*(max-min+1))+min;}
function strpos(haystack,needle,offset){var i=(haystack+'').indexOf(needle,(offset||0));return i===-1?false:i;}
function urlencode(str){str=(str+'').toString();return encodeURIComponent(str).replace(/!/g,'%21').replace(/'/g,'%27').replace(/\(/g,'%28').replace(/\)/g,'%29').replace(/\*/g,'%2A').replace(/%20/g,'+');}
function urldecode(str){return decodeURIComponent((str+'').replace(/\+/g,'%20'));}
function strip_tags(str,allow){var allow=(((allow||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join('');var tags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;var commentsAndPhpTags=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return str.replace(commentsAndPhpTags,'').replace(tags,function($0,$1){return allow.indexOf('<'+$1.toLowerCase()+'>')>-1?$0:'';});}
function createImageObjectURL(Image,type){if(true!==Image instanceof Blob){Image=new Blob([Image],{type:type});}
return URL.createObjectURL(Image);}
function createJavascriptObjectURL(func){var functionBody=frdl.Reflector.getFunctionBody(func);return URL.createObjectURL(new Blob([functionBody],{type:"text/javascript"}));}
function createHTMLObjectURL(HTML){return URL.createObjectURL(new Blob([HTML],{type:"text/html"}));}
function createCSSObjectURL(css){return URL.createObjectURL(new Blob([css],{type:"text/css"}));}
function __createObjectURL(type,content){if(false!==frdl.strpos(type,'script')){return frdl.createJavascriptObjectURL(content);}
return URL.createObjectURL(new Blob([content],{type:type}));}
function dashToCamel(dash){return dash.indexOf('-')<0?dash:dash.replace(/-[a-z]/g,function(m){return m[1].toUpperCase();});}
function camelToDash(camel){return camel.replace(/([A-Z])/g,'-$1').toLowerCase();}
function dechex(number){if(number<0){number=0xFFFFFFFF+number+1;}
return parseInt(number,10).toString(16);}
function hexdec(hexString){hexString=(hexString+'').replace(/[^a-f0-9]/gi,'');return parseInt(hexString,16);}
function stripslashes(str){
/*!       discuss at: http://locutus.io/php/stripslashes/ */
return(str+'').replace(/\\(.?)/g,function(s,n1){switch(n1){case'\\':return'\\';case'0':return'\u0000';case'':return'';default:return n1;}});}
function ucfirst(str){str+='';var f=str.charAt(0).toUpperCase();return f+str.substr(1);}
return frdl;});
/*! $63 main */
define('main',['require','exports','module','feature','EventEmitter','process','idle'],function(require,exports,module,feature,EventEmitter,process,jQueryIdle){(function(onAfterMain,onNextTick){'use strict';require(['feature!STAGE'],function(stage){'use strict';require([stage.main],function(main){if(0<frdl.debug.mode())console.log('main inner',main,require,exports,module);exports=module.exports=main;main.clearContext=function(name){require.undef(name);return this;};main.prepareContext=function(opts){if('string'===typeof opts){opts={name:opts,config:arguments[1],from:arguments[2],register:arguments[3]};}
if('undefined'===typeof opts||'undefined'===typeof opts.name||'string'!==typeof opts.name)throw'opts.name must be string in prepareContext';var conf=main.clone(require.s.contexts._.config);if(require.defined(opts.name)){conf=require.s.contexts._.defined[opts.name].config;}
if('undefined'!==typeof opts.from){if('undefined'===typeof require.s.contexts[opts.from]){conf=main.clone(require.s.contexts._.defined[opts.from].config);}else{conf=main.clone(require.s.contexts[opts.from].config);}
conf.runInContext=opts.from;}
if('undefined'!==typeof opts.config){var k;for(k in opts.config){conf[k]=main.clone(opts.config[k]);}}
var newModuleContext=requirejs.s.newContext(opts.name);newModuleContext.config=main.clone(conf);newModuleContext.name=opts.name;if('undefined'!==typeof opts.register&&!!opts.register){require.s.contexts[opts.name]=newModuleContext;}
return newModuleContext;};onAfterMain(onNextTick);});});}(function onAfterMain(onNextTick){require(['bootstack.ui'],function(bootUI){bootUI(process,function(){if(process.env.DEBUG)console.log('Trigger bootUI goto onNextTick...');var UI=frdl.UI;frdl.angularBootstrapable.ready(function(){frdl.UI.load();frdl.UI.Compile();process.nextTick(function(){onNextTick(process);});});});});},function onNextTick(process){console.log('powered by frdl.js @'+Webfan.hps.scriptengine.server.host+' : '+Webfan.hps.scriptengine.hash+' : '+Webfan.hps.scriptengine.build);process.once('idle',function(){if(process.env.DEBUG)console.log('Idle->NextTick!');frdl.NextTick(process);});}));});
/*! $64 ./start.js */
/*! @@_BEGIN_RUN_@@ */
require(['process','EventEmitter','Webfan'],function(process,EventEmitter,Webfan){if('undefined'!==typeof console&&'undefined'===typeof console.deprecated){console.deprecated=function(){console.warn('Deprecated: ',arguments);};}
if('undefined'===typeof require.state){(function(){var EvEmitter=null;Object.defineProperty(require,'state',{'get':function(){if(null===EvEmitter){EvEmitter=new EventEmitter;}
return EvEmitter;}});}());}
require(['amd-loader','webfan/bootcache','webfan/frdl-jQuery','ieee754','base64-js','buffer','querystring','path','url','implementations','feature/feature','webfan/overload','vm','filer','fs'],function(){require(['main'],function(main){});});});
/*! @@_END_RUN_@@ */
/*! @@_BEGIN_HPS_MODULES_@@ */
require(["process"],function(process){process.once("before.angularBootstrap",function(modules){require(["http://domainundhomepagespeicher.de/cdn/application/webfan/node_modules/webfan/homepagesystem.app?module=1547&app=com.webfan.webshop.articles&version=1.12908.dcd0fcc4f2f8657da5ea322d9e3febad7ec3e2e3&file=view.js"],function(ShopArticles){});});});
/*! @@_END_HPS_MODULES_@@ */